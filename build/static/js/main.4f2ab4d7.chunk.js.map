{"version":3,"sources":["ic/ext.did.js","ic/hzld.did.js","ic/ledger.did.js","util/RosettaApi.js","ic/ledger.js","components/Nav.js","components/Sidebar.js","components/Footer.js","components/Send.js","components/Cycles.js","components/Balance.js","components/Balances.js","components/Account.js","components/Lockscreen.js","img/ii.png","components/Login.js","img/pk.png","App.js","index.js"],"names":["IDL","TokenIdentifier","Text","AccountIdentifier","User","Variant","Principal","BalanceRequest","Record","Balance","Nat","CommonError_2","BalanceResponse","Balance_2","Extension","TokenIdentifier_2","Metadata","Nat8","Opt","Vec","CommonError","Result_3","Result_2","Memo","SubAccount","TransferRequest","Bool","TransferResponse","Null","Service","Func","OperatorAction","OperatorRequest","Tuple","OperatorResponse","Duration","Nat64","Nat32","ArchiveOptions","ICPTs","AccountBalanceArgs","BlockHeight","NotifyCanisterArgs","TimeStamp","SendArgs","JSONbig","jsonBigint","strict","RosettaErrorType","Object","freeze","NotFound","Timeout","NetworkError","RosettaError","message","status","errorType","Error","Transaction","rosettaTransaction","blockIndex","this","hash","transaction_identifier","timestampMs","metadata","timestamp","div","toNumber","Date","operations","length","type","account1Address","account","address","amount","BigNumber","value","isZero","negated","account2Address","fee","memo","RosettaApi","axios","create","baseURL","method","transformRequest","data","stringify","transformResponse","parse","headers","networkIdentifier","networksList","then","res","network_identifiers","find","blockchain","accountAddress","a","accountBalanceByAddress","response","balances","isAxiosError","undefined","networkStatus","current_block_identifier","index","transactionHash","transactionsByHash","responseTransactions","transactions","transaction","block_identifier","limit","maxBlockIndex","offset","Math","max","transactionCount","min","i","getTransactionByBlock","push","transactionsByAccount","Promise","all","map","blockTransaction","reverse","blockByIndex","block","url","request","network_identifier","account_identifier","IDENTITY","API","AUTH","AGENT","sjcl","require","bip39","pbkdf2","CMINTINGCANISTER","principalToAccountIdentifier","p","s","padding","Buffer","array","Uint8Array","fromText","toBlob","getSubAccountArray","sha224","checksum","to32bits","getCrc32","array2","toHexString","Array","isArray","concat","fill","from32bits","ba","num","b","ArrayBuffer","DataView","setUint32","from","byteArray","byte","toString","slice","join","fromHexString","hex","substr","bytes","c","parseInt","mnemonicToId","mnemonic","seed","mnemonicToSeedSync","splice","Ed25519KeyIdentity","generate","decodeTokenId","tid","canister","fromBlob","toText","getCyclesTopupSubAccount","canisterId","pb","constructUser","u","isHex","h","test","init","AuthClient","getIdentity","id","initAPI","HttpAgent","host","identity","window","Actor","createActor","ledgerIDL","agent","principal","getPrincipal","HZLD_CID","_transferTokens_hzld","to","decimals","resolve","reject","_api","hzldIDL","args","transfer","ok","err","catch","rosettaApi","ICPLedger","setup","o","login","identityProvider","onSuccess","localStorage","setItem","password","e","d","encrypt","btoa","_em","load","t","getItem","unlock","tl","atob","decrypt","lock","logout","removeItem","clear","p2aid","isAuthenticated","validateMnemonic","generateMnemonic","getBalance","aid","getAccountBalance","Number","getTokenBalance","cid","getBalanceInsecure","bal","tdec","extIDL","balance","r","getTokenMetadata","getTransactions","getTransactionsByAccount","ts","_ts","_t","from_sub","BigInt","send_dfx","notify","to_sub","e8s","notify_dfx","transferAndNotify","console","log","transferTokens","JSON","convertCycles","notifyCycles","blockHeight","_wfn","CustomToggle","React","forwardRef","ref","children","onClick","href","preventDefault","copyTextToClipboard","text","navigator","clipboard","writeText","error","textArea","document","createElement","style","top","left","position","body","appendChild","focus","select","msg","execCommand","removeChild","fallbackCopyTextToClipboard","props","useState","warningDialog","_warningDialog","warningText","_warningText","warning","f","className","target","icon","faBars","Dropdown","alignRight","Toggle","as","menuAlign","pp","split","compressPrincipal","Menu","Item","lockWallet","Divider","clearWallet","Dialog","open","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","variant","Blockie","src","makeBlockie","Component","connectionTypes","accounts","_accounts","connectionType","_connectionType","useEffect","changeAccount","currentAccount","name","addAccount","faPlus","MINFEE","toaddress","_toaddress","_amount","_fee","_memo","showAdvanced","_showAdvanced","showPopup","_showPopup","popupTitle","_popupTitle","popupText","_popupText","confirm","_confirm","hideLoader","loader","renderError","currentToken","Alert","htmlFor","onChange","placeholder","isNaN","currentBalance","aria-describedby","symbol","compressAddress","send","canisterid","_canisterid","cycles","selected","clickEv","token","price","showToken","_showToken","tokenId","_tokenId","changeToken","display","TextField","autoFocus","margin","label","fullWidth","event","addToken","m","fungible","currentAccountName","accountName","_accountName","show","setShow","handleClose","handleShow","OverlayTrigger","trigger","rootClose","placement","delay","hide","overlay","Tooltip","faCopy","align","faEllipsisV","onClose","updateName","useStyles","makeStyles","root","minWidth","bullet","transform","title","fontSize","pos","marginBottom","showIIDialog","_showIIDialog","showPKDialog","_showPKDialog","dmnemonic","_dmnemonic","_mnemonic","_password","cpassword","_cpassword","key","setKey","stage","_stage","classes","rel","Card","CardContent","iiimage","ll","width","Tabs","activeKey","onSelect","k","Tab","eventKey","FormControl","height","Form","Group","Label","Control","alert","_defaultDb","appData","UNLOCKED","ACTIVE","INTV","initDb","_b","_a","updateDb","updatedDb","loaderCb","App","_currentAccount","_currentToken","_balances","_currentAccountName","unlocked","_unlocked","active","_active","isLoaderActive","_isLoaderActive","showError","_showError","errorText","_errorText","fetchAllData","j","arr","includes","fn","clearInterval","numf","n","toFixed","replace","checkLoad","setTimeout","setInterval","spinner","Nav","Sidebar","Account","v","setAccounts","deleteAccount","Balances","findIndex","x","defaultActiveKey","relative","autoUpdate","date","Send","Cycles","Footer","Lockscreen","Login","tc","assign","newDb","ReactDOM","render","getElementById","addEventListener","sidebarToggle","querySelector","classList","toggle","contains"],"mappings":"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","file":"static/js/main.4f2ab4d7.chunk.js","sourcesContent":["export default ({ IDL }) => {\n  const TokenIdentifier = IDL.Text;\n  const AccountIdentifier_2 = IDL.Text;\n  const AccountIdentifier = AccountIdentifier_2;\n  const User = IDL.Variant({\n    'principal' : IDL.Principal,\n    'address' : AccountIdentifier,\n  });\n  const BalanceRequest_2 = IDL.Record({\n    'token' : TokenIdentifier,\n    'user' : User,\n  });\n  const BalanceRequest = BalanceRequest_2;\n  const Balance = IDL.Nat;\n  const CommonError_2 = IDL.Variant({\n    'InvalidToken' : TokenIdentifier,\n    'Other' : IDL.Text,\n  });\n  const Result_4 = IDL.Variant({ 'ok' : Balance, 'err' : CommonError_2 });\n  const BalanceResponse_2 = Result_4;\n  const BalanceResponse = BalanceResponse_2;\n  const Balance_2 = Balance;\n  const Extension_2 = IDL.Text;\n  const Extension = Extension_2;\n  const TokenIdentifier_2 = TokenIdentifier;\n  const Metadata_2 = IDL.Variant({\n    'fungible' : IDL.Record({\n      'decimals' : IDL.Nat8,\n      'metadata' : IDL.Opt(IDL.Vec(IDL.Nat8)),\n      'name' : IDL.Text,\n      'symbol' : IDL.Text,\n    }),\n    'nonfungible' : IDL.Record({ 'metadata' : IDL.Opt(IDL.Vec(IDL.Nat8)) }),\n  });\n  const Metadata = Metadata_2;\n  const CommonError = CommonError_2;\n  const Result_3 = IDL.Variant({ 'ok' : Metadata, 'err' : CommonError });\n  const Result_2 = IDL.Variant({ 'ok' : Balance_2, 'err' : CommonError });\n  const Memo = IDL.Vec(IDL.Nat8);\n  const SubAccount_2 = IDL.Vec(IDL.Nat8);\n  const SubAccount = SubAccount_2;\n  const TransferRequest_2 = IDL.Record({\n    'to' : User,\n    'fee' : Balance,\n    'token' : TokenIdentifier,\n    'notify' : IDL.Bool,\n    'from' : User,\n    'memo' : Memo,\n    'subaccount' : IDL.Opt(SubAccount),\n    'amount' : Balance,\n  });\n  const TransferRequest = TransferRequest_2;\n  const Result = IDL.Variant({\n    'ok' : Balance,\n    'err' : IDL.Variant({\n      'CannotNotify' : AccountIdentifier,\n      'InsufficientBalance' : IDL.Null,\n      'InvalidToken' : TokenIdentifier,\n      'Rejected' : IDL.Null,\n      'Unauthorized' : AccountIdentifier,\n      'Other' : IDL.Text,\n    }),\n  });\n  const TransferResponse_2 = Result;\n  const TransferResponse = TransferResponse_2;\n  return IDL.Service({\n    'balance' : IDL.Func([BalanceRequest], [BalanceResponse], ['query']),\n    'balance_secure' : IDL.Func([BalanceRequest], [BalanceResponse], []),\n    'extensions' : IDL.Func([], [IDL.Vec(Extension)], ['query']),\n    'extensions_secure' : IDL.Func([], [IDL.Vec(Extension)], []),\n    'fee' : IDL.Func([], [Balance_2], ['query']),\n    'metadata' : IDL.Func([TokenIdentifier_2], [Result_3], ['query']),\n    'metadata_secure' : IDL.Func([TokenIdentifier_2], [Result_3], []),\n    'supply' : IDL.Func([TokenIdentifier_2], [Result_2], ['query']),\n    'supply_secure' : IDL.Func([TokenIdentifier_2], [Result_2], []),\n    'transfer' : IDL.Func([TransferRequest], [TransferResponse], []),\n  });\n};\nexport const init = ({ IDL }) => { return []; };","export default ({ IDL }) => {\r\n  const User = IDL.Principal;\r\n  const BalanceRequest = IDL.Record({ 'user' : User });\r\n  const Balance = IDL.Nat;\r\n  const Metadata = IDL.Vec(IDL.Nat8);\r\n  const TransferRequest = IDL.Record({\r\n    'to' : User,\r\n    'metadata' : IDL.Opt(Metadata),\r\n    'from' : User,\r\n    'amount' : Balance,\r\n  });\r\n  const Result_2 = IDL.Variant({\r\n    'ok' : IDL.Null,\r\n    'err' : IDL.Variant({\r\n      'InsufficientBalance' : IDL.Null,\r\n      'InvalidSource' : User,\r\n      'Unauthorized' : IDL.Null,\r\n    }),\r\n  });\r\n  const TransferResponse = Result_2;\r\n  const OperatorAction = IDL.Variant({\r\n    'removeOperator' : IDL.Null,\r\n    'setOperator' : IDL.Null,\r\n  });\r\n  const OperatorRequest = IDL.Record({\r\n    'owner' : User,\r\n    'operators' : IDL.Vec(IDL.Tuple(User, OperatorAction)),\r\n  });\r\n  const Result = IDL.Variant({\r\n    'ok' : IDL.Null,\r\n    'err' : IDL.Variant({ 'Unauthorized' : IDL.Null, 'InvalidOwner' : User }),\r\n  });\r\n  const OperatorResponse = Result;\r\n  return IDL.Service({\r\n    'getBalance' : IDL.Func([BalanceRequest], [IDL.Opt(Balance)], []),\r\n    'getBalanceInsecure' : IDL.Func(\r\n        [BalanceRequest],\r\n        [IDL.Opt(Balance)],\r\n        ['query'],\r\n      ),\r\n    'getCommunityChestValueInsecure' : IDL.Func(\r\n        [],\r\n        [IDL.Opt(IDL.Nat)],\r\n        ['query'],\r\n      ),\r\n    'getInfo' : IDL.Func(\r\n        [],\r\n        [\r\n          IDL.Record({\r\n            'balance' : IDL.Nat,\r\n            'maxLiveSize' : IDL.Nat,\r\n            'heap' : IDL.Nat,\r\n            'size' : IDL.Nat,\r\n          }),\r\n        ],\r\n        ['query'],\r\n      ),\r\n    'getNumberOfAccounts' : IDL.Func([], [IDL.Nat], []),\r\n    'getTokenInfo' : IDL.Func(\r\n        [],\r\n        [\r\n          IDL.Record({\r\n            'fee' : IDL.Nat,\r\n            'totalMinted' : IDL.Nat,\r\n            'totalSupply' : IDL.Nat,\r\n            'totalTransactions' : IDL.Nat,\r\n          }),\r\n        ],\r\n        ['query'],\r\n      ),\r\n    'getTotalMinted' : IDL.Func([], [IDL.Nat], []),\r\n    'mint' : IDL.Func([IDL.Principal, IDL.Nat], [], []),\r\n    'transfer' : IDL.Func([TransferRequest], [TransferResponse], []),\r\n    'updateOperator' : IDL.Func(\r\n        [IDL.Vec(OperatorRequest)],\r\n        [OperatorResponse],\r\n        [],\r\n      ),\r\n  });\r\n};\r\nexport const init = ({ IDL }) => { return []; };","export default ({ IDL }) => {\r\n  const AccountIdentifier = IDL.Text;\r\n  const Duration = IDL.Record({ 'secs' : IDL.Nat64, 'nanos' : IDL.Nat32 });\r\n  const ArchiveOptions = IDL.Record({\r\n    'max_message_size_bytes' : IDL.Opt(IDL.Nat32),\r\n    'node_max_memory_size_bytes' : IDL.Opt(IDL.Nat32),\r\n    'controller_id' : IDL.Principal,\r\n  });\r\n  const ICPTs = IDL.Record({ 'e8s' : IDL.Nat64 });\r\n  const LedgerCanisterInitPayload = IDL.Record({\r\n    'send_whitelist' : IDL.Vec(IDL.Tuple(IDL.Principal)),\r\n    'minting_account' : AccountIdentifier,\r\n    'transaction_window' : IDL.Opt(Duration),\r\n    'max_message_size_bytes' : IDL.Opt(IDL.Nat32),\r\n    'archive_options' : IDL.Opt(ArchiveOptions),\r\n    'initial_values' : IDL.Vec(IDL.Tuple(AccountIdentifier, ICPTs)),\r\n  });\r\n  const AccountBalanceArgs = IDL.Record({ 'account' : AccountIdentifier });\r\n  const SubAccount = IDL.Vec(IDL.Nat8);\r\n  const BlockHeight = IDL.Nat64;\r\n  const NotifyCanisterArgs = IDL.Record({\r\n    'to_subaccount' : IDL.Opt(SubAccount),\r\n    'from_subaccount' : IDL.Opt(SubAccount),\r\n    'to_canister' : IDL.Principal,\r\n    'max_fee' : ICPTs,\r\n    'block_height' : BlockHeight,\r\n  });\r\n  const Memo = IDL.Nat64;\r\n  const TimeStamp = IDL.Record({ 'timestamp_nanos' : IDL.Nat64 });\r\n  const SendArgs = IDL.Record({\r\n    'to' : AccountIdentifier,\r\n    'fee' : ICPTs,\r\n    'memo' : Memo,\r\n    'from_subaccount' : IDL.Opt(SubAccount),\r\n    'created_at_time' : IDL.Opt(TimeStamp),\r\n    'amount' : ICPTs,\r\n  });\r\n  return IDL.Service({\r\n    'account_balance_dfx' : IDL.Func([AccountBalanceArgs], [ICPTs], ['query']),\r\n    'notify_dfx' : IDL.Func([NotifyCanisterArgs], [], []),\r\n    'send_dfx' : IDL.Func([SendArgs], [BlockHeight], []),\r\n  });\r\n};\r\nexport const init = ({ IDL }) => {\r\n  const AccountIdentifier = IDL.Text;\r\n  const Duration = IDL.Record({ 'secs' : IDL.Nat64, 'nanos' : IDL.Nat32 });\r\n  const ArchiveOptions = IDL.Record({\r\n    'max_message_size_bytes' : IDL.Opt(IDL.Nat32),\r\n    'node_max_memory_size_bytes' : IDL.Opt(IDL.Nat32),\r\n    'controller_id' : IDL.Principal,\r\n  });\r\n  const ICPTs = IDL.Record({ 'e8s' : IDL.Nat64 });\r\n  const LedgerCanisterInitPayload = IDL.Record({\r\n    'send_whitelist' : IDL.Vec(IDL.Tuple(IDL.Principal)),\r\n    'minting_account' : AccountIdentifier,\r\n    'transaction_window' : IDL.Opt(Duration),\r\n    'max_message_size_bytes' : IDL.Opt(IDL.Nat32),\r\n    'archive_options' : IDL.Opt(ArchiveOptions),\r\n    'initial_values' : IDL.Vec(IDL.Tuple(AccountIdentifier, ICPTs)),\r\n  });\r\n  return [LedgerCanisterInitPayload];\r\n};","/**\r\n * @file RosettaApi\r\n * @copyright Copyright (c) 2018-2021 Dylan Miller and dfinityexplorer contributors\r\n * @license MIT License\r\n */\r\n\r\nimport axios from 'axios';\r\nimport BigNumber from 'bignumber.js';\r\nimport jsonBigint from 'json-bigint';\r\n\r\n// Set useNativeBigInt to true and use BigInt once BigInt is widely supported.\r\nconst JSONbig = jsonBigint({ strict: true });\r\n\r\n/**\r\n * Types of Rosetta API errors.\r\n */\r\nexport const RosettaErrorType = Object.freeze({\r\n  NotFound: 0,\r\n  Timeout: 1,\r\n  NetworkError: 2\r\n});\r\n\r\n/**\r\n * Describes the cause of a Rosetta API error.\r\n */\r\nexport class RosettaError extends Error {\r\n  /**\r\n   * Create a RosettaError.\r\n   * @param {String} message An error message describing the error.\r\n   * @param {Number} status number The HTTP response status.\r\n   */\r\n  constructor(message, status) {\r\n    super(message);\r\n    switch (status) {\r\n    case 408:\r\n      this.errorType = RosettaErrorType.Timeout;\r\n      break;\r\n    case 500:\r\n      this.errorType = RosettaErrorType.NotFound;\r\n      break;\r\n    default:\r\n      this.errorType = RosettaErrorType.NetworkError;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Contains information about a transaction.\r\n */\r\nexport class Transaction  {\r\n  /**\r\n   * Create a Transaction.\r\n   * @param {Any} rosettaTransaction The Rosetta Transaction object of the transaction.\r\n   * @param {Number} blockIndex The index of the block containing the transaction.\r\n   * milliseconds since the Unix Epoch.\r\n   */\r\n  constructor(rosettaTransaction, blockIndex) {\r\n    this.blockIndex = blockIndex;\r\n    this.hash = rosettaTransaction.transaction_identifier.hash;\r\n    const timestampMs = rosettaTransaction.metadata.timestamp.div(1000000).toNumber();\r\n    this.timestamp = new Date(timestampMs);\r\n    const operations = rosettaTransaction.operations;\r\n    if (operations.length >= 1) { \r\n      this.type = operations[0].type;\r\n      this.status = operations[0].status;\r\n      this.account1Address = operations[0].account.address;\r\n      this.amount = new BigNumber(operations[0].amount.value);\r\n      // Negate amount for TRANSACTION and BURN, so that they appear in the UI as positive values.\r\n      if ((operations[0].type === 'TRANSACTION' || operations[0].type === 'BURN') &&\r\n        !this.amount.isZero()) {\r\n        this.amount = this.amount.negated();\r\n      }\r\n    }\r\n    else {\r\n      this.type = '';\r\n      this.status = '';\r\n      this.account1Address = '';\r\n      this.amount = new BigNumber(0);\r\n    }\r\n    if (operations.length >= 2 && operations[1].type === 'TRANSACTION')\r\n      this.account2Address = operations[1].account.address;\r\n    else\r\n      this.account2Address = '';\r\n    if (operations.length >= 3 && operations[2].type === 'FEE')\r\n      this.fee = new BigNumber(-operations[2].amount.value);\r\n    else\r\n      this.fee = new BigNumber(0);\r\n    this.memo = new BigNumber(rosettaTransaction.metadata.memo);\r\n  }\r\n};\r\n\r\n/**\r\n * Manages Rosetta API calls.\r\n */\r\nexport default class RosettaApi {\r\n  /**\r\n   * Create a RosettaApi.\r\n   */\r\n  constructor() {\r\n    this.axios = axios.create({\r\n      baseURL: 'https://rosetta-api.internetcomputer.org/',\r\n      method: 'post',\r\n      transformRequest: (data) => JSONbig.stringify(data),\r\n      transformResponse: (data) => JSONbig.parse(data),\r\n      headers: { 'Content-Type': 'application/json;charset=utf-8' }\r\n    });\r\n\r\n    this.networkIdentifier = this.networksList().then(res =>\r\n      res.network_identifiers.find(\r\n        networkIdentifier => networkIdentifier.blockchain === 'Internet Computer'\r\n      )\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Return the ICP account balance of the specified account.\r\n   * @param {string} accountAddress The account address to get the ICP balance of.\r\n   * @returns {Promise<BigNumber|RosettaError>} The ICP account balance of the specified account, or\r\n   * a RosettaError for error.\r\n   */\r\n  async getAccountBalance(accountAddress) {\r\n    try {\r\n      const response = await this.accountBalanceByAddress(accountAddress);\r\n      return new BigNumber(response.balances[0].value);\r\n    }\r\n    catch (error) {\r\n      //console.log(error);\r\n      return new RosettaError(\r\n        error.message, axios.isAxiosError(error) ? error?.response?.status : undefined);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the latest block index.\r\n   * @returns {Promise<number>} The latest block index, or a RosettaError for error.\r\n   */\r\n  async getLastBlockIndex() {\r\n    try {\r\n      const response = await this.networkStatus();\r\n      return response.current_block_identifier.index;\r\n    }\r\n    catch (error) {\r\n      //console.log(error);\r\n      return new RosettaError(\r\n        error.message, axios.isAxiosError(error) ? error?.response?.status : undefined);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the Transaction object with the specified hash.\r\n   * @param {string} transactionHash The hash of the transaction to return.\r\n   * @returns {Transaction|null} The Transaction object with the specified hash, or a RosettaError\r\n   * for error.\r\n   */\r\n  async getTransaction(transactionHash) {\r\n    try {\r\n      const responseTransactions = await this.transactionsByHash(transactionHash);\r\n      if (responseTransactions.transactions.length === 0)\r\n        return new RosettaError('Transaction not found.', 500);\r\n\r\n      return new Transaction(\r\n        responseTransactions.transactions[0].transaction,\r\n        responseTransactions.transactions[0].block_identifier.index);\r\n    }\r\n    catch (error) {\r\n      //console.log(error);\r\n      return new RosettaError(\r\n        error.message, axios.isAxiosError(error) ? error?.response?.status : undefined);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return an array of Transaction objects based on the specified parameters, or an empty array if\r\n   * none found.\r\n   * @param limit {number} The maximum number of transactions to return in one call.\r\n   * @param maxBlockIndex {number} The block index to start at. If not specified, start at current\r\n   * block.\r\n   * @param offset {number} The offset from maxBlockIndex to start returning transactions.\r\n   * @returns {Promise<Array<Transaction>|null>} An array of Transaction objects, or a RosettaError\r\n   * for error.\r\n   */\r\n  async getTransactions(limit, maxBlockIndex, offset) {\r\n    try {\r\n      // This function can be simplified once /search/transactions supports using the properties\r\n      // max_block, offset, and limit.\r\n      let blockIndex;\r\n      if (maxBlockIndex)\r\n        blockIndex = maxBlockIndex;\r\n      else {\r\n        // Get the latest block index.\r\n        const response = await this.networkStatus();\r\n        blockIndex = response.current_block_identifier.index;\r\n      }\r\n      if (offset)\r\n        blockIndex = Math.max(blockIndex - offset, -1);\r\n      const transactionCount = Math.min(limit, blockIndex + 1);\r\n      const transactions = [];\r\n      for (let i = 0; i < transactionCount; i++)\r\n        transactions.push(await this.getTransactionByBlock(blockIndex - i));\r\n      return transactions;\r\n    }\r\n    catch (error) {\r\n      //console.log(error);\r\n      return new RosettaError(\r\n        error.message, axios.isAxiosError(error) ? error?.response?.status : undefined);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return an array of Transaction objects based on the specified parameters, or an empty array if\r\n   * none found.\r\n   * @param {string} accountAddress The account address to get the transactions of.\r\n   * @returns {Promise<Array<Transaction>|null>} An array of Transaction objects, or a RosettaError\r\n   * for error.\r\n   */\r\n  async getTransactionsByAccount(accountAddress) {\r\n    try {\r\n      const response = await this.transactionsByAccount(accountAddress);\r\n      const transactions = await Promise.all(\r\n        response.transactions.map((blockTransaction) => {\r\n          return new Transaction(\r\n            blockTransaction.transaction, blockTransaction.block_identifier.index);\r\n        })\r\n      );\r\n      return transactions.reverse();\r\n    }\r\n    catch (error) {\r\n      //console.log(error);\r\n      return new RosettaError(\r\n        error.message, axios.isAxiosError(error) ? error?.response?.status : undefined);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the Transaction corresponding to the specified block index (i.e., block height).\r\n   * @param {number} blockIndex The index of the block to return the Transaction for.\r\n   * @returns {Promise<Transaction>} The Transaction corresponding to the specified block index.\r\n   * @private\r\n   */\r\n  async getTransactionByBlock(blockIndex) {\r\n    const response = await this.blockByIndex(blockIndex);\r\n    return new Transaction(response.block.transactions[0], blockIndex);\r\n  }\r\n\r\n  /**\r\n   * Perform the specified http request and return the response data.\r\n   * @param {string} url The server URL that will be used for the request.\r\n   * @param {object} data The data to be sent as the request body.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async request(url, data) {\r\n    return (await this.axios.request({ url: url, data: data })).data;\r\n  }\r\n\r\n  /**\r\n   * Return the /network/list response, containing a list of NetworkIdentifiers that the Rosetta\r\n   * server supports.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  networksList() {\r\n    return this.request('/network/list', {});\r\n  }\r\n\r\n  /**\r\n   * Return /network/status response, describing the current status of the network.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async networkStatus() {\r\n    const networkIdentifier = await this.networkIdentifier;\r\n    return this.request(\r\n      '/network/status', {\r\n        network_identifier: networkIdentifier\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Return the /account/balance response for the specified account.\r\n   * @param {string} accountAddress The account address to get the balance of.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async accountBalanceByAddress(accountAddress) {\r\n    const networkIdentifier = await this.networkIdentifier;\r\n    return this.request(\r\n      '/account/balance', {\r\n        network_identifier: networkIdentifier,\r\n        account_identifier: {address: accountAddress}\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Return the /block response for the block corresponding to the specified block index (i.e.,\r\n   * block height).\r\n   * @param {number} blockIndex The index of the block to return.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async blockByIndex(blockIndex) {\r\n    const networkIdentifier = await this.networkIdentifier;\r\n    return this.request(\r\n      '/block', {\r\n        network_identifier: networkIdentifier,\r\n        block_identifier: {index: blockIndex}\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Return the /search/transactions response for transactions containing an operation that affects\r\n   * the specified account.\r\n   * @param {string} accountAddress The account address to get the transactions of.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async transactionsByAccount(accountAddress) {\r\n    const networkIdentifier = await this.networkIdentifier;\r\n    return this.request(\r\n      '/search/transactions', {\r\n        network_identifier: networkIdentifier,\r\n        account_identifier: {address: accountAddress}\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Return the /search/transactions response for transactions (only one) with the specified hash.\r\n   * @param {string} transactionHash The hash of the transaction to return.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async transactionsByHash(transactionHash) {\r\n    const networkIdentifier = await this.networkIdentifier;\r\n    return this.request(\r\n      '/search/transactions', {\r\n        network_identifier: networkIdentifier,\r\n        transaction_identifier: {hash: transactionHash}\r\n      }\r\n    );\r\n  }\r\n}","/* global BigInt */\nimport { Actor, HttpAgent, Principal } from \"@dfinity/agent\";  \nimport { Ed25519KeyIdentity } from \"@dfinity/identity\";\nimport { AuthClient } from \"@dfinity/auth-client\";\nimport ledgerIDL from './ledger.did.js';\nimport hzldIDL from './hzld.did.js'; //hardcode to hzld...\nimport extIDL from './ext.did.js';\nimport { getCrc32 } from '@dfinity/agent/lib/esm/utils/getCrc';\nimport { sha224 } from '@dfinity/agent/lib/esm/utils/sha224';\nimport RosettaApi from '../util/RosettaApi.js';\n//Helpers\nconst sjcl = require('sjcl')\nconst bip39 = require('bip39')\nconst pbkdf2 = require(\"pbkdf2\");\nconst LEDGERCANISTER = \"ryjl3-tyaaa-aaaaa-aaaba-cai\";\r\nconst CMINTINGCANISTER = \"rkp4c-7iaaa-aaaaa-aaaca-cai\";\nconst principalToAccountIdentifier = (p, s) => {\n  const padding = Buffer(\"\\x0Aaccount-id\");\n  const array = new Uint8Array([\n      ...padding,\n      ...Principal.fromText(p).toBlob(),\n      ...getSubAccountArray(s)\n  ]);\n  const hash = sha224(array);\n  const checksum = to32bits(getCrc32(hash));\n  const array2 = new Uint8Array([\n      ...checksum,\n      ...hash\n  ]);\n  return toHexString(array2);\n};\n\r\nconst getSubAccountArray = (s) => {\r\n  if (Array.isArray(s)){\r\n    return s.concat(Array(32-s.length).fill(0));\r\n  } else {\r\n    //32 bit number only\r\n    return Array(28).fill(0).concat(to32bits(s ? s : 0))\n  }\n};\nconst from32bits = ba => {\n  var value;\n  for (var i = 0; i < 4; i++) {\n    value = (value << 8) | ba[i];\n  }\n  return value;\n}\nconst to32bits = num => {\n  let b = new ArrayBuffer(4);\n  new DataView(b).setUint32(0, num);\n  return Array.from(new Uint8Array(b));\n}\nconst toHexString = (byteArray)  =>{\n  return Array.from(byteArray, function(byte) {\n    return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n  }).join('')\n}\nconst fromHexString = (hex) => {\n  if (hex.substr(0,2) == \"0x\") hex = hex.substr(2);\n  for (var bytes = [], c = 0; c < hex.length; c += 2)\n  bytes.push(parseInt(hex.substr(c, 2), 16));\n  return bytes;\n}\nconst mnemonicToId = (mnemonic) => {\n  var seed = bip39.mnemonicToSeedSync(mnemonic);\n  seed = Array.from(seed);\n  seed = seed.splice(0, 32);\n  seed = new Uint8Array(seed);\n  return Ed25519KeyIdentity.generate(seed);\n}\nconst encrypt = (mnemonic, principal, password) => {\n  return new Promise((resolve, reject) => {\n    pbkdf2.pbkdf2(password, principal, 30000, 512, 'sha512', (e, d) => {\n      if (e) return reject(e);\n      resolve(sjcl.encrypt(d.toString(), btoa(mnemonic)));\n    });\n  });\n}\nconst decrypt = (data, principal, password) => {\n  return new Promise((resolve, reject) => {\n    pbkdf2.pbkdf2(password, principal, 30000, 512, 'sha512', (e, d) => {\n      if (e) return reject(e);\n      resolve(atob(sjcl.decrypt(d.toString(), data)));\n    });\n  });\n}\nconst tokenIdentifier = (principal, index) => {\n  const padding = Buffer(\"\\x0Atid\");\n  const array = new Uint8Array([\n      ...padding,\n      ...Principal.fromText(principal).toBlob(),\n      ...to32bits(index),\n  ]);\n  return Principal.fromBlob(array).toText();\n};\nconst decodeTokenId = (tid) => {\n  var p = [...Principal.fromText(tid).toBlob()];\n  var padding = p.splice(0, 4);\n  if (toHexString(padding) != toHexString(Buffer(\"\\x0Atid\"))) {\n    return {\n      canister : tid\n    };\n  } else {\n    return {\n      index : from32bits(p.splice(-4)), \n      canister : Principal.fromBlob(p).toText()\n    };\n  }\n};\nconst getCyclesTopupAddress = (canisterId) => {\r\n  return principalToAccountIdentifier(CMINTINGCANISTER, getCyclesTopupSubAccount(canisterId));\r\n}\r\nconst getCyclesTopupSubAccount = (canisterId) => {\r\n  var pb = Array.from(Principal.fromText(canisterId).toBlob());\r\n  return [pb.length, ...pb];\r\n}\nconst constructUser = (u) => {\n  if (isHex(u) && u.length == 64) {\n    return { 'address' : u };\n  } else {\n    return { 'principal' : Principal.fromText(u) };\n  };\n};\nconst isHex = (h) => {\n  var regexp = /^[0-9a-fA-F]+$/;\n  return regexp.test(h);\n};\n//Initiates the API\r\nvar IDENTITY, API, AUTH, AGENT;\nconst init = async () => {\n  AUTH = await AuthClient.create();\n  var id = await AUTH.getIdentity();\n  initAPI(id);\n}\nconst initAPI = (id, type) => {\n  IDENTITY = id;\n  AGENT = new HttpAgent({\n    host: \"https://boundary.ic0.app/\",\n    identity : IDENTITY,\n  });\n  //Ledger API\r\n  window.API = API;\n  API = Actor.createActor(ledgerIDL, {agent : AGENT, canisterId : LEDGERCANISTER});\r\n  return {\n    principal : IDENTITY.getPrincipal().toString(),\n    type : type ?? 'default'\n  };\n}\n//temp for hzld support - main support is for ext\n//could create something to support non-ext standards\nconst HZLD_CID = 'qz7gu-giaaa-aaaaf-qaaka-cai';\nconst _getTokenBalance_hzld = (aid, decimals) => {\n  //ignore decimals with hzld..\n  return new Promise((resolve, reject) => {\n    var _api = Actor.createActor(hzldIDL, {agent : AGENT, canisterId : HZLD_CID});\n    var args = {\n      \"user\" : IDENTITY.getPrincipal()\n    };\n    _api.getBalanceInsecure(args).then(b => {\n      var bal = b.length == 0 ? 0 : b[0];\n      resolve(Number(bal));\n    }).catch(reject);\n  });\n};\nconst _transferTokens_hzld = (to, amount, memo, decimals) => {\n  //ignore decimals with hzld..\n  return new Promise((resolve, reject) => {\n    var _api = Actor.createActor(hzldIDL, {agent : AGENT, canisterId : HZLD_CID});\n    var args = {\n      \"to\" : Principal.fromText(to), \n      \"metadata\" : [],  //memo here maybe\n      \"from\" : IDENTITY.getPrincipal(),\n      \"amount\" : amount\n    };\n    _api.transfer(args).then(b => {\n      if (typeof b.ok != 'undefined') {          \n        resolve();\n      } else {\n        reject(b.err);\n      }\n    }).catch(reject);\n  });\n};\n\n\nconst rosettaApi = new RosettaApi();\nconst ICPLedger = {\n  init : init,\n  //When generating a new identity to use with the wallet\n  setup : (o) => { //promise\n    return new Promise((resolve, reject) => {\n      switch(o.type){\n        case \"ii\":\n          AUTH.login({\n            identityProvider: \"https://identity.ic0.app/\",\n            onSuccess: async () => {\n              var id = await AUTH.getIdentity()\n              resolve(initAPI(id, o.type));\n            },\n          });\n          break;\n        case \"private\":\n          localStorage.setItem('_m', o.mnemonic);\n          var id = mnemonicToId(o.mnemonic);\n          encrypt(o.mnemonic, id.getPrincipal().toString(), o.password).then(_em => {\n            localStorage.setItem('_em', _em);\n            resolve(initAPI(id, o.type));            \n          });\n      }\n    });\n  },\n  //Check if a stored identity is currently unlocked and ready to use. This must be called prior to any API calls as the potential user\n  load : (o) => {\n    switch(o.type){\n      case \"ii\":\n        if (IDENTITY.getPrincipal().toString() != '2vxsx-fae') {\n          return { \n            principal : IDENTITY.getPrincipal().toString(),\n            type : o.type\n          }\n        } else return false;\n        break;\n      case \"private\":\n        var t = localStorage.getItem('_m');\n        if (!t) return false;\n        var mnemonic = t;\n        var id = mnemonicToId(mnemonic);\n        return initAPI(id, o.type);\n        break;\n    }\n  },\n  \n  //Unlocked a stored identity that is currently locked\n  unlock : (o) => { //promise\n    return new Promise((resolve, reject) => {\n      var tl = ICPLedger.load(o);\n      if (tl) return resolve(tl);\n      switch(o.type){\n        case \"ii\":\n          AUTH.login({\n            identityProvider: \"https://identity.ic0.app/\",\n            onSuccess: async () => {\n              var id = await AUTH.getIdentity()\n              resolve(initAPI(id, o.type));\n            },\n          });\n          break;\n        case \"private\":\n          var t = localStorage.getItem('_em');\n          if (!t) return reject(\"No encrypted data to decrypt\");\n          decrypt(t, o.principal, o.password).then(mnemonic => {\n            localStorage.setItem('_m', mnemonic);\n            var id = mnemonicToId(mnemonic);\n            resolve(initAPI(id, o.type));\n          });\n          break;\n      }\n    });\n  },\n  //Lock and clear stored identities\n  lock : (o) => {\n    switch(o.type){\n      case \"ii\":\n          AUTH.logout();\n          initAPI(IDENTITY);\n        break;\n      case \"private\":\n          localStorage.removeItem(\"_m\");\n        break;\n    }\n  },\n  clear : (o) => {\n    switch(o.type){\n      case \"ii\":\n          AUTH.logout();\n        break;\n      case \"private\":\n          localStorage.removeItem(\"_m\");\n          localStorage.removeItem(\"_em\");\n        break;\n    }\n  },\n  \n  //Helpers\n  p2aid : principalToAccountIdentifier,\n  getIdentity : () => IDENTITY,\n  isAuthenticated : (o) => {\n    switch(o.type){\n      case \"ii\":\n          return AUTH.isAuthenticated()\n        break;\n      case \"private\":\n          return new Promise((resolve, reject) => {\n            resolve(localStorage.getItem(\"_m\") != null);\n          });\n        break;\n    }\n  },\n  validateMnemonic : bip39.validateMnemonic,\n  generateMnemonic : bip39.generateMnemonic,\n  //Ledger API\n  getBalance : (aid, decimals) => {\n    return new Promise((resolve, reject) => {\n      rosettaApi.getAccountBalance(aid).then(b => {        \n        resolve(Number(b)/(10**decimals))\n      });\n    });\n  },\n  getTokenBalance : (cid, aid, decimals) => {\n    if (cid == HZLD_CID) return _getTokenBalance_hzld(aid, decimals);\n    return new Promise((resolve, reject) => {\n      var tdec = decodeTokenId(cid);\n      var _api = Actor.createActor(extIDL, {agent : AGENT, canisterId : tdec.canister});\n      var args = {\n        \"user\" : constructUser(aid),\n        'token' : cid\n      };\n      _api.balance(args).then(r => {\n        if (typeof r.ok != 'undefined') resolve(Number(r.ok)/10**decimals)\n        else if (typeof r.err != 'undefined') reject(r.err)\n        else reject(r);\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  },\n  getTokenMetadata : (cid) => {\n    return new Promise((resolve, reject) => {\n      var tdec = decodeTokenId(cid);\n      var _api = Actor.createActor(extIDL, {agent : AGENT, canisterId : tdec.canister});\n      _api.metadata(cid).then(r => {\n        if (typeof r.ok != 'undefined') resolve(r.ok) //we want fungible in most cases....\n        else if (typeof r.err != 'undefined') reject(r.err)\n        else reject(r);\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  },\n  getTransactions : (aid, i) => {\n    return new Promise((resolve, reject) => {\n      rosettaApi.getTransactionsByAccount(aid).then(ts => {    \n        if (!Array.isArray(ts)) return;\n        var _ts = [];\n        ts.map(_t => {\n          if (_t.type != \"TRANSACTION\") return;\n          if (_t.status != \"COMPLETED\") return;\n          _ts.push({\n            from : _t.account1Address,\n            to :  _t.account2Address,\n            amount : Number(_t.amount)/(10**8),\n            fee : Number(_t.fee)/(10**8),\n            hash : _t.hash,\n            timestamp : _t.timestamp,\n          });\n        });\n        resolve(_ts);\n      });\n    });\n  },\r\n  transfer : async (to, fee, memo, from_sub, amount) => {\r\n    var args = {\r\n      \"to\" : to, \r\n      \"fee\" : { \"e8s\" : BigInt(fee*100000000) }, \r\n      \"memo\" : memo ? BigInt(memo) : 0n, \r\n      \"from_subaccount\" : [getSubAccountArray(from_sub)], \r\n      \"created_at_time\" : [], \r\n      \"amount\" : { \"e8s\" : BigInt(amount*100000000) }\r\n    };\r\n    var b = await API.send_dfx(args)\r\n    return b;\r\n  },\r\n  notify : async (block, fee, from_sub, p, to_sub) => {\r\n    var args = {\r\n      \"block_height\" : block,\r\n      \"max_fee\": {e8s: fee*100000000},\r\n      \"from_subaccount\": [getSubAccountArray(from_sub)],\r\n      \"to_subaccount\": [getSubAccountArray(to_sub)],\r\n      \"to_canister\": Principal.fromText(p)\r\n    };\r\n    await API.notify_dfx(args)\r\n  },\r\n  transferAndNotify : async (p, to_sub, fee, memo, from_sub, amount) => {\r\n    var b = await ICPLedger.transfer(principalToAccountIdentifier(p, to_sub), fee, memo, from_sub, amount);\r\n    console.log(\"New block added\", b);\r\n    await ICPLedger.notify(b, fee, from_sub, p, to_sub);\n  },\n  transferTokens : async (cid, to, fee, memo, from_sub, amount, decimals) => {\n    if (cid == HZLD_CID) return _transferTokens_hzld(to, amount, memo, decimals);\n    return new Promise((resolve, reject) => {\n      var tdec = decodeTokenId(cid);\n      var _api = Actor.createActor(extIDL, {agent : AGENT, canisterId : tdec.canister});\n      var args = {\n        'to' : constructUser(to),\n        'fee' : BigInt(fee * (10**decimals)),\n        'token' : cid,\n        'notify' : false, //hard coded for now\n        'from' : { 'address' : principalToAccountIdentifier(IDENTITY.getPrincipal().toText(), from_sub) },\n        'memo' : fromHexString(memo),\n        'subaccount' : [getSubAccountArray(from_sub)],\n        'amount' : BigInt(amount * (10**decimals))\n      };\n      console.log(args);\n      _api.transfer(args).then(b => {\n        if (typeof b.ok != 'undefined') {          \n          resolve();\n        } else {\n          console.log(b.err);\n          console.log(JSON.stringify(b.err));\n          reject(JSON.stringify(b.err));\n        }\n      }).catch(reject);\n    });\n  },\r\n  convertCycles : async (cid, fee, from_sub, amount) => {\r\n    return await ICPLedger.transferAndNotify(CMINTINGCANISTER, getCyclesTopupSubAccount(cid), fee, \"0x50555054\", from_sub, amount);\r\n  },\r\n  notifyCycles : async (blockHeight, cid, fee, from_sub) => {\r\n    await ICPLedger.notify(blockHeight, fee, from_sub, CMINTINGCANISTER, getCyclesTopupSubAccount(cid));\r\n  }\n}\r\nwindow.ICPLedger = ICPLedger;\nexport {ICPLedger};","import React, { useState } from 'react';\r\nimport { Dropdown } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nconst CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n  <a\r\n    href=\"\"\r\n    ref={ref}\r\n    onClick={(e) => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n  >\r\n    {children}\r\n    &#x25bc;\r\n  </a>\r\n));\r\nfunction fallbackCopyTextToClipboard(text) {\r\n  \r\n  var textArea = document.createElement(\"textarea\");\r\n  textArea.value = text;\r\n  \r\n  // Avoid scrolling to bottom\r\n  textArea.style.top = \"0\";\r\n  textArea.style.left = \"0\";\r\n  textArea.style.position = \"fixed\";\r\n\r\n  document.body.appendChild(textArea);\r\n  textArea.focus();\r\n  textArea.select();\r\n\r\n  try {\r\n    var successful = document.execCommand('copy');\r\n    var msg = successful ? 'successful' : 'unsuccessful';\r\n    console.log('Fallback: Copying text command was ' + msg);\r\n  } catch (err) {\r\n    console.error('Fallback: Oops, unable to copy', err);\r\n  }\r\n\r\n  document.body.removeChild(textArea);\r\n}\r\nfunction copyTextToClipboard(text) {\r\n  if (!navigator.clipboard) {\r\n    fallbackCopyTextToClipboard(text);\r\n    return;\r\n  }\r\n  navigator.clipboard.writeText(text).then(function() {\r\n    console.log('Async: Copying to clipboard was successful!');\r\n  }, function(err) {\r\n    console.error('Async: Could not copy text: ', err);\r\n  });\r\n}\r\nvar _wfn;\r\nexport default (props) => {\r\n  const [warningDialog, _warningDialog] = useState(false);\r\n  const [warningText, _warningText] = useState('');\r\n  \r\n  function copyPrincipal(){\r\n    copyTextToClipboard(props.principal);\r\n  }\r\n  function compressPrincipal(p){\r\n    if (!p) return \"\";\r\n    var pp = p.split(\"-\");\r\n    if (pp.length <= 4) return p;\r\n    else {\r\n      return pp[0] + \"-\" + pp[1].substr(0, 3) + \"...\" + pp[pp.length-3].substr(2) + \"-\" + pp[pp.length-2] + \"-\" + pp[pp.length-1];\r\n    }\r\n  }\r\n  function warning(t, f){\r\n    _warningText(t);\r\n    _wfn = f;\r\n    _warningDialog(true)\r\n  }\r\n  function wdfn(){\r\n    _wfn();\r\n    _warningDialog(false)\r\n  }\r\n  return (\r\n    <>\r\n      <nav className=\"sb-topnav navbar navbar-expand navbar-dark bg-dark\">\r\n          <a className=\"navbar-brand ps-3\"  target=\"_blank\" href=\"https://toniqlabs.com\">Stoic Wallet <small>by Toniq Labs</small></a>\r\n          <button className=\"btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0\" id=\"sidebarToggle\" href=\"#!\"><FontAwesomeIcon icon={faBars} /></button> \r\n          <ul className=\"navbar-nav ms-auto me-0 me-md-3 my-2 my-md-0\">\r\n              <li className=\"nav-item dropdown\">\r\n                  <Dropdown alignRight>\r\n                    <Dropdown.Toggle as={CustomToggle}menuAlign=\"right\">\r\n                      Logged in as {compressPrincipal(props.principal)}\r\n                    </Dropdown.Toggle>\r\n\r\n                    <Dropdown.Menu>\r\n                      <Dropdown.Item onClick={copyPrincipal}>Copy Principal</Dropdown.Item>\r\n                      <Dropdown.Item onClick={() => warning(\"Locking your wallet can help to stop unauthorized access, but private details regarding your account will still be stored on this device. If you connected using a mnenomic phrase, an ecrypted version will remain on this device.\", props.lockWallet)}>Lock Wallet</Dropdown.Item>\r\n                      <Dropdown.Divider />\r\n                      <Dropdown.Item onClick={() => warning(\"This will clear all data from this device, including any names you have given your accounts. All balances will remain and this wallet can be restored in future if you have the corresponding seed/access devices\", props.clearWallet)}>Clear Wallet</Dropdown.Item>\r\n                    </Dropdown.Menu>\r\n                  </Dropdown>\r\n              </li>\r\n          </ul>\r\n      </nav>      \r\n      <Dialog open={warningDialog} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Please read first</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>{warningText}</DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => _warningDialog(false)} variant=\"secondary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={wdfn} variant=\"primary\">\r\n            Continue\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faPlus } from '@fortawesome/free-solid-svg-icons'\r\nimport makeBlockie from 'ethereum-blockies-base64';\r\n\r\nclass Blockie extends React.Component {\r\n  render() {\r\n    return <img src={makeBlockie(this.props.address)}/>\r\n  }\r\n}\r\nconst connectionTypes = {\r\n  \"ii\" : \"Internet Identity\",\r\n  \"ledgerhq\" : \"LedgerHQ\",\r\n  \"trezor\" : \"Trezor\",\r\n  \"private\" : \"PrivateKey\",\r\n  \"metamask\" : \"Metamask\",\r\n};\r\nexport default (props) => {\r\n  const [accounts, _accounts] = useState(props.accounts);\r\n  const [connectionType, _connectionType] = useState(props.connectionType);\r\n  useEffect(() => {\r\n     _accounts(props.accounts);\r\n     _connectionType(props.connectionType);\r\n   }, [props.accounts, props.connectionType]);\r\n  return (\r\n    <div id=\"layoutSidenav_nav\">\r\n        <nav className=\"sb-sidenav accordion sb-sidenav-light\" id=\"sidenavAccordion\">\r\n            <div className=\"sb-sidenav-menu account-sidebar\">\r\n                <div className=\"nav\">\r\n                    <div className=\"sb-sidenav-menu-heading\">Accounts</div>\r\n                    {accounts.map((a, i) => {  \r\n                      return (<a key={i} onClick={() => props.changeAccount(i)} className={(props.currentAccount == i ? \"nav-link selected\" : \"nav-link\")}>\r\n                        <Blockie address={a.address} />\r\n                        {a.name}\r\n                    </a>) \r\n                  })}\r\n                  <a key={100} className=\"nav-link\" onClick={props.addAccount}><FontAwesomeIcon icon={faPlus} />&nbsp;&nbsp;Add Account</a>\r\n                </div>\r\n            </div>\r\n            <div className=\"sb-sidenav-footer\">\r\n                <div className=\"small\">Connected using:</div>\r\n                {connectionTypes[connectionType]}\r\n            </div>\r\n        </nav>\r\n    </div>\r\n  );\r\n}\r\n","export default (props) => {\r\n  return (\r\n    <footer className=\"py-4 bg-light mt-auto\">\r\n        <div className=\"container-fluid px-4\">\r\n            <div className=\"d-flex align-items-center justify-content-between small\">\r\n                <div className=\"text-muted\">Copyright &copy; Elastic Wallet</div>\r\n                <div>\r\n                    <a href=\"https://toniqlabs.com\">Developed by Toniq Labs</a>\r\n                    { /*&nbsp;&middot;&nbsp;\r\n                    <a href=\"#\">Privacy Policy</a>\r\n                    &nbsp;&middot;&nbsp;\r\n                    <a href=\"#\">Terms &amp; Conditions</a>*/ }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </footer>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\nconst MINFEE = 0.0001;\nconst TOKENMINFEE = 0;\nexport default (props) => {\n  const [toaddress, _toaddress] = useState(\"\");\n  const [amount, _amount] = useState(0);\n  const [fee, _fee] = useState(MINFEE);\n  const [memo, _memo] = useState(\"\");\n  const [showAdvanced, _showAdvanced] = useState(false);\n  const [showPopup, _showPopup] = useState(false);\n  const [popupTitle, _popupTitle] = useState('');\n  const [popupText, _popupText] = useState(\"\");\n  const [confirm, _confirm] = useState(false);\n  function showLoader(){\n    props.loader(true);\n  }\n  function hideLoader(){\n    props.loader(false);\n  }\n  const isHex = (h) => {\n    var regexp = /^[0-9a-fA-F]+$/;\n    return regexp.test(h);\n  };\n  function compressAddress(a){\n    if (isHex(a)) return a.substr(0, 32) + \"...\";\n    else compressPrincipal(a);\n  }\n  function compressPrincipal(p){\n    if (!p) return \"\";\n    var pp = p.split(\"-\");\n    if (pp.length <= 4) return p;\n    else {\n      return pp[0] + \"-\" + pp[1].substr(0, 3) + \"...\" + pp[pp.length-3].substr(2) + \"-\" + pp[pp.length-2] + \"-\" + pp[pp.length-1];\n    }\n  }\n  function renderError(e){\n    _popupTitle(\"Something went wrong\");\n    _popupText(e);\n    _showPopup(true);\n    hideLoader();\n  }\n  function renderSuccess(e){\n    _popupTitle(\"It worked!\");\n    _popupText(e);\n    _showPopup(true);\n    hideLoader();\n  }\n  useEffect(() => {\n    _fee(props.currentToken == 'icp' ? MINFEE : TOKENMINFEE);\n  });\n  function validate(){\n    if (!toaddress) return renderError(\"Please fill all fields\");\n    if (isNaN(amount)) return renderError(\"Invalid amount\");\n    if (amount <= 0) return renderError(\"Can't send 0\");\n    if (isNaN(fee)) return renderError(\"Invalid fee\");\n    if (props.currentToken == 'icp') {\n      if (toaddress.length != 64) return renderError(\"Invalid address\");\n      if (fee < MINFEE) return renderError(\"Min ICP fee is 0.0001\");\n    }\n    if (props.currentToken == 'qz7gu-giaaa-aaaaf-qaaka-cai') {\n      if (fee !== 1) return renderError(\"Min HZLD fee is 1\");\n    }\n    if ((Number(amount) + Number(fee)) > props.currentBalance) return renderError(\"This exceeds your current balance\");\n    _confirm(true);\n  }\n  function send(){\n    _confirm(false);\n    showLoader();\n    props.send(toaddress, Number(amount), Number(fee), memo).then(() => {\n      _toaddress(\"\");\n      _amount(0);\n      _fee(props.currentToken == 0 ? MINFEE : TOKENMINFEE);\n      renderSuccess(\"Your transaction was sent successfully!\");\n    }).catch(renderError);\n  }\n  return (\n    <div>\n      {props.currentToken == \"qz7gu-giaaa-aaaaf-qaaka-cai\" ?\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <Alert variant=\"warning\">\n              Note this token uses the <strong>Principal</strong> as an addresses. You can copy your Principal by clicking <strong>top right > Copy Principal.</strong>\n            </Alert>\n          </div>\n        </div>\n      : \"\"}\n      {props.currentToken != 'icp' && props.currentToken != \"qz7gu-giaaa-aaaaf-qaaka-cai\" ?\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <Alert variant=\"warning\">\n              This token standard (EXT) supports sending to both Principals and standard addresses\n            </Alert>\n          </div>\n        </div>\n      : \"\"}\n      <div className=\"row\">\n        <div className=\"col-md-4\">\n            <div className=\"form-group mb-4\">\n              <label htmlFor=\"toaddress\">To Address</label>\n              <input value={toaddress} onChange={(e) => _toaddress(e.target.value)} type=\"text\" className=\"form-control\" id=\"toaddress\" placeholder=\"\" />\n            </div>\n            <div className=\"row\">\n              <div className=\"col-md-6\">\n                <div className=\"form-group mb-4\">\n                  <label htmlFor=\"amount\">Amount</label>\n                  <input value={amount} onChange={(e) => _amount(e.target.value)} type=\"number\" className=\"form-control\" id=\"amount\" placeholder=\"0\" />\n                </div>\n              </div>\n              <div className=\"col-md-6\">\n                <div className=\"form-group mb-4\">\n                  <label htmlFor=\"fee\">Fee</label>\n                  <input value={fee} onChange={(e) => _fee(e.target.value)} type=\"number\" className=\"form-control\" id=\"fee\"  />\n                </div>\n              </div>\n              {props.currentToken != \"qz7gu-giaaa-aaaaf-qaaka-cai\" ?\n              <div className=\"col-md-12\">\n                <strong style={{\"cursor\":\"pointer\"}}><a onClick={ (e) => {e.preventDefault(); _showAdvanced(!showAdvanced)} }>{ showAdvanced ? \"Hide\" : \"Show\" } Advanced Options</a></strong>\n                { showAdvanced ?\n                <div className=\"form-group\">\n                  <hr />\n                  <label htmlFor=\"memo\">Memo</label>\n                  <input value={memo} onChange={(e) => _memo(e.target.value)} type=\"text\" className=\"form-control\" id=\"memo\"  />\n                </div>\n                : \"\" }\n              </div>\n              : \"\"}\n            </div>\n            <button onClick={validate} className=\"btn btn-primary mt-4\">Send</button>\n        </div>\n      </div>\n      <Dialog\n        open={showPopup}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{popupTitle}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n          {popupText}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => _showPopup(false)} variant=\"secondary\">\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Dialog\n        open={confirm}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">Please confirm transaction</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n          <>Are you sure you want to send <strong>{amount}{props.symbol}</strong> to <strong>{compressAddress(toaddress)}</strong> using a fee of {fee}?</> \n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => _confirm(false)} variant=\"secondary\">\n            Cancel\n          </Button>\n          <Button onClick={send} variant=\"primary\">\n            Send Transaction\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\nconst MINFEE = 0.0001;\nconst TOKENMINFEE = 1;\nexport default (props) => {\n  const [canisterid, _canisterid] = useState(\"\");\n  const [amount, _amount] = useState(0);\n  const [fee, _fee] = useState(MINFEE);\n  const [showPopup, _showPopup] = useState(false);\n  const [popupTitle, _popupTitle] = useState('');\n  const [popupText, _popupText] = useState(\"\");\n  const [confirm, _confirm] = useState(false);\n  function showLoader(){\n    props.loader(true);\n  }\n  function hideLoader(){\n    props.loader(false);\n  }\n  function compressPrincipal(p){\n    if (!p) return \"\";\n    var pp = p.split(\"-\");\n    if (pp.length <= 4) return p;\n    else {\n      return pp[0] + \"-\" + pp[1].substr(0, 3) + \"...\" + pp[pp.length-3].substr(2) + \"-\" + pp[pp.length-2] + \"-\" + pp[pp.length-1];\n    }\n  }\n  function renderError(e){\n    _popupTitle(\"Something went wrong\");\n    _popupText(e);\n    _showPopup(true);\n    hideLoader();\n  }\n  function renderSuccess(e){\n    _popupTitle(\"It worked!\");\n    _popupText(e);\n    _showPopup(true);\n    hideLoader();\n  }\n  function validate(){\n    if (!canisterid) return renderError(\"Please fill all fields\");\n    if (isNaN(amount)) return renderError(\"Invalid amount\");\n    if (amount <= 0) return renderError(\"Can't send 0\");\n    if (isNaN(fee)) return renderError(\"Invalid fee\");\n    if (fee < MINFEE) return renderError(\"Min ICP fee is 0.0001\");\n    if ((Number(amount) + Number(fee)) > props.currentBalance) return renderError(\"This exceeds your current balance\");\n    _confirm(true);\n  }\n  function send(){\n    _confirm(false);\n    showLoader();\n    props.cycles(canisterid, Number(amount), Number(fee)).then(() => {\n      _canisterid(\"\");\n      _amount(0);\n      _fee(MINFEE);\n      renderSuccess(\"Your transaction was sent successfully!\");\n    }).catch(renderError);\n  }\n  return (\n    <div>\n      <div className=\"row\">\n        <div className=\"col-md-6\">        \n          <Alert variant=\"warning\">\n            Only use this if you want to convert ICP to cycles and send it to a canister. You can also use <a href=\"https://dsneu-dyaaa-aaaad-qagwa-cai.ic.fleek.co/\" target=\"_blank\">WTC</a> to power your canisters!\n          </Alert>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-4\">\n            <div className=\"form-group mb-4\">\n              <label htmlFor=\"canisterid\">Canister ID (principal)</label>\n              <input value={canisterid} onChange={(e) => _canisterid(e.target.value)} type=\"text\" className=\"form-control\" id=\"canisterid\" placeholder=\"\" />\n            </div>\n            <div className=\"row\">\n              <div className=\"col-md-6\">\n                <div className=\"form-group mb-4\">\n                  <label htmlFor=\"amount\">Amount</label>\n                  <input value={amount} onChange={(e) => _amount(e.target.value)} type=\"number\" className=\"form-control\" id=\"amount\" placeholder=\"0\" />\n                </div>\n              </div>\n              <div className=\"col-md-6\">\n                <div className=\"form-group mb-4\">\n                  <label htmlFor=\"fee\">Fee</label>\n                  <input value={fee} onChange={(e) => _fee(e.target.value)} type=\"number\" className=\"form-control\" id=\"fee\"  />\n                </div>\n              </div>\n            </div>\n            <button onClick={validate} className=\"btn btn-primary\">Convert and Send Cycles</button>\n        </div>\n      </div>\n      <Dialog\n        open={showPopup}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\">\n        <DialogTitle id=\"alert-dialog-title\">{popupTitle}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n          {popupText}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => _showPopup(false)} variant=\"secondary\">\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Dialog\n        open={confirm}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\">\n        <DialogTitle id=\"alert-dialog-title\">Please confirm transaction</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n          <>Are you sure you want to convert <strong>{amount}ICP</strong> to cycles and send it to <strong>{compressPrincipal(canisterid)}</strong> using a fee of {fee}?</>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => _confirm(false)} variant=\"secondary\">\n            Cancel\n          </Button>\n          <Button onClick={send} variant=\"primary\">\n            Send Transaction\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","export default (props)  =>{\r\n  return (\r\n    <div className={(props.selected ? \"col-xl-2 col-lg-4 col-md-4 col-sm-6 col-xs-6 accountCards selectedAccount\" : \"col-xl-2 col-lg-4 col-md-4 col-sm-6 col-xs-6 accountCards\")}>\r\n        <div className=\"card mb-3 text-center\" onClick={() => props.clickEv(props.token)}>\r\n          <div className=\"card-body\">\r\n            <h1>{props.data.name}</h1>\r\n            <h2>{props.data.amount === \"Loading\" ? \"Loading\" : props.data.amount + \" \" + props.data.symbol}</h2>\r\n            <h3>{props.data.price ? \"$\"+(props.data.price*props.data.amount) : \"\"}</h3>\r\n          </div>\r\n        </div>\r\n    </div>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport Balance from './Balance';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faPlus } from '@fortawesome/free-solid-svg-icons'\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default (props) => {\r\n  const [showToken, _showToken] = useState(false);\r\n  const [tokenId, _tokenId] = useState(\"\");\r\n  function error(t){\r\n    props.error(t);\r\n    _showToken(false);\r\n    _tokenId(\"\");\r\n  }\r\n  function addToken(){\r\n    _showToken(false);\r\n    //hard code in hzld\r\n    if (tokenId == \"qz7gu-giaaa-aaaaf-qaaka-cai\") {\r\n      props.addToken(\"HZLD\", \"HZLD\", 0, tokenId);\r\n    } else {\r\n      props.loader(true);\r\n      props.metadata(tokenId).then(m => {\r\n        console.log(m);\r\n        if (typeof m.fungible != 'undefined'){\r\n          props.addToken(m.fungible.name, m.fungible.symbol, m.fungible.decimals, tokenId);\r\n          props.loader(false);\r\n        } else {\r\n          return error(\"Sorry, we do not support NFT's right now\");\r\n        };\r\n      });\r\n    }\r\n    _tokenId(\"\");\r\n  }\r\n  return (\r\n    <div className=\"row\">\r\n      {props.balances.map((b, i) => {     \r\n         return (<Balance key={i} token={i} data={b} clickEv={props.changeToken} selected={(props.currentToken === i)} />) \r\n      })}\r\n      <div key={100} className=\"col accountCards\" style={{display:'flex'}}>\r\n        <div onClick={()=> _showToken(true)} className=\"card bg-secondary text-white mb-3 text-center\">\r\n            <div className=\"card-body\">\r\n              Add Token<br />\r\n              <FontAwesomeIcon icon={faPlus} />\r\n            </div>\r\n        </div>\r\n      </div>\r\n      <Dialog open={showToken} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Add token</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>Enter the Canister ID for the token you wish to add.</DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\"Canister ID\"\r\n            type=\"text\"\r\n            fullWidth\r\n            value={tokenId} \r\n            onChange={event => _tokenId(event.target.value)} \r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => {_showToken(false); _tokenId(\"\");}} variant=\"secondary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={addToken} variant=\"primary\">\r\n            Add\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faEllipsisV, faCopy } from '@fortawesome/free-solid-svg-icons'\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Tooltip from 'react-bootstrap/Tooltip';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport { Dropdown } from 'react-bootstrap';\r\n\r\nconst CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n  <a\r\n    href=\"\"\r\n    ref={ref}\r\n    onClick={(e) => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n  >\r\n    {children}\r\n  </a>\r\n));\r\nfunction fallbackCopyTextToClipboard(text) {\r\n  \r\n  var textArea = document.createElement(\"textarea\");\r\n  textArea.value = text;\r\n  \r\n  // Avoid scrolling to bottom\r\n  textArea.style.top = \"0\";\r\n  textArea.style.left = \"0\";\r\n  textArea.style.position = \"fixed\";\r\n\r\n  document.body.appendChild(textArea);\r\n  textArea.focus();\r\n  textArea.select();\r\n\r\n  try {\r\n    var successful = document.execCommand('copy');\r\n    var msg = successful ? 'successful' : 'unsuccessful';\r\n    console.log('Fallback: Copying text command was ' + msg);\r\n  } catch (err) {\r\n    console.error('Fallback: Oops, unable to copy', err);\r\n  }\r\n\r\n  document.body.removeChild(textArea);\r\n}\r\nfunction copyTextToClipboard(text) {\r\n  if (!navigator.clipboard) {\r\n    fallbackCopyTextToClipboard(text);\r\n    return;\r\n  }\r\n  navigator.clipboard.writeText(text).then(function() {\r\n    console.log('Async: Copying to clipboard was successful!');\r\n  }, function(err) {\r\n    console.error('Async: Could not copy text: ', err);\r\n  });\r\n}\r\nexport default (props) => {\r\n  const [accountName, _accountName] = useState(props.currentAccountName);\r\n  useEffect(() => {\r\n     _accountName(props.currentAccountName);\r\n   }, [props.currentAccountName]);\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n  function updateName(){\r\n    props.updateName(accountName);\r\n    setShow(false);\r\n  }\r\n  function copyAddress(){\r\n    copyTextToClipboard(props.accounts[props.currentAccount].address);\r\n  }\r\n  function explorerLink(){\r\n    //Switch token type to present different links on a per token basis\r\n    return \"https://dashboard.internetcomputer.org/account/\" + props.accounts[props.currentAccount].address;\r\n  }\r\n\r\n  function addToken(){\r\n    handleShow();\r\n    props.addToken();\r\n  }\r\n  return (\r\n    <>\r\n      <h1 className=\"mt-4 accountHeader\">\r\n        \r\n          {props.accounts[props.currentAccount].name}                    \r\n      </h1>\r\n      <h3 className=\"accountAddress\">\r\n        <span>{props.accounts[props.currentAccount].address}</span>\r\n        <OverlayTrigger trigger=\"click\" rootClose placement=\"top\" delay={{ show: 250, hide: 400 }} overlay={<Tooltip id=\"tooltip-disabled\">Copied!</Tooltip>}>\r\n          <FontAwesomeIcon icon={faCopy} onClick={copyAddress} />\r\n        </OverlayTrigger>\r\n        \r\n        <Dropdown alignRight align=\"end\">\r\n          <Dropdown.Toggle as={CustomToggle} >\r\n            <FontAwesomeIcon icon={faEllipsisV} />\r\n          </Dropdown.Toggle>\r\n\r\n          <Dropdown.Menu>\r\n            <Dropdown.Item onClick={handleShow}>Change Name</Dropdown.Item>\r\n            <Dropdown.Item target=\"_blank\" href={explorerLink()}>View in Explorer</Dropdown.Item>\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      </h3>\r\n      <Dialog open={show} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Change Account Name</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>Enter a new friendly name for this account.</DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\"Account Name\"\r\n            type=\"text\"\r\n            fullWidth\r\n            onChange={event => _accountName(event.target.value)}\r\n            value={accountName}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} variant=\"secondary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={updateName} variant=\"primary\">\r\n            Save\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      \r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from 'react-bootstrap/Button';\r\nimport {ICPLedger} from '../ic/ledger.js';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Form from 'react-bootstrap/Form'\r\nimport iiimage from '../img/ii.png';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 275,\r\n  },\r\n  bullet: {\r\n    display: 'inline-block',\r\n    margin: '0 2px',\r\n    transform: 'scale(0.8)',\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n});\r\nvar _wfn;\r\nexport default (props) => {\r\n  const [password, _password] = useState(\"\");\r\n\r\n  const [warningDialog, _warningDialog] = useState(false);\r\n  const [warningText, _warningText] = useState('');\r\n\r\n  const classes = useStyles();\r\n  function warning(t, f){\r\n    _warningText(t);\r\n    _wfn = f;\r\n    _warningDialog(true)\r\n  }\r\n  function wdfn(){\r\n    _wfn();\r\n    _warningDialog(false)\r\n  }\r\n  \r\n  function unlock(){\r\n    var i = props.identity;\r\n    props.loader(true, () => {\r\n      switch(i.type){\r\n        case \"ii\":\r\n          var ll = ICPLedger.unlock(i);\r\n          break;\r\n        case \"private\":\r\n          i.password = password;\r\n          var ll = ICPLedger.unlock(i);\r\n          break;\r\n      }\r\n      props.unlock(ll);\r\n      ll.catch(e => {\r\n        switch(i.type){\r\n          case \"ii\":\r\n            alert(\"Error with Identity portal\");\r\n            break;\r\n          case \"private\":\r\n            alert(\"Password incorrect or corrupted data\");\r\n            break;\r\n        }\r\n        props.loader(false);\r\n      });\r\n    });\r\n  }\r\n  return (\r\n    <div>\r\n      <nav className=\"sb-topnav navbar navbar-expand navbar-dark bg-dark\">\r\n        <a className=\"navbar-brand ps-3\" target=\"_blank\" href=\"https://toniqlabs.com\" rel=\"noreferrer\">Stoic Wallet <small>by Toniq Labs</small></a>\r\n      </nav>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-4 offset-md-4 loginForm\">\r\n            <Card className={classes.root}>\r\n              <CardContent className=\"text-center\">\r\n                <p><strong>Unlock your wallet</strong></p>\r\n                <hr />\r\n                {props.identity.type == 'ii' ? \r\n                  <>\r\n                    <Alert variant={\"info\"}>\r\n                      Please authenticate your identity to continue\r\n                    </Alert>\r\n                    <div className=\"loginOption\" onClick={unlock}>\r\n                      <img src={iiimage} />\r\n                      <span>Internet Identity</span>\r\n                    </div>\r\n                  </>:\r\n                  <>\r\n                    <Alert variant={\"info\"}>\r\n                      Please enter the password used when creating your wallet, not the mnemonic phrase. If you have lost the password, you can recover using your mnemonic phrase.\r\n                    </Alert>\r\n                    <Form.Group className=\"mb-4\">\r\n                      <Form.Label>Enter Password</Form.Label>\r\n                      <Form.Control type=\"password\" value={password} onChange={event => _password(event.target.value)} placeholder=\"\" />\r\n                    </Form.Group>\r\n                    \r\n                  </>\r\n                }\r\n                <hr />\r\n                <Button onClick={() => warning(\"This will clear all data from this device, including any names you have given your accounts. All balances will remain and this wallet can be restored in future if you have the corresponding seed/access devices\", props.clearWallet)} variant=\"danger\">\r\n                  Clear Wallet\r\n                </Button>&nbsp;&nbsp;\r\n                {props.identity.type == 'ii' ? \"\" :\r\n                <Button onClick={unlock} variant=\"primary\">\r\n                  Unlock Wallet\r\n                </Button> }\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Dialog open={warningDialog} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Please read first</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>{warningText}</DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => _warningDialog(false)} variant=\"secondary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={wdfn} variant=\"primary\">\r\n            Continue\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAABkCAYAAABkW8nwAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTY2M0NBQTdDMkYzMTFFQkE0QUNGRjE2NURGRDIzQ0IiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTY2M0NBQThDMkYzMTFFQkE0QUNGRjE2NURGRDIzQ0IiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNjYzQ0FBNUMyRjMxMUVCQTRBQ0ZGMTY1REZEMjNDQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBNjYzQ0FBNkMyRjMxMUVCQTRBQ0ZGMTY1REZEMjNDQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtI6AvwAABj4SURBVHja7J0HnBXl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\"","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from 'react-bootstrap/Button';\r\nimport {ICPLedger} from '../ic/ledger.js';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport Tab from 'react-bootstrap/Tab';\r\n\r\nimport iiimage from '../img/ii.png';\r\nimport pkimage from '../img/pk.png';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 275,\r\n  },\r\n  bullet: {\r\n    display: 'inline-block',\r\n    margin: '0 2px',\r\n    transform: 'scale(0.8)',\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n});\r\n\r\nexport default (props) => {\r\n  const [showIIDialog, _showIIDialog] = useState(false);\r\n  const [showPKDialog, _showPKDialog] = useState(false);\r\n  const [dmnemonic, _dmnemonic] = useState(ICPLedger.generateMnemonic(256));\r\n  const [mnemonic, _mnemonic] = useState(\"\");\r\n  const [password, _password] = useState(\"\");\r\n  const [cpassword, _cpassword] = useState(\"\");\r\n  const [key, setKey] = useState('new');\r\n  const [stage, _stage] = useState(0);\r\n  const classes = useStyles();\r\n  function error(e){\r\n    props.error(e);\r\n  }\r\n  function iiLogin(){\r\n    _showIIDialog(false)\r\n    props.loader(true, () => {      \r\n      var ll = ICPLedger.setup({\r\n        type : 'ii'\r\n      });\r\n      props.login(ll);\r\n    });\r\n  }\r\n  function pkLogin(){\r\n    if (stage === 0){\r\n      if (mnemonic !== dmnemonic && key === 'new') return error(\"Mnemonic's do not match, try again\");\r\n      if (mnemonic === \"\") return error(\"Please enter a Mnemonic\");\r\n      if (!ICPLedger.validateMnemonic(mnemonic))  return error(\"Invalid mnemonic\");\r\n      _stage(1);\r\n    } else if (stage === 1){\r\n      if (password.length < 8) return error(\"Please enter a password with at least 8 characters\");\r\n      if (password != cpassword) return error(\"Your passwords do not match\");\r\n      _showPKDialog(false)\r\n      props.loader(true, () => {\r\n        var ll = ICPLedger.setup({\r\n          type : 'private',\r\n          mnemonic : mnemonic,\r\n          password : password\r\n        });\r\n        _stage(0);\r\n        _mnemonic(\"\");\r\n        _dmnemonic(\"\");\r\n        _password(\"\");\r\n        _cpassword(\"\");\r\n        props.login(ll);\r\n      });\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <nav className=\"sb-topnav navbar navbar-expand navbar-dark bg-dark\">\r\n        <a className=\"navbar-brand ps-3\" target=\"_blank\" href=\"https://toniqlabs.com\" rel=\"noreferrer\">Stoic Wallet <small>by Toniq Labs</small></a>\r\n      </nav>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-4 offset-md-4 loginForm\">\r\n            <Card className={classes.root}>\r\n              <CardContent className=\"text-center\">\r\n                <p><strong>How do you want to connect to your wallet?</strong></p>\r\n                <hr />\r\n                <Alert variant={\"info\"}>\r\n                  Hardware wallets are coming soon!\r\n                </Alert>\r\n                <div className=\"loginOption\" onClick={() => _showIIDialog(true)}>\r\n                  <img src={iiimage} />\r\n                  <span>Internet Identity</span>\r\n                </div>\r\n                <div className=\"loginOption\" onClick={() => _showPKDialog(true)}>\r\n                  <img src={pkimage} />\r\n                  <span>Mnemonic</span>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Dialog open={showIIDialog} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Login using Internet Identity</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>Are you sure you want to connect using your Internet Identity by Dfinity?</DialogContentText>\r\n\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => _showIIDialog(false)} variant=\"secondary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={iiLogin} variant=\"primary\">\r\n            Continue\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog open={showPKDialog} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle style={{width:\"600px\"}} id=\"form-dialog-title\">Connect using a mnemonic phrase</DialogTitle>\r\n        <DialogContent>\r\n        { stage === 0 ?\r\n          <>\r\n            <Tabs activeKey={key} onSelect={(k) => setKey(k)}>\r\n              <Tab eventKey=\"new\" title=\"New\">\r\n                \r\n                <Alert className=\"mt-4\" variant={\"danger\"}>\r\n                  If you lose this mnemonic phrase, or it becomes compromised, you will lose all of your stored tokens\r\n                </Alert>\r\n                <p className=\"mnemonic\" >{dmnemonic}</p>\r\n                <hr />\r\n                <DialogContentText>Please copy the above phrase in the box below to verify</DialogContentText>\r\n              </Tab>\r\n              <Tab eventKey=\"recover\" title=\"Recover\">\r\n                <DialogContentText className=\"mt-4\" >Please enter your recovery seed below</DialogContentText>\r\n              </Tab>\r\n            </Tabs>\r\n            <FormControl style={{height:\"100px\"}} value={mnemonic} onChange={event => _mnemonic(event.target.value)} as=\"textarea\"  />\r\n          </>\r\n        : \r\n          <>\r\n            <Alert className=\"mt-4\" variant={\"danger\"}>\r\n              Please enter a password to encrypt your seed phrase. This can be used to unlock your wallet on this device\r\n            </Alert>\r\n            <Form.Group>\r\n              <Form.Label>Enter Password</Form.Label>\r\n              <Form.Control type=\"password\" value={password} onChange={event => _password(event.target.value)} placeholder=\"\" />\r\n              \r\n              <Form.Label>Enter Password Again</Form.Label>\r\n              <Form.Control type=\"password\" value={cpassword} onChange={event => _cpassword(event.target.value)} placeholder=\"\" />\r\n              <Form.Text className=\"text-muted\">\r\n                Ensure passwords are at least 8 characters long.\r\n              </Form.Text>\r\n            </Form.Group>\r\n          </>\r\n        }\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => _showPKDialog(false)} variant=\"secondary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={pkLogin} variant=\"primary\">\r\n            Continue\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAABkCAYAAABkW8nwAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTE4NjU0QURDMkYzMTFFQjlDRUFBNEJGMTlGOEUyMjAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTE4NjU0QUVDMkYzMTFFQjlDRUFBNEJGMTlGOEUyMjAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBMTg2NTRBQkMyRjMxMUVCOUNFQUE0QkYxOUY4RTIyMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBMTg2NTRBQ0MyRjMxMUVCOUNFQUE0QkYxOUY4RTIyMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhHLzosAAAZWSURBVHja7J1rqBZF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\"","import React, { useState, useEffect } from 'react';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Timestamp from 'react-timestamp';\nimport Tab from 'react-bootstrap/Tab';\nimport Nav from './components/Nav';\nimport Sidebar from './components/Sidebar';\nimport Footer from './components/Footer';\nimport Send from './components/Send';\nimport Cycles from './components/Cycles';\nimport Balances from './components/Balances';\nimport Account from './components/Account';\nimport Login from './components/Login';\nimport Lockscreen from './components/Lockscreen';\nimport {ICPLedger} from './ic/ledger.js';\nimport LoadingOverlay from 'react-loading-overlay';\n\nimport Button from 'react-bootstrap/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n//Helpers\nvar _defaultDb = {\n  accounts : [\n    [\"Main\", \n      []\n    ]\n  ],\n  identity : {\n    type : false,\n    principal : false\n  }\n};\nvar appData = {\n  accounts : [],\n  identity : {\n    type : false,\n    principal : false\n  }\n};\nvar UNLOCKED = false, ACTIVE = false, INTV = false;\nfunction initDb(){\n  var t = localStorage.getItem('_db');\n  if (t){\n    ACTIVE = true; //Wallet is active\n    t = JSON.parse(t);\n    t.accounts.map(async (a, i) => {\n      var _b = [];\n      var _a = ICPLedger.p2aid(t.identity.principal, i);\n      _b.push({\n        name : \"Internet Computer\",\n        symbol : \"ICP\",\n        amount : \"Loading\",\n        decimals : 8,\n        transactions : false\n      });\n      a[1].map(t => {\n        _b.push({\n          id : t.id,\n          name : t.name,\n          symbol : t.symbol,\n          decimals : t.decimals,\n          amount : \"Loading\",\n          transactions : []\n        });\n        return true;\n      });\n      appData.accounts.push({\n        name : a[0],\n        address : _a,\n        balances : _b\n      });\n    });\n    appData.identity = t.identity;\n  }\n}\nfunction newDb(identity){\n  var tc = Object.assign({}, _defaultDb);\n  tc.identity = identity;\n  localStorage.setItem('_db', JSON.stringify(tc));\n  initDb();\n}\nfunction updateDb(accounts){\n  var updatedDb = {\n    accounts : [],\n    identity : appData.identity,\n  };\n  accounts.map(a => {\n    var _b = [];\n    a.balances.map((b, i) => {\n      if (i === 0) return false;\n      _b.push({\n        id : b.id,\n        name : b.name,\n        symbol : b.symbol,\n        decimals : b.decimals,\n      });\n      return true;\n    });\n    updatedDb.accounts.push([a.name, _b]);\n    return true;\n  });\n  localStorage.setItem('_db', JSON.stringify(updatedDb));\n}\ninitDb();\nvar loaderCb = false;\n//Render\nfunction App() {\n  const [currentAccount, _currentAccount] = useState(0);\n  const [accounts, _accounts] = useState(appData.accounts);\n  const [currentToken, _currentToken] = useState(0);\n  const [balances, _balances] = useState((appData.accounts.length ? appData.accounts[currentAccount].balances : []));\n  const [currentAccountName, _currentAccountName] = useState((appData.accounts.length ? appData.accounts[currentAccount].name : \"\"));\n  const [unlocked, _unlocked] = useState(UNLOCKED);\n  const [active, _active] = useState(ACTIVE);\n  const [isLoaderActive, _isLoaderActive] = useState(false);\n  const [connectionType, _connectionType] = useState(appData.identity.type);\n  const [showError, _showError] = useState(false);\n  const [errorText, _errorText] = useState(\"\");\n  \n  useEffect(() => {\n    if (loaderCb){\n      loaderCb();\n      loaderCb = false;\n    }\n  }, [isLoaderActive]);\n  useEffect(() => {\n    ICPLedger.init().then(() => {\n      var checkLoad = ICPLedger.load(appData.identity);\n      if (checkLoad && checkLoad.principal == appData.identity.principal) {\n        UNLOCKED = true;\n        _unlocked(UNLOCKED)\n      }\n    });\n    setTimeout(fetchAllData, 1000);\n    if (INTV === false)\n      INTV = setInterval(fetchAllData, 10000);\n    \n  }, []);\n  function error(t){\n    _errorText(t);\n    _showError(true);\n  }\n  function fetchAllData(){\n    appData.accounts.map((a,i) => {\n      a.balances.map((b,j) => {\n        if (j === 0) {\n          ICPLedger.getBalance(appData.accounts[i].address, 8).then(_b => {\n            if (!ACTIVE) return false;\n            if (!UNLOCKED) return false;\n            ICPLedger.getTransactions(appData.accounts[i].address, i).then(ts => {\n              if (!ACTIVE) return false;\n              if (!UNLOCKED) return false;       \n              appData.accounts[i].name = appData.accounts[i].name;\n              appData.accounts[i].balances[j].amount = _b;\n              appData.accounts[i].balances[j].transactions = ts;\n              _accounts(arr => [...appData.accounts]);\n            });\n          });\n        } else {\n          ICPLedger.getTokenBalance(b.id, appData.accounts[i].address, appData.accounts[i].balances[j].decimals).then(_b => {\n            if (!ACTIVE) return false;\n            if (!UNLOCKED) return false;\n            appData.accounts[i].name = appData.accounts[i].name;\n            appData.accounts[i].balances[j].amount = _b;\n            appData.accounts[i].balances[j].transactions = [];\n            _accounts(arr => [...appData.accounts]);\n          }).catch(e => {\n            if (e.message.includes(\"Specified sender delegation has expired\")){\n              lockWallet();\n            }\n          });\n        }\n        return true;\n      })\n      return true;\n    });\n  }\n  function loader(t, fn){\n    if (fn) loaderCb = fn;\n    _isLoaderActive(t);\n  }\n  function send(toaddress, amount, fee, memo){\n    return new Promise((resolve, reject) => {\n      \n      var p = (currentToken == 'icp' ? ICPLedger.transfer(toaddress, fee, memo, currentAccount, amount) : ICPLedger.transferTokens(\n        balances[currentToken].id, \n        toaddress, \n        fee, \n        memo, \n        currentAccount, \n        amount, \n        balances[currentToken].decimals));\n      p.then(b => {\n        resolve(b);\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  }\n  function cycles(canisterid, amount, fee){\n    return new Promise((resolve, reject) => {\n      var p = ICPLedger.convertCycles(canisterid, fee, currentAccount, amount);\n      p.then(b => {\n        resolve(b);\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  }\n  function updateName(v){\n    appData.accounts[currentAccount].name = v;\n    _accounts(arr => [...appData.accounts]);\n    _currentAccountName(v);\n    updateDb(appData.accounts);\n  }\n  function deleteAccount(){\n    var t = currentAccount;\n    changeAccount(0);\n    appData.accounts.splice(t, 1);\n    _accounts( arr => [...appData.accounts]);\n    updateDb(appData.accounts);\n  }\n  function addToken(name, symbol, decimals, id){\n    if (id == \"qz7gu-giaaa-aaaaf-qaaka-cai\" && currentAccount != 0) return error(\"HZLD can only be added to your main account as it is connected to your Principal (not your address)\");\n    if (appData.accounts[currentAccount].balances.findIndex(x => x.id === id) >= 0) return error(\"This token has already been added to this account\");\n    appData.accounts[currentAccount].balances.push({\n      id : id,\n      name : name,\n      symbol : symbol,\n      decimals : decimals,\n      amount : \"Loading\",\n      transactions : []\n    });\n    _accounts( arr => [...appData.accounts]);\n    updateDb(appData.accounts);\n    fetchAllData();\n    changeToken(appData.accounts[currentAccount].balances.length-1);\n  }\n  function changeToken(i){\n    _currentToken(i);\n  }\n  function metadata(tid){\n    return ICPLedger.getTokenMetadata(tid);\n  }\n  function changeAccount(i){\n    _currentAccount(i);\n    _currentAccountName(appData.accounts[i].name);\n    _balances(appData.accounts[i].balances);\n    _currentToken(0);\n  }\n  //TODO\n  function unlock(ll, t){\n    loader(true);\n    ll.then(identity => {      \n      loader(false);\n      UNLOCKED = true;\n      _unlocked(true);\n      if (INTV === false)\n        INTV = setInterval(fetchAllData, 5000);\n      _connectionType(identity.type);\n      _accounts(appData.accounts);\n      _balances(appData.accounts[0].balances);\n    });\n  }\n  function login(ll, t){\n    loader(true);\n    ll.then(identity => {   \n      newDb(identity);\n      _connectionType(identity.type);\n      _accounts(appData.accounts);\n      _balances(appData.accounts[0].balances);\n      _currentToken(0);\n      _currentAccount(0);\n      _active(true);\n      _unlocked(true);\n      loader(false);\n      ACTIVE = true;\n      UNLOCKED = true;\n      if (INTV === false)\n        INTV = setInterval(fetchAllData, 5000);\n    });\n  }\n  function lockWallet(){\n    ICPLedger.lock(appData.identity);\n    UNLOCKED = false;\n    _unlocked(UNLOCKED);\n    clearInterval(INTV);\n    INTV = false;\n  }\n  function clearWallet(){\n    ICPLedger.clear(appData.identity);\n    UNLOCKED = false;\n    ACTIVE = false;\n    _unlocked(UNLOCKED);\n    _active(ACTIVE);\n    \n    //Clear data\n    _accounts([]);\n    _balances([]);\n    _currentToken(0);\n    _currentAccount(0);\n    localStorage.removeItem('_db')\n    appData = {\n      accounts : [],\n      identity : {\n        type : false,\n        principal : false\n      }\n    }\n    clearInterval(INTV);\n    INTV = false;\n  }\n  function addAccount(){\n    var _a = ICPLedger.p2aid(appData.identity.principal, accounts.length);\n    appData.accounts.push({\n      name : \"Account \" + (appData.accounts.length),\n      address : _a,\n      balances : [{\n        name : \"Internet Computer\",\n        symbol : \"ICP\",\n        amount : 0,\n        transactions : []\n      }]\n    });\n    _accounts( arr => [...appData.accounts]);\n    updateDb(appData.accounts);\n    changeAccount(appData.accounts.length-1);\n  }\n  function compressAddress(a){\n    return a.substr(0, 32) + \"...\";\n  }\n  function displaydate(d){\n    return new Date(d).toString();\n  }\n  function numf(n, d){\n    if (n === \"N/A\") return n;\n    d = (d ?? 2);\n    return n.toFixed(d).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\n  }\n  \n  return (\n    <LoadingOverlay\n    active={isLoaderActive}\n    spinner\n    text='Loading, please wait..'\n    >\n    { unlocked ? \n    <div className=\"sb-nav-fixed\">\n      <Nav clearWallet={clearWallet} lockWallet={lockWallet} principal={appData.identity.principal} />\n      <div id=\"layoutSidenav\">\n        <Sidebar connectionType={connectionType} changeAccount={changeAccount} currentAccount={currentAccount} addAccount={addAccount} accounts={accounts} />\n        <div id=\"layoutSidenav_content\">\n          <main>\n              <div className=\"container-fluid px-4\">\n                  <Account currentAccountName={currentAccountName} updateName={updateName} accounts={accounts} currentAccount={currentAccount} setAccounts={_accounts} deleteAccount={deleteAccount}/>\n                  <hr />\n                  <Balances addToken={addToken} loader={loader} metadata={metadata} error={error} balances={balances} currentToken={currentToken} changeToken={changeToken} />\n                  <div className=\"row\">\n                    <div className=\"col\">\n                      <Tabs defaultActiveKey=\"activity\" id=\"uncontrolled-tab-example\" className=\"mb-3\">\n                        <Tab eventKey=\"activity\" title=\"Activity\">\n                          <h3>Transactions</h3>\n                          { balances[currentToken].transactions === false ? \"\" : (balances[currentToken].transactions.length === 0 ? \"\" :\n                          <div className=\"tx tx-head row\">\n                            <div className=\"col-lg-1 col-md-2 col-sm-12 tx-1\">\n                              <span>Date</span>\n                            </div>\n                            <div className=\"col-lg-9 col-md-7 col-sm-12 tx-2\">\n                              <span>Description:</span>\n                            </div>\n                            <div className=\"col-lg-2 col-md-3 col-sm-12 tx-3\">\n                              <span>Amount:</span>\n                            </div>\n                          </div>)}\n                          { balances[currentToken].transactions === false ? \"Loading...\" : (balances[currentToken].transactions.length === 0 ? \"No transactions yet\" : \n                          balances[currentToken].transactions.map((t, i) => {\n                            return (\n                            <div key={i} className={t.to === accounts[currentAccount].address ? \"tx row tx-in\" : \"tx row tx-out\"}>\n                              <div className=\"col-lg-1 col-md-2 col-sm-12 tx-1\">\n                                <span><Timestamp relative autoUpdate date={t.timestamp} /></span>\n                              </div>\n                              <div className=\"col-lg-9 col-md-7 col-sm-12 tx-2\">\n                               {t.from === accounts[currentAccount].address ? \n                                <>\n                                Sent <strong>{numf(t.amount, 4)} {balances[currentToken].symbol}</strong> to {t.to} with a <strong>{t.fee} ICP</strong> Fee<br />(<a href={ \"https://ic.rocks/transaction/\" + t.hash} target=\"_blank\" rel=\"noreferrer\">View Transaction</a>)\n                                </> : \n                                <>\n                                Received <strong>{numf(t.amount, 4)} {balances[currentToken].symbol}</strong> from {t.from}<br />(<a href={ \"https://ic.rocks/transaction/\" + t.hash} target=\"_blank\" rel=\"noreferrer\">View Transaction</a>)\n                               </>}\n                              </div>\n                              <div className=\"col-lg-2 col-md-3 col-sm-12 tx-3\">\n                               {t.from === accounts[currentAccount].address ?\n                               <>-{numf(t.amount+t.fee, 4)} {balances[currentToken].symbol}</> :\n                               <>+{numf(t.amount, 4)} {balances[currentToken].symbol}</>}\n                              </div>\n                            </div>)\n                          }))} \n                        </Tab>\n                        <Tab eventKey=\"send\" title=\"Send\">\n                          <h3>Send {balances[currentToken].symbol}</h3>\n                          <Send symbol={balances[currentToken].symbol} currentToken={balances[currentToken].id ?? 'icp'} loader={loader} send={send} currentBalance={balances[currentToken].amount} />\n                        </Tab>\n                        <Tab eventKey=\"cycles\" title=\"Topup Canisters\">\n                          <h3>Topup Canisters with ICP</h3>\n                          <Cycles currentToken={0} loader={loader} cycles={cycles} currentBalance={balances[0].amount} />\n                        </Tab>\n                      </Tabs>\n                    </div>\n                  </div>\n              </div>\n          </main>\n          <Footer />\n        </div>\n      </div>\n    </div> :\n    ( active ?\n    <Lockscreen identity={appData.identity} error={error} loader={loader} unlock={unlock} clearWallet={clearWallet} /> :\n    <Login error={error} loader={loader} login={login} /> )}\n    <Dialog\n      open={showError}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{\"Something went wrong\"}</DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n        {errorText}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => _showError(false)} variant=\"secondary\">\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n    </LoadingOverlay>\n  );\n}\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './css/styles.css';\nimport './css/wallet.css';\nReactDOM.render(<App />,\n  document.getElementById('root')\n);\nwindow.addEventListener('DOMContentLoaded', event => {\n    const sidebarToggle = document.body.querySelector('#sidebarToggle');\n    if (sidebarToggle) {\n        if (localStorage.getItem('sb|sidebar-toggle') === 'true') {\n            document.body.classList.toggle('sb-sidenav-toggled');\n        }\n        sidebarToggle.addEventListener('click', event => {\n            event.preventDefault();\n            document.body.classList.toggle('sb-sidenav-toggled');\n            localStorage.setItem('sb|sidebar-toggle', document.body.classList.contains('sb-sidenav-toggled'));\n        });\n    }\n});"],"sourceRoot":""}