(this["webpackJsonpstoic-wallet"]=this["webpackJsonpstoic-wallet"]||[]).push([[0],{170:function(e,t,a){"use strict";(function(e){var n=a(47),r=a(219),i=a(10),c=a(9),s=a(30),o=a(99),l=a(19);const d=(t,a)=>{if("string"==typeof a&&(a=e(a)),a.length>8)return!1;const n=(e=>{const t=o.sha256.create();return t.update(e),Object(l.d)(new Uint8Array(t.array()))})(new Uint8Array([[12],...e("neuron-stake"),...i.d.fromText(t).toBlob(),...a]));return Object(c.o)(c.b,Array.from(n))};var u=Object(r.a)("api"),p=Object(r.a)("identity");class h{constructor(e,t,a){if(Object.defineProperty(this,u,{writable:!0,value:!1}),Object.defineProperty(this,p,{writable:!0,value:!1}),this.neuronid=0,this.id=0,this.data={},!e)throw new Error("NeuronID is required");if(!a)throw new Error("Identity is required");this.neuronid=e,this.id=e.toString(),Object(n.a)(this,p)[p]=a,this.data=t,Object(n.a)(this,u)[u]=s.a.connect("https://boundary.ic0.app/",Object(n.a)(this,p)[p]).canister(c.b)}async topup(e,t){var a={from_subaccount:[Object(c.l)(null!==e&&void 0!==e?e:0)],to:this.data.address,amount:{e8s:Object(c.e)(t,8)},fee:{e8s:10000n},memo:0,created_at_time:[]};return await s.a.connect("https://boundary.ic0.app/",Object(n.a)(this,p)[p]).canister(c.c).send_dfx(a),a={controller:[],memo:await c.p.getTransactionsByAccount(this.data.address).then((e=>Number(e[0].memo)))},await s.a.connect("https://boundary.ic0.app/",Object(n.a)(this,p)[p]).canister(c.b).claim_or_refresh_neuron_from_account(a),!0}async update(){return this.data=await j.getData(this.neuronid,Object(n.a)(this,p)[p]),this.data}async spawn(){var e={Spawn:{new_controller:[]}},t=await Object(n.a)(this,u)[u].manage_neuron({id:[{id:this.neuronid}],command:[e]});if(t.command[0].hasOwnProperty("Error"))throw new Error("Error:"+JSON.stringify(t.command[0].Error.error_message));return t.command[0].Spawn}async split(e){var t={amount_e8s:BigInt(e)*BigInt(10**8)},a={};a.Split=t;var r=await Object(n.a)(this,u)[u].manage_neuron({id:[{id:this.neuronid}],command:[a]});if(r.command[0].hasOwnProperty("Error"))throw new Error("Error:"+JSON.stringify(r.command[0].Error.error_message));return r.command[0].Split}async follow(e,t){var a={topic:BigInt(e),followees:[{id:BigInt(t)}]},r={};r.Follow=a;var i=await Object(n.a)(this,u)[u].manage_neuron({id:[{id:this.neuronid}],command:[r]});if(i.command[0].hasOwnProperty("Error"))throw new Error("Error:"+JSON.stringify(i.command[0].Error.error_message));return i.command[0].Follow}async startDissolving(){var e="Configure",t={Configure:{operation:[{StartDissolving:{}}]}},a=await Object(n.a)(this,u)[u].manage_neuron({id:[{id:this.neuronid}],command:[t]});if(a.command[0].hasOwnProperty("Error"))throw new Error("Error:"+JSON.stringify(a.command[0].Error.error_message));return a.command[0][e]}async stopDissolving(){var e="Configure",t={Configure:{operation:[{StopDissolving:{}}]}},a=await Object(n.a)(this,u)[u].manage_neuron({id:[{id:this.neuronid}],command:[t]});if(a.command[0].hasOwnProperty("Error"))throw new Error("Error:"+JSON.stringify(a.command[0].Error.error_message));return a.command[0][e]}async increaseDissolveDelay(e){var t={operation:[{IncreaseDissolveDelay:{additional_dissolve_delay_seconds:BigInt(e)}}]},a="Configure",r={};r[a]=t;var i=await Object(n.a)(this,u)[u].manage_neuron({id:[{id:this.neuronid}],command:[r]});if(i.command[0].hasOwnProperty("Error"))throw new Error("Error:"+JSON.stringify(i.command[0].Error.error_message));return i.command[0][a]}async setDissolveTime(e){var t={operation:[{SetDissolveTimestamp:{dissolve_timestamp_seconds:BigInt(e)}}]},a="Configure",r={};r[a]=t;var i=await Object(n.a)(this,u)[u].manage_neuron({id:[{id:this.neuronid}],command:[r]});if(i.command[0].hasOwnProperty("Error"))throw new Error("Error:"+JSON.stringify(i.command[0].Error.error_message));return i.command[0][a]}async disburse(){var e="Disburse",t={Disburse:{to_account:[],amount:[]}},a=await Object(n.a)(this,u)[u].manage_neuron({id:[{id:this.neuronid}],command:[t]});if(a.command[0].hasOwnProperty("Error"))throw new Error("Error:"+JSON.stringify(a.command[0].Error.error_message));return a.command[0][e]}}const j={scan:async e=>{var t=await s.a.connect("https://boundary.ic0.app/",e).canister(c.b).list_neurons({include_neurons_readable_by_caller:!0,neuron_ids:[]}),a=[];return t.full_neurons.map(((n,r)=>{var i=n.id[0].id,s=t.neuron_infos.find((e=>e[0]===i))[1],o={age:s.age_seconds,created:s.created_timestamp_seconds,dissolve_delay:s.dissolve_delay_seconds,retreived:s.retrieved_at_timestamp_seconds,state:s.state,voting_power:s.voting_power,stake:n.cached_neuron_stake_e8s,maturity:n.maturity_e8s_equivalent,fees:n.neuron_fees_e8s,operator:!0,address:Object(c.o)(c.b,n.account)};return a.push(new h(i,o,e)),!0})),a},create:async(e,t,a)=>{var n=Math.floor(4294967296*Math.random());if(e<1)return!1;var r=t.getPrincipal(),i=Array(4).fill(0).concat(Object(c.q)(n)),o=BigInt("0x"+Object(c.r)(i)),l=d(r.toText(),i),u={from_subaccount:[Object(c.l)(null!==a&&void 0!==a?a:0)],to:l,amount:{e8s:Object(c.e)(e,8)},fee:{e8s:10000n},memo:Number(o),created_at_time:[]};await s.a.connect("https://boundary.ic0.app/",t).canister(c.c).send_dfx(u),u={controller:[r],memo:Number(o)};var p=await s.a.connect("https://boundary.ic0.app/",t).canister(c.b).claim_or_refresh_neuron_from_account(u);if(p.result[0].hasOwnProperty("Error"))throw new Error("Error: "+JSON.stringify(p.result[0].Error));var h=p.result[0].NeuronId.id;return await j.get(h,t)},get:async(e,t)=>{var a=await j.getData(e,t);return new h(e,a,t)},getData:async(e,t)=>{var a=await s.a.connect("https://boundary.ic0.app/",t).canister(c.b).list_neurons({neuron_ids:[e],include_neurons_readable_by_caller:!1}),n={operator:!1,age:a.neuron_infos[0][1].age_seconds,created:a.neuron_infos[0][1].created_timestamp_seconds,dissolve_delay:a.neuron_infos[0][1].dissolve_delay_seconds,retreived:a.neuron_infos[0][1].retrieved_at_timestamp_seconds,state:a.neuron_infos[0][1].state,voting_power:a.neuron_infos[0][1].voting_power};return 1===a.full_neurons.length&&(n.stake=a.full_neurons[0].cached_neuron_stake_e8s,n.maturity=a.full_neurons[0].maturity_e8s_equivalent,n.fees=a.full_neurons[0].neuron_fees_e8s,n.operator=!0,n.address=Object(c.o)(c.b,a.full_neurons[0].account)),n},topics:[["All topics",0],["Neuron Management",1],["Exchange Rate",2],["Network Economics",3],["Governance",4],["Node Admin",5],["Participant Management",6],["Subnet Management",7],["Network Canister Management",8],["KYC",9],["Node Proivuder Rewards",10]]};t.a=j}).call(this,a(4).Buffer)},217:function(e,t,a){"use strict";t.a=function(e){var t=e.IDL,a=t.Text,n=t.Text,r=t.Variant({principal:t.Principal,address:n}),i=t.Record({token:a,owner:r,spender:t.Principal}),c=t.Nat,s=c,o=t.Variant({InvalidToken:a,Other:t.Text}),l=o,d=t.Variant({ok:s,err:l}),u=t.Vec(t.Nat8),p=t.Record({token:a,subaccount:t.Opt(u),allowance:c,spender:t.Principal}),h=t.Record({token:a,user:r}),j=t.Variant({ok:c,err:o}),b=a,m=n,y=t.Variant({ok:m,err:l}),g=t.Text,O=t.Nat32,x=t.Variant({fungible:t.Record({decimals:t.Nat8,metadata:t.Opt(t.Vec(t.Nat8)),name:t.Text,symbol:t.Text}),nonfungible:t.Record({metadata:t.Opt(t.Vec(t.Nat8))})}),f=t.Variant({ok:x,err:l}),w=t.Record({to:r,metadata:t.Opt(t.Vec(t.Nat8))}),v=t.Vec(t.Nat8),k=t.Record({to:r,token:a,notify:t.Bool,from:r,memo:v,subaccount:t.Opt(u),amount:c}),_=t.Variant({ok:c,err:t.Variant({CannotNotify:n,InsufficientBalance:t.Null,InvalidToken:a,Rejected:t.Null,Unauthorized:n,Other:t.Text})});return t.Service({acceptCycles:t.Func([],[],[]),allowance:t.Func([i],[d],["query"]),approve:t.Func([p],[],[]),availableCycles:t.Func([],[t.Nat],["query"]),balance:t.Func([h],[j],["query"]),bearer:t.Func([b],[y],["query"]),extensions:t.Func([],[t.Vec(g)],["query"]),getAllowances:t.Func([],[t.Vec(t.Tuple(O,t.Principal))],["query"]),getMinter:t.Func([],[t.Principal],["query"]),getRegistry:t.Func([],[t.Vec(t.Tuple(O,m))],["query"]),getTokens:t.Func([],[t.Vec(t.Tuple(O,x))],["query"]),metadata:t.Func([b],[f],["query"]),mintNFT:t.Func([w],[O],[]),setMinter:t.Func([t.Principal],[],[]),supply:t.Func([b],[d],["query"]),transfer:t.Func([k],[_],[])})}},30:function(e,t,a){"use strict";(function(e){var n=a(10),r=a(9),i=a(332),c=a(333),s=a(334),o=a(335),l=a(217);const d=e=>Object(r.m)(e)&&64===e.length?{address:e}:{principal:n.d.fromText(e)},u=(t,a)=>{const i=e("\ntid"),c=new Uint8Array([...i,...n.d.fromText(t).toBlob(),...Object(r.q)(a)]);return n.d.fromBlob(c).toText()},p=t=>{var a=[...n.d.fromText(t).toBlob()],i=a.splice(0,4);return Object(r.r)(i)!==Object(r.r)(e("\ntid"))?{index:0,canister:t,token:u(t,0)}:{index:Object(r.i)(a.splice(-4)),canister:n.d.fromBlob(a).toText(),token:t}},h={governance:c.a,ledger:i.a,hzld:o.a,nns:s.a,ext:l.a,default:l.a};class j{constructor(e,t){this._mapIdls={[r.c]:h.ledger,[r.b]:h.governance,[r.d]:h.nns,"qz7gu-giaaa-aaaaf-qaaka-cai":h.hzld},this._metadata={[r.c]:{name:"ICP",symbol:"ICP",decimals:8,type:"fungible"},"qz7gu-giaaa-aaaaf-qaaka-cai":{name:"HZLD",symbol:"HZLD",decimals:0,type:"fungible"}},this._identity=!1,this._host=!1,this._agent=!1,this._canisters={},t&&(this._identity=t),e&&(this._host=e),this._makeAgent()}idl(e,t){this._mapIdls[e]=t}setIdentity(e){return this._identity=e||!1,this._makeAgent(),this}setHost(e){return this._host=e||!1,this._makeAgent(),this}canister(e,t){if(t){if("string"==typeof t){if(!h.hasOwnProperty(t))throw new Error(t+" is not a preloaded IDL");t=h[t]}}else t=this._mapIdls.hasOwnProperty(e)?this._mapIdls[e]:h.default;return this._canisters.hasOwnProperty(e)||(this._canisters[e]=n.a.createActor(t,{agent:this._agent,canisterId:e})),this._canisters[e]}token(e,t){e||(e=r.c);var a=p(e);t||(t=this._mapIdls.hasOwnProperty(a.canister)?this._mapIdls[a.canister]:h.ext);var i=this.canister(a.canister,t);return{call:i,fee:()=>new Promise(((e,t)=>{switch(a.canister){case r.c:e(1e4);break;case"qz7gu-giaaa-aaaaf-qaaka-cai":e(1);break;default:e(0)}})),getMetadata:()=>new Promise(((e,t)=>{this._metadata.hasOwnProperty(a.canister)?e(this._metadata[a.canister]):(a.canister,i.metadata(a.token).then((a=>{"undefined"!=typeof a.ok?"undefined"!=typeof a.ok.fungible?e({name:a.ok.fungible.name,symbol:a.ok.fungible.symbol,decimals:a.ok.fungible.decimals,metadata:a.ok.fungible.metadata,type:"fungible"}):e({metadata:a.ok.nonfungible.metadata,type:"nonfungible"}):"undefined"!=typeof a.err?t(a.err):t(a)})).catch(t))})),getBearer:()=>new Promise(((e,t)=>{i.bearer(a.token).then((a=>{"undefined"!=typeof a.ok?e(a.ok):"undefined"!=typeof a.err?t(a.err):t(a)})).catch(t)})),getBalance:(e,t)=>new Promise(((c,s)=>{var o;switch(a.canister){case r.c:r.p.getAccountBalance(e).then((e=>{c(e)}));break;case"qz7gu-giaaa-aaaaf-qaaka-cai":o={user:n.d.fromText(t)},i.getBalanceInsecure(o).then((e=>{var t=0===e.length?0:e[0];c(t)})).catch(s);break;default:o={user:d(e),token:a.token},i.balance(o).then((e=>{"undefined"!=typeof e.ok?c(e.ok):"undefined"!=typeof e.err?s(e.err):s(e)})).catch(s)}})),getTransactions:(e,t)=>new Promise(((t,n)=>{switch(a.canister){case r.c:r.p.getTransactionsByAccount(e).then((e=>{Array.isArray(e)||t([]);var a=[];e.map((e=>"TRANSACTION"===e.type&&("COMPLETED"===e.status&&(a.push({from:e.account1Address,to:e.account2Address,amount:Number(e.amount/1e8),fee:Number(e.fee/1e8),hash:e.hash,timestamp:e.timestamp,memo:Number(e.memo)}),!0)))),a.reverse(),t(a)})).catch(n);break;case"qz7gu-giaaa-aaaaf-qaaka-cai":default:t([])}})),transfer:(t,c,s,o,l,u,p)=>new Promise(((h,j)=>{var b;switch(a.canister){case r.c:b={from_subaccount:[Object(r.l)(null!==c&&void 0!==c?c:0)],to:s,amount:{e8s:o},fee:{e8s:l},memo:u?Number(BigInt(u)):0,created_at_time:[]},i.send_dfx(b).then((e=>{h(!0)})).catch(j);break;case"qz7gu-giaaa-aaaaf-qaaka-cai":b={to:n.d.fromText(s),metadata:[],from:n.d.fromText(t),amount:o},i.transfer(b).then((e=>{"undefined"!=typeof e.ok?h(!0):j(JSON.stringify(e.err))})).catch(j);break;default:b={token:e,from:{address:Object(r.o)(t,null!==c&&void 0!==c?c:0)},subaccount:[Object(r.l)(null!==c&&void 0!==c?c:0)],to:d(s),amount:o,fee:l,memo:Object(r.j)(u),notify:p},i.transfer(b).then((e=>{"undefined"!=typeof e.ok?h(!0):j(JSON.stringify(e.err))})).catch(j)}})),mintCycles:(e,t,c,s,o)=>new Promise(((e,l)=>{switch(a.canister){case r.c:var d=Object(r.k)(c),u=Object(r.o)(r.a,d),p={from_subaccount:[Object(r.l)(null!==t&&void 0!==t?t:0)],to:u,fee:{e8s:o},memo:Number(BigInt("0x50555054")),created_at_time:[],amount:{e8s:s}};i.send_dfx(p).then((a=>{var c={block_height:a,max_fee:{e8s:o},from_subaccount:[Object(r.l)(null!==t&&void 0!==t?t:0)],to_subaccount:[Object(r.l)(d)],to_canister:n.d.fromText(r.a)};i.notify_dfx(c).then(e).catch(l)})).catch(l);break;case"5ymop-yyaaa-aaaah-qaa4q-cai":l("WIP");break;default:l("Cycle topup is not supported by this token")}}))}}_makeAgent(){var e={};this._identity&&(e.identity=this._identity),this._host&&(e.host=this._host),this._agent=new n.c(e)}}const b={connect:(e,t)=>new j(null!==e&&void 0!==e?e:"https://boundary.ic0.app/",t),decodeTokenId:p};t.a=b}).call(this,a(4).Buffer)},330:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(6),r=a.n(n),i=a(15),c=a(14),s=a(13),o=a(20),l=a(21),d=a(352),u=a(105),p=a.n(u),h=a(51),j=a.n(h),b=a(331),m=a.n(b)()({strict:!0}),y=Object.freeze({NotFound:0,Timeout:1,NetworkError:2}),g=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e,n){var r;switch(Object(s.a)(this,a),r=t.call(this,e),n){case 408:r.errorType=y.Timeout;break;case 500:r.errorType=y.NotFound;break;default:r.errorType=y.NetworkError}return r}return a}(Object(d.a)(Error)),O=function e(t,a){Object(s.a)(this,e),this.blockIndex=a,this.hash=t.transaction_identifier.hash;var n=t.metadata.timestamp.div(1e6).toNumber();this.timestamp=new Date(n);var r=t.operations;r.length>=1?(this.type=r[0].type,this.status=r[0].status,this.account1Address=r[0].account.address,this.amount=new j.a(r[0].amount.value),"TRANSACTION"!==r[0].type&&"BURN"!==r[0].type||this.amount.isZero()||(this.amount=this.amount.negated())):(this.type="",this.status="",this.account1Address="",this.amount=new j.a(0)),r.length>=2&&"TRANSACTION"===r[1].type?this.account2Address=r[1].account.address:this.account2Address="",r.length>=3&&"FEE"===r[2].type?this.fee=new j.a(-r[2].amount.value):this.fee=new j.a(0),this.memo=new j.a(t.metadata.memo)},x=function(){function e(){Object(s.a)(this,e),this.axios=p.a.create({baseURL:"https://rosetta-api.internetcomputer.org/",method:"post",transformRequest:function(e){return m.stringify(e)},transformResponse:function(e){return m.parse(e)},headers:{"Content-Type":"application/json;charset=utf-8"}}),this.networkIdentifier=this.networksList().then((function(e){return e.network_identifiers.find((function(e){return"Internet Computer"===e.blockchain}))}))}return Object(c.a)(e,[{key:"getAccountBalance",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.accountBalanceByAddress(t);case 3:return a=e.sent,e.abrupt("return",new j.a(a.balances[0].value));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",new g(e.t0.message,p.a.isAxiosError(e.t0)?null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.status:void 0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getLastBlockIndex",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.networkStatus();case 3:return t=e.sent,e.abrupt("return",t.current_block_identifier.index);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",new g(e.t0.message,p.a.isAxiosError(e.t0)?null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status:void 0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getTransaction",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.transactionsByHash(t);case 3:if(0!==(a=e.sent).transactions.length){e.next=6;break}return e.abrupt("return",new g("Transaction not found.",500));case 6:return e.abrupt("return",new O(a.transactions[0].transaction,a.transactions[0].block_identifier.index));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",new g(e.t0.message,p.a.isAxiosError(e.t0)?null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.status:void 0));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransactions",value:function(){var e=Object(i.a)(r.a.mark((function e(t,a,n){var i,c,s,o,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=5;break}i=a,e.next=9;break;case 5:return e.next=7,this.networkStatus();case 7:c=e.sent,i=c.current_block_identifier.index;case 9:n&&(i=Math.max(i-n,-1)),s=Math.min(t,i+1),o=[],l=0;case 13:if(!(l<s)){e.next=22;break}return e.t0=o,e.next=17,this.getTransactionByBlock(i-l);case 17:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 19:l++,e.next=13;break;case 22:return e.abrupt("return",o);case 25:return e.prev=25,e.t2=e.catch(0),e.abrupt("return",new g(e.t2.message,p.a.isAxiosError(e.t2)?null===e.t2||void 0===e.t2||null===(d=e.t2.response)||void 0===d?void 0:d.status:void 0));case 28:case"end":return e.stop()}}),e,this,[[0,25]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getTransactionsByAccount",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.transactionsByAccount(t);case 3:return a=e.sent,e.next=6,Promise.all(a.transactions.map((function(e){return new O(e.transaction,e.block_identifier.index)})));case 6:return n=e.sent,e.abrupt("return",n.reverse());case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",new g(e.t0.message,p.a.isAxiosError(e.t0)?null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i?void 0:i.status:void 0));case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransactionByBlock",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.blockByIndex(t);case 2:return a=e.sent,e.abrupt("return",new O(a.block.transactions[0],t));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"request",value:function(){var e=Object(i.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.axios.request({url:t,data:a});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"networksList",value:function(){return this.request("/network/list",{})}},{key:"networkStatus",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.networkIdentifier;case 2:return t=e.sent,e.abrupt("return",this.request("/network/status",{network_identifier:t}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"accountBalanceByAddress",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.networkIdentifier;case 2:return a=e.sent,e.abrupt("return",this.request("/account/balance",{network_identifier:a,account_identifier:{address:t}}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"blockByIndex",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.networkIdentifier;case 2:return a=e.sent,e.abrupt("return",this.request("/block",{network_identifier:a,block_identifier:{index:t}}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"transactionsByAccount",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.networkIdentifier;case 2:return a=e.sent,e.abrupt("return",this.request("/search/transactions",{network_identifier:a,account_identifier:{address:t}}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"transactionsByHash",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.networkIdentifier;case 2:return a=e.sent,e.abrupt("return",this.request("/search/transactions",{network_identifier:a,transaction_identifier:{hash:t}}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},332:function(e,t,a){"use strict";t.a=function(e){var t=e.IDL,a=t.Text,n=t.Record({secs:t.Nat64,nanos:t.Nat32}),r=t.Record({max_message_size_bytes:t.Opt(t.Nat32),node_max_memory_size_bytes:t.Opt(t.Nat32),controller_id:t.Principal}),i=t.Record({e8s:t.Nat64}),c=(t.Record({send_whitelist:t.Vec(t.Tuple(t.Principal)),minting_account:a,transaction_window:t.Opt(n),max_message_size_bytes:t.Opt(t.Nat32),archive_options:t.Opt(r),initial_values:t.Vec(t.Tuple(a,i))}),t.Record({account:a})),s=t.Vec(t.Nat8),o=t.Nat64,l=t.Record({to_subaccount:t.Opt(s),from_subaccount:t.Opt(s),to_canister:t.Principal,max_fee:i,block_height:o}),d=t.Nat64,u=t.Record({timestamp_nanos:t.Nat64}),p=t.Record({to:a,fee:i,memo:d,from_subaccount:t.Opt(s),created_at_time:t.Opt(u),amount:i});return t.Service({account_balance_dfx:t.Func([c],[i],["query"]),notify_dfx:t.Func([l],[],[]),send_dfx:t.Func([p],[o],[])})}},333:function(e,t,a){"use strict";t.a=function(e){var t=e.IDL,a=t.Rec(),n=t.Record({id:t.Nat64}),r=t.Record({followees:t.Vec(n)}),i=t.Record({id:t.Opt(t.Principal)}),c=t.Record({neuron_minimum_stake_e8s:t.Nat64,max_proposals_to_keep_per_topic:t.Nat32,neuron_management_fee_per_proposal_e8s:t.Nat64,reject_cost_e8s:t.Nat64,transaction_fee_e8s:t.Nat64,neuron_spawn_dissolve_delay_seconds:t.Nat64,minimum_icp_xdr_rate:t.Nat64,maximum_node_provider_rewards_e8s:t.Nat64}),s=t.Record({day_after_genesis:t.Nat64,actual_timestamp_seconds:t.Nat64,distributed_e8s_equivalent:t.Nat64,settled_proposals:t.Vec(n)}),o=t.Record({to_subaccount:t.Vec(t.Nat8),neuron_stake_e8s:t.Nat64,from:t.Opt(t.Principal),memo:t.Nat64,from_subaccount:t.Vec(t.Nat8),transfer_timestamp:t.Nat64,block_height:t.Nat64}),l=t.Record({error_message:t.Text,error_type:t.Int32}),d=t.Record({vote:t.Int32,voting_power:t.Nat64}),u=t.Record({no:t.Nat64,yes:t.Nat64,total:t.Nat64,timestamp_seconds:t.Nat64}),p=t.Record({new_controller:t.Opt(t.Principal)}),h=t.Record({amount_e8s:t.Nat64}),j=t.Record({topic:t.Int32,followees:t.Vec(n)}),b=t.Record({hot_key_to_remove:t.Opt(t.Principal)}),m=t.Record({new_hot_key:t.Opt(t.Principal)}),y=t.Record({additional_dissolve_delay_seconds:t.Nat32}),g=t.Record({dissolve_timestamp_seconds:t.Nat64}),O=t.Variant({RemoveHotKey:b,AddHotKey:m,StopDissolving:t.Record({}),StartDissolving:t.Record({}),IncreaseDissolveDelay:y,SetDissolveTimestamp:g}),x=t.Record({operation:t.Opt(O)}),f=t.Record({vote:t.Int32,proposal:t.Opt(n)}),w=t.Record({dissolve_delay_seconds:t.Nat64,kyc_verified:t.Bool,amount_e8s:t.Nat64,new_controller:t.Opt(t.Principal),nonce:t.Nat64}),v=t.Record({hash:t.Vec(t.Nat8)}),k=t.Record({e8s:t.Nat64}),_=t.Record({to_account:t.Opt(v),amount:t.Opt(k)}),N=t.Variant({Spawn:p,Split:h,Follow:j,Configure:x,RegisterVote:f,DisburseToNeuron:w,MakeProposal:a,Disburse:_}),C=t.Record({id:t.Opt(n),command:t.Opt(N)}),P=t.Record({nns_function:t.Int32,payload:t.Vec(t.Nat8)}),S=t.Record({dissolve_delay_seconds:t.Nat64}),I=t.Record({to_account:t.Opt(v)}),A=t.Variant({RewardToNeuron:S,RewardToAccount:I}),T=t.Record({node_provider:t.Opt(i),reward_mode:t.Opt(A),amount_e8s:t.Nat64}),R=t.Record({default_followees:t.Vec(t.Tuple(t.Int32,r))}),F=t.Record({principals:t.Vec(t.Principal)}),W=t.Variant({ToRemove:i,ToAdd:i}),E=t.Record({change:t.Opt(W)}),B=t.Record({motion_text:t.Text}),D=t.Variant({ManageNeuron:C,ExecuteNnsFunction:P,RewardNodeProvider:T,SetDefaultFollowees:R,ManageNetworkEconomics:c,ApproveGenesisKyc:F,AddOrRemoveNodeProvider:E,Motion:B});a.fill(t.Record({url:t.Text,action:t.Opt(D),summary:t.Text}));var V=t.Record({id:t.Opt(n),failure_reason:t.Opt(l),ballots:t.Vec(t.Tuple(t.Nat64,d)),proposal_timestamp_seconds:t.Nat64,reward_event_round:t.Nat64,failed_timestamp_seconds:t.Nat64,reject_cost_e8s:t.Nat64,latest_tally:t.Opt(u),decided_timestamp_seconds:t.Nat64,proposal:t.Opt(a),proposer:t.Opt(n),executed_timestamp_seconds:t.Nat64}),L=t.Record({controller:t.Opt(t.Principal),memo:t.Nat64}),M=t.Variant({Spawn:p,Split:h,ClaimOrRefresh:L,DisburseToNeuron:w,Disburse:_}),z=t.Record({command:t.Opt(M),timestamp:t.Nat64}),q=t.Record({vote:t.Int32,proposal_id:t.Opt(n)}),U=t.Variant({DissolveDelaySeconds:t.Nat64,WhenDissolvedTimestampSeconds:t.Nat64}),K=t.Record({id:t.Opt(n),controller:t.Opt(t.Principal),recent_ballots:t.Vec(q),kyc_verified:t.Bool,not_for_profit:t.Bool,maturity_e8s_equivalent:t.Nat64,cached_neuron_stake_e8s:t.Nat64,created_timestamp_seconds:t.Nat64,aging_since_timestamp_seconds:t.Nat64,hot_keys:t.Vec(t.Principal),account:t.Vec(t.Nat8),dissolve_state:t.Opt(U),followees:t.Vec(t.Tuple(t.Int32,r)),neuron_fees_e8s:t.Nat64,transfer:t.Opt(o)}),J=(t.Record({default_followees:t.Vec(t.Tuple(t.Int32,r)),wait_for_quiet_threshold_seconds:t.Nat64,node_providers:t.Vec(i),economics:t.Opt(c),latest_reward_event:t.Opt(s),to_claim_transfers:t.Vec(o),short_voting_period_seconds:t.Nat64,proposals:t.Vec(t.Tuple(t.Nat64,V)),in_flight_commands:t.Vec(t.Tuple(t.Nat64,z)),neurons:t.Vec(t.Tuple(t.Nat64,K)),genesis_timestamp_seconds:t.Nat64}),t.Variant({Ok:t.Null,Err:l})),H=t.Variant({Error:l,NeuronId:n}),Y=t.Record({result:t.Opt(H)}),G=t.Variant({Ok:K,Err:l}),Z=t.Record({dissolve_delay_seconds:t.Nat64,recent_ballots:t.Vec(q),created_timestamp_seconds:t.Nat64,state:t.Int32,retrieved_at_timestamp_seconds:t.Nat64,voting_power:t.Nat64,age_seconds:t.Nat64}),$=t.Variant({Ok:Z,Err:l}),Q=t.Record({id:t.Opt(n),status:t.Int32,topic:t.Int32,failure_reason:t.Opt(l),ballots:t.Vec(t.Tuple(t.Nat64,d)),proposal_timestamp_seconds:t.Nat64,reward_event_round:t.Nat64,failed_timestamp_seconds:t.Nat64,reject_cost_e8s:t.Nat64,latest_tally:t.Opt(u),reward_status:t.Int32,decided_timestamp_seconds:t.Nat64,proposal:t.Opt(a),proposer:t.Opt(n),executed_timestamp_seconds:t.Nat64}),X=t.Record({neuron_ids:t.Vec(t.Nat64),include_neurons_readable_by_caller:t.Bool}),ee=t.Record({neuron_infos:t.Vec(t.Tuple(t.Nat64,Z)),full_neurons:t.Vec(K)}),te=t.Record({include_reward_status:t.Vec(t.Int32),before_proposal:t.Opt(n),limit:t.Nat32,exclude_topic:t.Vec(t.Int32),include_status:t.Vec(t.Int32)}),ae=t.Record({proposal_info:t.Vec(Q)}),ne=t.Record({created_neuron_id:t.Opt(n)}),re=t.Record({proposal_id:t.Opt(n)}),ie=t.Record({transfer_block_height:t.Nat64}),ce=t.Variant({Error:l,Spawn:ne,Split:ne,Follow:t.Record({}),Configure:t.Record({}),RegisterVote:t.Record({}),DisburseToNeuron:ne,MakeProposal:re,Disburse:ie}),se=t.Record({command:t.Opt(ce)});return t.Service({claim_gtc_neurons:t.Func([t.Principal,t.Vec(n)],[J],[]),claim_or_refresh_neuron_from_account:t.Func([L],[Y],[]),get_full_neuron:t.Func([t.Nat64],[G],["query"]),get_neuron_ids:t.Func([],[t.Vec(t.Nat64)],["query"]),get_neuron_info:t.Func([t.Nat64],[$],["query"]),get_pending_proposals:t.Func([],[t.Vec(Q)],["query"]),get_proposal_info:t.Func([t.Nat64],[t.Opt(Q)],["query"]),list_neurons:t.Func([X],[ee],["query"]),list_proposals:t.Func([te],[ae],["query"]),manage_neuron:t.Func([C],[se],[]),transfer_gtc_neuron:t.Func([n,n],[J],[])})}},334:function(e,t,a){"use strict";t.a=({IDL:e})=>{const t=e.Text,a=e.Record({name:e.Text,canister_id:e.Principal}),n=e.Variant({Ok:e.Null,CanisterAlreadyAttached:e.Null,NameAlreadyTaken:e.Null,NameTooLong:e.Null,CanisterLimitExceeded:e.Null}),r=e.Vec(e.Nat8),i=e.Record({name:e.Text,sub_account:r,account_identifier:t}),c=e.Variant({Ok:i,AccountNotFound:e.Null,NameTooLong:e.Null,SubAccountLimitExceeded:e.Null}),s=e.Record({canister_id:e.Principal}),o=e.Variant({Ok:e.Null,CanisterNotFound:e.Null}),l=e.Record({name:e.Text,account_identifier:t}),d=e.Record({account_identifier:t,hardware_wallet_accounts:e.Vec(l),sub_accounts:e.Vec(i)}),u=e.Variant({Ok:d,AccountNotFound:e.Null}),p=e.Record({name:e.Text,canister_id:e.Principal}),h=e.Nat64,j=e.Record({latest_transaction_block_height:h,seconds_since_last_ledger_sync:e.Nat64,sub_accounts_count:e.Nat64,hardware_wallet_accounts_count:e.Nat64,accounts_count:e.Nat64,earliest_transaction_block_height:h,transactions_count:e.Nat64,block_height_synced_up_to:e.Opt(e.Nat64),latest_transaction_timestamp_nanos:e.Nat64,earliest_transaction_timestamp_nanos:e.Nat64}),b=e.Record({page_size:e.Nat8,offset:e.Nat32,account_identifier:t}),m=e.Record({timestamp_nanos:e.Nat64}),y=e.Record({e8s:e.Nat64}),g=e.Record({to:t,fee:y,amount:y}),O=e.Record({fee:y,from:t,amount:y}),x=e.Variant({Burn:e.Record({amount:y}),Mint:e.Record({amount:y}),Send:g,Receive:O}),f=e.Record({memo:e.Nat64,timestamp:m,block_height:h,transfer:x}),w=e.Record({total:e.Nat32,transactions:e.Vec(f)}),v=e.Tuple(e.Text,e.Text),k=e.Record({url:e.Text,method:e.Text,body:e.Vec(e.Nat8),headers:e.Vec(v)}),_=e.Record({body:e.Vec(e.Nat8),headers:e.Vec(v),status_code:e.Nat16}),N=e.Record({name:e.Text,account_identifier:t}),C=e.Variant({Ok:e.Null,AccountNotFound:e.Null,HardwareWalletAlreadyRegistered:e.Null,HardwareWalletLimitExceeded:e.Null,NameTooLong:e.Null}),P=e.Record({account_identifier:t}),S=e.Variant({Ok:e.Null,HardwareWalletNotFound:e.Null}),I=e.Record({new_name:e.Text,account_identifier:t}),A=e.Variant({Ok:e.Null,AccountNotFound:e.Null,SubAccountNotFound:e.Null,NameTooLong:e.Null});return e.Service({add_account:e.Func([],[t],[]),attach_canister:e.Func([a],[n],[]),create_sub_account:e.Func([e.Text],[c],[]),detach_canister:e.Func([s],[o],[]),get_account:e.Func([],[u],["query"]),get_canisters:e.Func([],[e.Vec(p)],["query"]),get_icp_to_cycles_conversion_rate:e.Func([],[e.Nat64],["query"]),get_stats:e.Func([],[j],["query"]),get_transactions:e.Func([b],[w],["query"]),http_request:e.Func([k],[_],["query"]),register_hardware_wallet:e.Func([N],[C],[]),remove_hardware_wallet:e.Func([P],[S],[]),rename_sub_account:e.Func([I],[A],[])})}},335:function(e,t,a){"use strict";t.a=function(e){var t=e.IDL,a=t.Principal,n=t.Record({user:a}),r=t.Nat,i=t.Vec(t.Nat8),c=t.Record({to:a,metadata:t.Opt(i),from:a,amount:r}),s=t.Variant({ok:t.Null,err:t.Variant({InsufficientBalance:t.Null,InvalidSource:a,Unauthorized:t.Null})}),o=t.Variant({removeOperator:t.Null,setOperator:t.Null}),l=t.Record({owner:a,operators:t.Vec(t.Tuple(a,o))}),d=t.Variant({ok:t.Null,err:t.Variant({Unauthorized:t.Null,InvalidOwner:a})});return t.Service({getBalance:t.Func([n],[t.Opt(r)],[]),getBalanceInsecure:t.Func([n],[t.Opt(r)],["query"]),getCommunityChestValueInsecure:t.Func([],[t.Opt(t.Nat)],["query"]),getInfo:t.Func([],[t.Record({balance:t.Nat,maxLiveSize:t.Nat,heap:t.Nat,size:t.Nat})],["query"]),getNumberOfAccounts:t.Func([],[t.Nat],[]),getTokenInfo:t.Func([],[t.Record({fee:t.Nat,totalMinted:t.Nat,totalSupply:t.Nat,totalTransactions:t.Nat})],["query"]),getTotalMinted:t.Func([],[t.Nat],[]),mint:t.Func([t.Principal,t.Nat],[],[]),transfer:t.Func([c],[s],[]),updateOperator:t.Func([t.Vec(l)],[d],[])})}},399:function(e,t){},421:function(e,t){},423:function(e,t){},432:function(e,t){},434:function(e,t){},461:function(e,t){},462:function(e,t){},467:function(e,t){},469:function(e,t){},476:function(e,t){},495:function(e,t){},549:function(e,t){},554:function(e,t){},556:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(26),c=a.n(i),s=a(634),o=a(637),l=a(12),d=a(635),u=a(607),p=a(349),h=a.n(p),j=a(350),b=a.n(j),m=a(636),y=a(63),g=a(599),O=a(643),x=a(638),f=a(601),w=a(558),v=a(327),k=a.n(v),_=a(604),N=a(603),C=a(602),P=a(641),S=a(68),I=a.n(S),A=a(160),T=a.n(A),R=a(69),F=a.n(R),W=a(161),E=a.n(W),B=a(596),D=a(38),V=a(326),L=a.n(V),M=a(0);const z={width:"100%",height:"100%"};var q=function(e){return Object(M.jsx)("img",{alt:e.address,style:z,src:L()(e.address)})};const U=300,K=Object(B.a)((e=>({drawer:{[e.breakpoints.up("sm")]:{width:U,flexShrink:0}},toolbar:e.mixins.toolbar,drawerPaper:{width:U,zIndex:1}})));function J(e){const{window:t}=e,a=K(),n=Object(D.a)(),r=void 0!==t?()=>t().document.body:void 0,i=Object(l.c)((e=>e.currentPrincipal)),c=Object(l.c)((e=>e.principals.length?e.principals[i].accounts:[])),s=Object(l.c)((e=>e.principals.length?e.principals[i].identity.type:"")),o=Object(l.c)((e=>e.principals.length?e.principals[i].identity.principal:"")),d=Object(l.b)(),u=Object(M.jsxs)("div",{style:{marginTop:64,marginBottom:100},children:[Object(M.jsx)("div",{style:{width:299,zIndex:10,backgroundColor:"white",position:"fixed",top:0,textAlign:"center"},className:a.toolbar,children:Object(M.jsx)("img",{style:{maxHeight:"50px",marginTop:"5px"},alt:"Stoic Wallet by Toniq Labs",src:"logo.png"})}),Object(M.jsx)(g.a,{}),Object(M.jsxs)(f.a,{children:[c.map(((t,a)=>Object(M.jsx)("div",{children:Object(M.jsxs)(w.a,{button:!0,onClick:()=>e.changeRoute("accountDetail",a),children:[Object(M.jsx)(C.a,{children:Object(M.jsx)(P.a,{children:Object(M.jsx)(q,{address:t.address})})}),Object(M.jsx)(N.a,{primaryTypographyProps:{noWrap:!0},secondaryTypographyProps:{noWrap:!0},primary:t.name,secondary:t.address})]})},a))),Object(M.jsxs)(w.a,{button:!0,onClick:()=>{var t=c.length;d({type:"account/add",payload:{id:t,principal:o}}),e.changeRoute("accountDetail",t)},children:[Object(M.jsx)(C.a,{children:Object(M.jsx)(P.a,{children:Object(M.jsx)(I.a,{})})}),Object(M.jsx)(N.a,{primary:"Add Account"})]})]}),Object(M.jsx)(g.a,{}),Object(M.jsxs)(f.a,{children:[Object(M.jsxs)(w.a,{button:!0,onClick:()=>e.changeRoute("addressBook"),children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(T.a,{})}),Object(M.jsx)(N.a,{primary:"Address Book"})]}),Object(M.jsxs)(w.a,{button:!0,onClick:()=>e.changeRoute("neurons"),children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(F.a,{})}),Object(M.jsx)(N.a,{primary:"Neurons"})]}),Object(M.jsxs)(w.a,{button:!0,onClick:()=>e.changeRoute("applications"),children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(k.a,{})}),Object(M.jsx)(N.a,{primary:"Applications"})]}),"watch"===s?"":Object(M.jsxs)(w.a,{button:!0,onClick:()=>e.lockWallet(),children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(E.a,{})}),Object(M.jsx)(N.a,{primary:"Lock Wallet"})]})]}),Object(M.jsx)("div",{style:{width:299,zIndex:10,backgroundColor:"white",position:"fixed",bottom:0,textAlign:"center"},className:a.toolbar,children:Object(M.jsx)("span",{style:{position:"absolute",bottom:"10px",left:"0",right:"0"},children:"Connected to Mainnet - v1.0.0"})})]});return Object(M.jsxs)("nav",{className:a.drawer,"aria-label":"mailbox folders",children:[Object(M.jsx)(x.a,{smUp:!0,implementation:"css",children:Object(M.jsx)(O.a,{container:r,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:e.open,onClose:e.onClose,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0},children:u})}),Object(M.jsx)(x.a,{xsDown:!0,implementation:"css",children:Object(M.jsx)(O.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0,children:u})})]})}var H=a(608),Y=a(629),G=a(70),Z=a.n(G),$=a(168),Q=a.n($),X=a(61),ee=a.n(X),te=a(169),ae=a.n(te),ne=a(628),re=a(341),ie=a.n(re),ce=a(644),se=a(640),oe=a(328),le=a.n(oe);function de(e){const[t,a]=r.a.useState(!1),n=(e,t)=>{a(!1)};return Object(M.jsxs)(M.Fragment,{children:[r.a.cloneElement(e.children,{onClick:()=>{"undefined"!=typeof e.onClick&&e.onClick(),a(!0)}}),Object(M.jsx)(se.a,{style:{position:"fixed"},open:t,autoHideDuration:6e3,anchorOrigin:e.anchorOrigin,onClose:n,message:e.message,action:Object(M.jsx)(r.a.Fragment,{children:Object(M.jsx)(u.a,{size:"small","aria-label":"close",color:"inherit",onClick:n,children:Object(M.jsx)(le.a,{fontSize:"small"})})})})]})}var ue=a(609),pe=a(610),he=a(611),je=a(30);const be={root:{height:"100%"},selectedCard:{height:"100%",backgroundColor:"#003240",color:"white"},card:{height:"100%"},title:{fontSize:14},pos:{marginBottom:12}};var me=0;const ye=je.a.connect("https://boundary.ic0.app/");function ge(e){const[t,a]=r.a.useState(!1),n=Object(l.c)((e=>e.currentPrincipal)),i=Object(l.c)((e=>e.principals.length?e.principals[n].identity:{})),c=()=>{ye.token(e.data.id).getBalance(e.address,i.principal).then((t=>{a(Number(t)/10**e.data.decimals)}))};return r.a.useEffect((()=>(c(),me=setInterval((()=>c()),1e4),()=>{clearInterval(me)})),[]),r.a.useEffect((()=>{a(!1),c()}),[e.address]),Object(M.jsx)(H.a,{style:be.root,item:!0,xl:2,lg:3,md:4,children:Object(M.jsx)(ue.a,{onClick:()=>{e.onClick()},style:e.selected?be.selectedCard:be.card,children:Object(M.jsx)(pe.a,{children:Object(M.jsxs)(he.a,{children:[Object(M.jsx)(y.a,{style:be.title,color:e.selected?"inherit":"textSecondary",gutterBottom:!0,children:e.data.name}),Object(M.jsx)(y.a,{variant:"h6",children:!1===t?"Loading":t+" "+e.data.symbol})]})})})})}const Oe={root:{height:"100%"},selectedCard:{height:"100%",backgroundColor:"#003240",color:"white"},card:{height:"100%"},title:{fontSize:14},pos:{marginBottom:12}};function xe(e){const t=Object(l.c)((e=>e.currentPrincipal)),a=Object(l.c)((e=>e.currentAccount)),n=Object(l.c)((e=>e.principals[t].accounts[a].nfts));return Object(M.jsx)(H.a,{style:Oe.root,item:!0,xl:2,lg:3,md:4,children:Object(M.jsx)(ue.a,{onClick:()=>{e.onClick()},style:e.selected?Oe.selectedCard:Oe.card,children:Object(M.jsx)(pe.a,{children:Object(M.jsxs)(he.a,{children:[Object(M.jsx)(y.a,{style:Oe.title,color:e.selected?"inherit":"textSecondary",gutterBottom:!0,children:"Non Fungible Tokens"}),Object(M.jsxs)(y.a,{variant:"h6",children:[n.length," NFT",1===n.length?"":"s"]})]})})})})}var fe=a(621),we=a(642),ve=a(612),ke=a(620),_e=a(614),Ne=a(615),Ce=a(613),Pe=a(619),Se=a(647),Ie=a(44),Ae=a(106),Te=a(10),Re=a(4),Fe=a(218);const We=a(315),Ee=We.Ecdsa,Be=We.PrivateKey,De=We.PublicKey;function Ve(e){for(var t,a,n=[],r=0;r<e.length;r++){t=e.charCodeAt(r),a=[];do{a.push(255&t),t>>=8}while(t);n=n.concat(a.reverse())}return n}class Le{constructor(e){this.rawKey=e}static fromRaw(e){return new Le(e)}static fromDer(e){return new Le(De.fromDer(e))}toDer(){var e=this.rawKey.toDer();return"string"==typeof e&&(e=new Uint8Array(Ve(this.rawKey.toDer()))),Object(Te.h)(e)}toRaw(){return this.rawKey}}class Me extends Te.e{constructor(e,t){super(),this._privateKey=t,this._publicKey=Le.fromRaw(e)}static fromPem(e){let t,a;if(!e)throw new Error("Error");return a=Be.fromPem(e),t=a.publicKey(),new this(Le.fromRaw(t),a)}static fromParsedJson(e){const[t,a]=e;return new Me(Le.fromDer(Object(Te.g)(t)),Be.fromDer(Object(Te.g)(a)))}static fromJSON(e){const t=JSON.parse(e);if(Array.isArray(t)){if("string"===typeof t[0]&&"string"===typeof t[1])return this.fromParsedJson([t[0],t[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}if("object"===typeof t&&null!==t){const{publicKey:e,_publicKey:a,secretKey:n,_privateKey:r}=t,i=e?Le.fromRaw(Object(Te.h)(new Uint8Array(e.data))):Le.fromDer(Object(Te.h)(new Uint8Array(a.data)));if(e&&n&&n.data)return new Me(i,Object(Te.h)(new Uint8Array(n.data)));if(a&&r&&r.data)return new Me(i,Object(Te.h)(new Uint8Array(r.data)))}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(e)}`)}static fromKeyPair(e,t){return new Me(Le.fromDer(e.toDer()),t)}toJSON(){return[Object(Te.i)(this._publicKey.toDer()),Object(Te.i)(Ve(this._privateKey.toDer()))]}getKeyPair(){return{secretKey:this._privateKey,publicKey:this._publicKey.toRaw()}}getPublicKey(){return this._publicKey}async sign(e){const t=e instanceof Re.Buffer?Object(Te.f)(e):Object(Te.h)(new Uint8Array(e)),a=Ee.sign(t,this._privateKey);var n=Fe.a(a.r),r=Fe.a(a.s);return Object(Te.h)(new Uint8Array([...Array.from(new Uint8Array(n)),...Array.from(new Uint8Array(r))]))}}var ze=a(337),qe=a.n(ze),Ue=a(9),Ke=a(338);const Je=a(315);window.tweetnacl=Ke,window.ellipticcurve=Je;var He={},Ye=!1;const Ge=["google","twitter","facebook","github"],Ze=async()=>(Ye||(Ye=new qe.a({clientId:"BHGs7-pkZO-KlT_BE6uMGsER2N1PC4-ERfU_c7BKN1szvtUaYFBwZMC2cwk53yIOLhdpaOFz4C55v_NounQBOfU",network:"mainnet",uxMode:"popup"})),await Ye.init(),Ye),$e=(e,t)=>{var a=e.getPrincipal().toString();return He[a]=e,{principal:a,type:t}},Qe=e=>He.hasOwnProperty(e),Xe={getIdentity:e=>!!He.hasOwnProperty(e)&&He[e],setup:(e,t)=>new Promise((async(a,n)=>{var r;switch(e){case"ii":var i=await Ae.a.create();return void i.login({maxTimeToLive:BigInt(864e11),identityProvider:"https://identity.ic0.app/",onSuccess:async()=>(r=await i.getIdentity(),a($e(r,e))),onError:n});case"private":return localStorage.setItem("_m",t.mnemonic),r=Object(Ue.n)(t.mnemonic),void Object(Ue.h)(t.mnemonic,r.getPrincipal().toString(),t.password).then((t=>{var n=localStorage.getItem("_em");return n?(n=JSON.parse(n))[r.getPrincipal().toString()]=t:(n={})[r.getPrincipal().toString()]=t,localStorage.setItem("_em",JSON.stringify(n)),a($e(r,e))}));case"pem":return r=Me.fromPem(t.pem),a($e(r,e));case"watch":return a({principal:t.principal,type:e})}if(Ge.indexOf(e)>=0){const t=await Ze();return t.privKey&&await t.logout(),await t.login({loginProvider:e}),r=Ie.d.generate(new Uint8Array(Object(Ue.j)(t.privKey))),a($e(r,e))}return n("Cannot setup, invalid type: "+e)})),load:e=>new Promise((async(t,a)=>{var n;switch(e.type){case"ii":var r=await Ae.a.create();return"2vxsx-fae"===(n=await r.getIdentity()).getPrincipal().toString()?a("Not logged in"):n.getPrincipal().toString()!==e.principal?a("Logged in using the incorrect user: "+n.getPrincipal().toString()+" but expecting "+e.principal):t($e(n,e.type));case"private":if(Qe(e.principal))return t({principal:e.principal,type:e.type});var i=localStorage.getItem("_m");if(i){var c=i;return n=Object(Ue.n)(c),t($e(n,e.type))}return a("No seed");case"pem":return Qe(e.principal)?t({principal:e.principal,type:e.type}):a();case"watch":return t({principal:e.principal,type:e.type})}if(Ge.indexOf(e.type)>=0){const r=await Ze();return r.privKey&&0!==r.privKey.length?(n=Ie.d.generate(new Uint8Array(Object(Ue.j)(r.privKey)))).getPrincipal().toString()!==e.principal?(await r.logout(),a("Logged in using the incorrect user "+n.getPrincipal().toString()+" expecting "+e.principal)):t($e(n,e.type)):a("Not logged in")}return a()})),unlock:(e,t)=>new Promise((async(a,n)=>{Xe.load(e).then(a).catch((async r=>{var i;switch(e.type){case"ii":var c=await Ae.a.create();return void c.login({maxTimeToLive:BigInt(864e11),identityProvider:"https://identity.ic0.app/",onSuccess:async()=>"2vxsx-fae"===(i=await c.getIdentity()).getPrincipal().toString()?n("Not logged in"):i.getPrincipal().toString()!==e.principal?n("Logged in using the incorrect user: "+i.getPrincipal().toString()+" but expecting "+e.principal):a($e(i,e.type)),onError:n});case"private":var s=localStorage.getItem("_em");if(!s)return n("No encrypted seed to decrypt");var o,l=JSON.parse(s);if(!0===l.hasOwnProperty("iv")){o=JSON.stringify(l);var d={};d[e.principal]=o,localStorage.setItem("_em",JSON.stringify(d))}else{if(!1===l.hasOwnProperty(e.principal))return n("No encrypted seed to decrypt");o=l[e.principal]}return void Object(Ue.g)(o,e.principal,t.password).then((t=>(localStorage.setItem("_m",t),i=Object(Ue.n)(t),a($e(i,e.type))))).catch(n);case"pem":return i=Me.fromPem(t.pem),a($e(i,e.type))}if(Ge.indexOf(e.type)>=0)try{const t=await Ze();return t.privKey||await t.login({loginProvider:e.type}),(i=Ie.d.generate(new Uint8Array(Object(Ue.j)(t.privKey)))).getPrincipal().toString()!==e.principal?(await t.logout(),n("Logged in using the incorrect user "+i.getPrincipal().toString()+" expecting "+e.principal)):a($e(i,e.type))}catch(r){return n("Something happened")}}))})),lock:e=>new Promise((async(t,a)=>{switch(e.type){case"ii":(await Ae.a.create()).logout();break;case"private":localStorage.removeItem("_m")}if(Ge.indexOf(e.type)>=0)try{const e=await Ze();await e.logout()}catch(n){console.log(n)}return delete He[e.principal],t(!0)})),clear:e=>new Promise((async(t,a)=>{switch(e.type){case"ii":(await Ae.a.create()).logout();break;case"private":localStorage.removeItem("_m"),localStorage.removeItem("_em")}if(Ge.indexOf(e.type)>=0)try{const e=await Ze();await e.logout()}catch(n){console.log(n)}return delete He[e.principal],t(!0)})),change:(e,t,a)=>new Promise((async(n,r)=>{switch(e.type){case"ii":(await Ae.a.create()).logout();break;case"private":localStorage.removeItem("_m")}if(Ge.indexOf(e.type)>=0)try{const e=await Ze();await e.logout()}catch(i){console.log(i)}delete He[e.principal],Xe.setup(t,a).then(n).catch(r)})),validatePrincipal:Ue.t,validateMnemonic:Ue.f.validateMnemonic,generateMnemonic:Ue.f.generateMnemonic,validatePassword:e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d\w\W]{8,}$/.test(e)};const et={ii:"Internet Identity",private:"Mnemonic Key",watch:"Read-only",pem:"PEM Import",google:"Google Account",twitter:"Twitter Account",reddit:"Reddit Account",github:"Github Account",facebook:"Facebook Account"},tt=e=>{navigator.clipboard?navigator.clipboard.writeText(e).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)})):function(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var a=document.execCommand("copy")?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+a)}catch(n){console.error("Fallback: Oops, unable to copy",n)}document.body.removeChild(t)}(e)},at=e=>{if(!e)return"";if(64===e.length&&/^[0-9a-fA-F]+$/.test(e))return e.substr(0,16)+"...";var t=e.split("-");return t.length<=4?e:t[0]+"-"+t[1].substr(0,3)+"..."+t[t.length-3].substr(2)+"-"+t[t.length-2]+"-"+t[t.length-1]};function nt(e){const t=Object(l.c)((e=>e.currentPrincipal)),a=Object(l.c)((e=>e.currentAccount)),n=Object(l.c)((e=>e.principals.length?e.principals[t].identity:{})),[i,c]=r.a.useState(!1),[s,o]=r.a.useState(0),[d,u]=r.a.useState(!1),[p,h]=r.a.useState(0),[j,b]=r.a.useState(0),[m,y]=r.a.useState(0),[g,O]=r.a.useState(""),[x,f]=r.a.useState(!1),[w,v]=r.a.useState(""),[k,_]=r.a.useState(!1),N=je.a.connect("https://boundary.ic0.app/"),C=t=>{e.error(t)},P=()=>{c(!1),o(0),h(0),b(0),y(0),u(!1),O(""),f(!1),v(""),_(!1)};return r.a.useEffect((()=>{N.token(e.data.id).fee().then((t=>{b(t/10**e.data.decimals),y(t/10**e.data.decimals)})),N.token(e.data.id).getBalance(e.address,n.principal).then((t=>{u(Number(t)/10**e.data.decimals)}))}),[e.data.id,i]),Object(M.jsxs)(M.Fragment,{children:[r.a.cloneElement(e.children,{onClick:()=>{c(!0)}}),Object(M.jsxs)(ve.a,{open:i,onClose:P,maxWidth:"sm",fullWidth:!0,children:[Object(M.jsxs)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:["Send ",e.data.name," Tokens (",e.data.symbol,")"]}),0===s?Object(M.jsxs)(_e.a,{children:[Object(M.jsx)(Ne.a,{style:{textAlign:"center",fontWeight:"bold"},children:"Please enter the recipient address and amount that you wish to send below."}),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(we.a,{autoFocus:!0,margin:"dense",label:"Address of the Recipient",value:g,onChange:e=>O(e.target.value),type:"text",fullWidth:!0,InputLabelProps:{shrink:!0}}),Object(M.jsx)(we.a,{style:{width:"49%",marginRight:"2%"},margin:"dense",label:"Amount of "+e.data.symbol+" to Send",value:p,onChange:e=>h(e.target.value),type:"text",InputLabelProps:{shrink:!0}}),j>0?Object(M.jsx)(we.a,{style:{width:"49%"},margin:"dense",label:"Fee",value:m,onChange:e=>y(e.target.value),type:"text",InputLabelProps:{shrink:!0}}):"",Object(M.jsxs)(Ne.a,{style:{fontSize:"small",textAlign:"center",marginTop:"20px"},children:[!1!==d?"Balance: "+d+" "+e.data.symbol+" ":"",j>0?"Min Fee: "+j+" "+e.data.symbol:""]}),x?Object(M.jsx)("p",{style:{cursor:"pointer",fontWeight:"bold"},onClick:()=>f(!1),children:"Hide Advanced Options"}):Object(M.jsx)("p",{href:"#",style:{cursor:"pointer",fontWeight:"bold"},onClick:()=>f(!0),children:"Show Advanced Options"})]}),x?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(we.a,{margin:"dense",multiline:!0,rows:"2",rowsMax:"4",label:"Optional Memo",value:w,onChange:e=>v(e.target.value),type:"text",fullWidth:!0,InputLabelProps:{shrink:!0}}),Object(M.jsx)(Pe.a,{control:Object(M.jsx)(Se.a,{checked:k,onChange:e=>_(e.target.checked),name:"notify"}),label:"Notify receiver?"})]}):""]}):Object(M.jsxs)(_e.a,{children:[Object(M.jsxs)(Ne.a,{style:{textAlign:"center"},children:["Please confirm that you are about to send ",Object(M.jsx)("br",{}),Object(M.jsxs)("strong",{style:{color:"red"},children:[p," ",e.data.symbol]}),Object(M.jsx)("br",{}),"from ",Object(M.jsx)("strong",{style:{color:"red"},children:at(e.address)}),Object(M.jsx)("br",{}),"to ",Object(M.jsx)("strong",{style:{color:"red"},children:at(g)}),Object(M.jsx)("br",{}),m>0?" using a fee of "+m:""]}),Object(M.jsx)(Ne.a,{style:{textAlign:"center"},children:Object(M.jsx)("strong",{children:"All transactions are irreversible, so ensure the above details are correct before you continue."})})]}),Object(M.jsxs)(ke.a,{children:[Object(M.jsx)(fe.a,{onClick:P,color:"primary",children:"Cancel"}),0===s?Object(M.jsx)(fe.a,{onClick:()=>{if(isNaN(p))return C("Please enter a valid amount to send");if(isNaN(m))return C("Please enter a valid fee to use");if(m!==j)return C("The fee must be "+j);switch(e.data.symbol){case"ICP":if(!Object(Ue.s)(g))return C("Please enter a valid address");break;case"HZLD":if(!Object(Ue.t)(g))return C("Please enter a valid principal to send to");break;default:if(!Object(Ue.s)(g)&&!Object(Ue.t)(g))return C("Please enter a valid address to send to")}if(Number(p)+Number(m)>d)return C("You have insufficient "+e.data.symbol);o(1)},color:"primary",children:"Review Transaction"}):Object(M.jsx)(fe.a,{onClick:()=>{var t=n.principal,r=a,i=g,c=BigInt(p*10**e.data.decimals),s=BigInt(m*10**e.data.decimals),o=w,l=k;const d=Xe.getIdentity(n.principal);if(!d)return C("Something wrong with your wallet, try logging in again");e.loader(!0),P(),je.a.connect("https://boundary.ic0.app/",d).token(e.data.id).transfer(t,r,i,c,s,o,l).then((t=>t?e.alert("Transaction complete","Your transfer was sent successfully"):C("Something went wrong with this transfer"))).catch((e=>C("There was an error: "+e))).finally((()=>{e.loader(!1)}))},color:"primary",children:"Confirm Transaction"})]})]})]})}function rt(e){const t=Object(l.c)((e=>e.currentPrincipal)),a=Object(l.c)((e=>e.currentAccount)),n=Object(l.c)((e=>e.principals.length?e.principals[t].identity:{})),[i,c]=r.a.useState(!1),[s,o]=r.a.useState(0),[d,u]=r.a.useState(!1),[p,h]=r.a.useState(0),[j,b]=r.a.useState(0),[m,y]=r.a.useState(""),g=2e-4,O=je.a.connect("https://boundary.ic0.app/"),x=t=>{e.error(t)},f=()=>{c(!1),o(0),b(0),u(!1),y("")};return r.a.useEffect((()=>{O.canister(Ue.d).get_icp_to_cycles_conversion_rate().then((e=>{h(Number(e/BigInt(10**10))/100)})),O.token().getBalance(e.address,n.principal).then((e=>{u(Number(e)/10**8)}))}),[e.data.id,i]),Object(M.jsxs)(M.Fragment,{children:[r.a.cloneElement(e.children,{onClick:()=>{c(!0)}}),Object(M.jsxs)(ve.a,{open:i,onClose:f,maxWidth:"sm",fullWidth:!0,children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Top-up your canister"}),0===s?Object(M.jsxs)(_e.a,{children:[Object(M.jsx)(Ne.a,{style:{textAlign:"center",fontWeight:"bold"},children:"Please enter the Canister ID and the amount of ICP you would like converted to cycles and added to the canister"}),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(we.a,{autoFocus:!0,margin:"dense",label:"Canister ID",value:m,onChange:e=>y(e.target.value),type:"text",style:{width:"49%",marginRight:"2%"},InputLabelProps:{shrink:!0}}),Object(M.jsx)(we.a,{style:{width:"49%"},margin:"dense",label:"Amount of ICP to Send",value:j,onChange:e=>b(e.target.value),type:"text",InputLabelProps:{shrink:!0}}),Object(M.jsxs)(Ne.a,{style:{fontSize:"small",textAlign:"center",marginTop:"20px"},children:[!1!==d?"Balance: "+d+" "+e.data.symbol+" ":"","Min Fee: 0.0002",Object(M.jsx)("br",{}),Object(M.jsxs)("strong",{style:{color:"#00b894"},children:["1ICP converts to ~",p,"T Cycles"]})]})]})]}):Object(M.jsxs)(_e.a,{children:[Object(M.jsxs)(Ne.a,{style:{textAlign:"center"},children:["Please confirm that you are about to send ",Object(M.jsxs)("strong",{style:{color:"red"},children:[j," ICP"]}),Object(M.jsx)("br",{}),"from ",Object(M.jsx)("strong",{style:{color:"red"},children:at(e.address)}),Object(M.jsx)("br",{}),"to add ~",Math.round(p*j*100,2)/100,"T Cycles to ",Object(M.jsx)("strong",{style:{color:"red"},children:at(m)}),Object(M.jsx)("br",{})," using a fee of "+g]}),Object(M.jsx)(Ne.a,{style:{textAlign:"center"},children:Object(M.jsx)("strong",{children:"All transactions are irreversible, so ensure the above details are correct before you continue."})})]}),Object(M.jsxs)(ke.a,{children:[Object(M.jsx)(fe.a,{onClick:f,color:"primary",children:"Cancel"}),0===s?Object(M.jsx)(fe.a,{onClick:()=>(console.log(j,g,j+g,Number(j)+Number(g)),isNaN(j)?x("Please enter a valid amount to send"):Object(Ue.t)(m)?Number(j)+Number(g)>d?x("You have insufficient ICP"):void o(1):x("Please enter a valid canister ID")),color:"primary",children:"Review Transaction"}):Object(M.jsx)(fe.a,{onClick:()=>{var t=n.principal,r=a,i=m,c=BigInt(j*10**8),s=BigInt(1e4);const o=Xe.getIdentity(n.principal);if(!o)return x("Something wrong with your wallet, try logging in again");e.loader(!0),f(),je.a.connect("https://boundary.ic0.app/",o).token().mintCycles(t,r,i,c,s).then((t=>e.alert("Transaction complete","Your cycles have been minted and sent to your canister"))).catch((e=>x("There was an error: "+e))).finally((()=>{e.loader(!1)}))},color:"primary",children:"Confirm Transaction"})]})]})]})}var it=a(623),ct=a(627),st=a(626),ot=a(622),lt=a(624),dt=a(625),ut=a(220),pt=a(339),ht=a.n(pt),jt=0;const bt=je.a.connect("https://boundary.ic0.app/");function mt(e){const[t,a]=r.a.useState(!1),n={empty:{maxWidth:400,margin:"0 auto"},table:{minWidth:650}},i=()=>{jt&&clearInterval(jt),jt=0},c=()=>{jt&&i(),o(),jt=setInterval(o,1e4)},s=e=>e.toFixed(8).replace(/0{1,6}$/,""),o=()=>{var t,n;(t=e.data.id,n=e.address,bt.token(t).getTransactions(n).then((e=>[e,t,n]))).then((t=>{t[1]===e.data.id&&t[2]===e.address&&a(t[0])}))};return r.a.useEffect((()=>(c(),()=>{i()})),[]),r.a.useEffect((()=>{i(),setTimeout((()=>{a(!1),c()}),100)}),[e.address,e.data.id]),Object(M.jsx)(M.Fragment,{children:!1===t?Object(M.jsx)("div",{style:n.empty,children:Object(M.jsx)(y.a,{paragraph:!0,style:{paddingTop:20,fontWeight:"bold"},align:"center",children:"Loading transactions..."})}):0===t.length?Object(M.jsx)("div",{style:n.empty,children:Object(M.jsx)(y.a,{paragraph:!0,style:{paddingTop:20,fontWeight:"bold"},align:"center",children:"No transactions available"})}):Object(M.jsx)(ot.a,{component:ut.a,children:Object(M.jsxs)(it.a,{style:n.table,"aria-label":"simple table",children:[Object(M.jsx)(lt.a,{children:Object(M.jsxs)(dt.a,{children:[Object(M.jsx)(st.a,{children:"Date"}),Object(M.jsx)(st.a,{children:"Description"}),Object(M.jsx)(st.a,{align:"right",children:"Amount"})]})}),Object(M.jsx)(ct.a,{children:t.map(((t,a)=>Object(M.jsxs)(dt.a,{children:[Object(M.jsx)(st.a,{component:"th",scope:"row",children:Object(M.jsx)(ht.a,{relative:!0,autoUpdate:!0,date:t.timestamp})}),Object(M.jsx)(st.a,{children:t.from===e.address?Object(M.jsxs)(M.Fragment,{children:["Sent ",Object(M.jsxs)("strong",{children:[t.amount," ",e.data.symbol]})," to ",t.to," with a ",Object(M.jsxs)("strong",{children:[t.fee," ",e.data.symbol]})," Fee",Object(M.jsx)("br",{}),"(",Object(M.jsx)("a",{href:"https://ic.rocks/transaction/"+t.hash,target:"_blank",rel:"noreferrer",children:"View Transaction"}),")"]}):Object(M.jsxs)(M.Fragment,{children:["Received ",Object(M.jsxs)("strong",{children:[t.amount," ",e.data.symbol]})," from ",t.from,Object(M.jsx)("br",{}),"(",Object(M.jsx)("a",{href:"https://ic.rocks/transaction/"+t.hash,target:"_blank",rel:"noreferrer",children:"View Transaction"}),")"]})}),Object(M.jsx)(st.a,{align:"right",children:t.from===e.address?Object(M.jsxs)("span",{style:{color:"red",fontWeight:"bold"},children:["-",s(t.amount+t.fee)]}):Object(M.jsxs)("span",{style:{color:"#00b894",fontWeight:"bold"},children:["+",s(t.amount)]})})]},e.data.id+e.address+t.hash+a)))})]})})})}var yt=a(89),gt=a.n(yt);const Ot=je.a.connect("https://boundary.ic0.app/"),xt={"e3izy-jiaaa-aaaah-qacbq-cai":"Cronics"},ft={};function wt(e){const t=Object(l.c)((e=>e.currentPrincipal)),a=Object(l.c)((e=>e.currentAccount)),n=Object(l.c)((e=>e.principals.length?e.principals[t].accounts[a]:{})),[i,c]=r.a.useState([]),[s,o]=r.a.useState({}),d=Object(l.b)(),p={empty:{maxWidth:400,margin:"0 auto"},table:{minWidth:650}},h=t=>{e.error(t)};return r.a.useEffect((()=>{var e=[];n.nfts.map((t=>{var a;return e.push({id:t.id,canister:je.a.decodeTokenId(t.id).canister,metadata:Object(Ue.r)(t.metadata.metadata[0]),bearer:!1}),a=t.id,Ot.token(a).getBearer().then((e=>{ft[a]=e,o(ft)})),!1})),c(e)}),[a,n.nfts]),Object(M.jsx)(M.Fragment,{children:0===i.length?Object(M.jsx)("div",{style:p.empty,children:Object(M.jsx)(y.a,{paragraph:!0,style:{paddingTop:20,fontWeight:"bold"},align:"center",children:"You have no NFT's right now"})}):Object(M.jsx)(ot.a,{component:ut.a,children:Object(M.jsxs)(it.a,{style:p.table,"aria-label":"simple table",children:[Object(M.jsx)(lt.a,{children:Object(M.jsxs)(dt.a,{children:[Object(M.jsx)(st.a,{width:"220",style:{fontWeight:"bold"},children:"ID"}),Object(M.jsx)(st.a,{width:"100",style:{fontWeight:"bold"},children:"Preview"}),Object(M.jsx)(st.a,{width:"220",style:{fontWeight:"bold"},children:"Canister"}),Object(M.jsx)(st.a,{style:{fontWeight:"bold"},children:"Metadata"}),Object(M.jsx)(st.a,{width:"190",style:{fontWeight:"bold"},children:"Bearer"}),Object(M.jsx)(st.a,{width:"150",align:"right",style:{fontWeight:"bold"},children:"Actions"})]})}),Object(M.jsx)(ct.a,{children:i.map(((t,a)=>{var r;return Object(M.jsxs)(dt.a,{children:[Object(M.jsxs)(st.a,{style:{fontWeight:"bold"},children:[at(t.id),Object(M.jsx)(de,{message:"NFT ID Copied",anchorOrigin:{vertical:"bottom",horizontal:"left"},onClick:()=>tt(t.id),children:Object(M.jsx)(u.a,{size:"small",edge:"end","aria-label":"copy",children:Object(M.jsx)(ee.a,{style:{fontSize:18}})})})]}),Object(M.jsx)(st.a,{children:Object(M.jsx)("a",{href:"https://"+t.canister+".raw.ic0.app/?tokenid="+t.id,target:"_blank",rel:"noreferrer",children:Object(M.jsx)("img",{alt:at(t.id),src:"https://"+t.canister+".raw.ic0.app/?tokenid="+t.id,style:{width:64}})})}),Object(M.jsxs)(st.a,{children:[null!==(r=xt[t.canister])&&void 0!==r?r:at(t.canister),Object(M.jsx)(ce.a,{title:"View in browser",children:Object(M.jsx)(u.a,{size:"small",href:"https://"+t.canister+".raw.ic0.app",target:"_blank",edge:"end","aria-label":"search",children:Object(M.jsx)(Z.a,{style:{fontSize:18}})})})]}),Object(M.jsxs)(st.a,{children:[t.metadata.substr(0,22)+"...",Object(M.jsx)(de,{message:"NFT Metadata Copied",anchorOrigin:{vertical:"bottom",horizontal:"left"},onClick:()=>tt(t.metadata),children:Object(M.jsx)(u.a,{size:"small",edge:"end","aria-label":"copy",children:Object(M.jsx)(ee.a,{style:{fontSize:18}})})})]}),Object(M.jsx)(st.a,{children:s[t.id]?s[t.id]===n.address?Object(M.jsx)("strong",{children:"Owned by You"}):Object(M.jsxs)(M.Fragment,{children:[at(s[t.id]),Object(M.jsx)(ce.a,{title:"View on ic.rocks",children:Object(M.jsx)(u.a,{size:"small",href:"https://ic.rocks/account/"+s[t.id],target:"_blank",edge:"end","aria-label":"search",children:Object(M.jsx)(Z.a,{style:{fontSize:18}})})})]}):"Loading..."}),Object(M.jsxs)(st.a,{align:"right",children:[Object(M.jsx)(ce.a,{title:"Remove from Stoic",children:Object(M.jsx)(u.a,{onClick:()=>{return a=t.id,void e.confirm("Please confirm","You are about to remove this NFT from your account? This does not affect the ownership of the NFT, and you can add it back again in future").then((e=>{d({type:"account/nft/remove",payload:{id:a}})}));var a},children:Object(M.jsx)(gt.a,{})})}),Object(M.jsx)(ce.a,{title:"Send",children:Object(M.jsx)(u.a,{onClick:()=>(t.id,void h("Sending NFT's is currently not enabled")),children:Object(M.jsx)(Q.a,{})})})]})]},t.id)}))})]})})})}const vt=Object(B.a)((e=>({root:{"& > *":{margin:e.spacing(1)}}})));function kt(e){const t=vt();return Object(M.jsx)("div",{className:t.root,children:Object(M.jsx)(ne.a,{style:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"},...e,children:e.children})})}function _t(e){var t,a;const[n,i]=r.a.useState(!1),[c,s]=r.a.useState(null!==(t=e.defaultValue)&&void 0!==t?t:""),[o,l]=r.a.useState(null!==(a=e.defaultSecondaryValue)&&void 0!==a?a:""),d=()=>{i(!1)};return Object(M.jsxs)(M.Fragment,{children:[r.a.cloneElement(e.children,{onClick:()=>{i(!0)}}),Object(M.jsxs)(ve.a,{open:n,onClose:d,"aria-labelledby":"form-dialog-title",children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",children:e.title}),Object(M.jsxs)(_e.a,{children:[Object(M.jsx)(Ne.a,{children:e.content}),Object(M.jsx)(we.a,{autoFocus:!0,margin:"dense",label:e.inputLabel,value:c,onChange:e=>s(e.target.value),type:"text",InputLabelProps:{shrink:!0},fullWidth:!0}),e.secondaryInput?Object(M.jsx)(we.a,{margin:"dense",label:e.secondaryInput,value:o,onChange:e=>l(e.target.value),type:"text",InputLabelProps:{shrink:!0},fullWidth:!0}):""]}),Object(M.jsxs)(ke.a,{children:[Object(M.jsx)(fe.a,{onClick:d,color:"primary",children:"Cancel"}),Object(M.jsx)(fe.a,{onClick:()=>{var t,a;"undefined"!=typeof e.onClick&&e.onClick(c,o),i(!1),s(null!==(t=e.defaultValue)&&void 0!==t?t:""),l(null!==(a=e.defaultSecondaryValue)&&void 0!==a?a:"")},color:"primary",children:e.buttonLabel})]})]})]})}const Nt=je.a.connect("https://boundary.ic0.app/");var Ct=function(e){const t=Object(l.c)((e=>e.currentToken)),a=Object(l.c)((e=>e.currentPrincipal)),n=Object(l.c)((e=>e.currentAccount)),i=Object(l.c)((e=>e.principals[a].identity.principal)),c=Object(l.c)((e=>e.principals[a].apps)),s=Object(l.c)((e=>e.principals.length?e.principals[a].identity.type:"")),o=Object(l.c)((e=>e.principals.length?e.principals[a].accounts[n]:{})),[d,p]=r.a.useState(o.tokens),h=Object(l.b)();r.a.useEffect((()=>{const e=window.location.search;null!==new URLSearchParams(e).get("authorizeApp")&&(window.addEventListener("message",(function(e){if(e.source===window.opener&&"requestAuthorization"===e.data.action){var t=c.find((t=>t.host===e.origin)),a={action:"confirmAuthorization",principal:i,key:Xe.getIdentity(i).getPublicKey().toDer(),type:Xe.getIdentity(i).hasOwnProperty("_delegation")?"DelegationIdentity":"Standard"};t&&t.apikey===e.data.apikey?window.opener.postMessage(a,"*"):window.confirm('Do you want to authorize "'+e.origin+'" to access your princpal "'+i+'"?')?(t?(t.apikey=e.data.apikey,h({type:"app/edit",payload:{app:t}})):(t={host:e.origin,apikey:e.data.apikey},h({type:"app/add",payload:{app:t}})),window.opener.postMessage(a,"*")):window.opener.postMessage({action:"rejectAuthorization"},"*")}}),!1),window.opener.postMessage({action:"initiateStoicConnect"},"*"))}),[]),r.a.useEffect((()=>{p(o.tokens)}),[t,n,a]);const j=Object(D.a)(),b={root:{flexGrow:1,padding:j.spacing(3)},grid:{flexGrow:1,padding:j.spacing(2)}},m=t=>{e.alert("There was an error",t)},y=(t,a)=>{e.alert(t,a)},g=e=>{h({type:"currentToken",payload:{index:e}})};return Object(M.jsxs)("div",{style:b.root,children:[Object(M.jsx)(f.a,{children:Object(M.jsxs)(w.a,{children:[Object(M.jsx)(C.a,{children:Object(M.jsx)(P.a,{style:{width:60,height:60},children:Object(M.jsx)(q,{address:o.address})})}),Object(M.jsx)(N.a,{style:{paddingLeft:20},primaryTypographyProps:{noWrap:!0,variant:"h4"},secondaryTypographyProps:{noWrap:!0,variant:"subtitle1"},primary:o.name,secondary:Object(M.jsxs)("div",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:[o.address.substr(0,22)+"...",Object(M.jsx)(de,{message:"Address Copied",anchorOrigin:{vertical:"bottom",horizontal:"left"},onClick:()=>tt(o.address),children:Object(M.jsx)(u.a,{size:"small",edge:"end","aria-label":"copy",children:Object(M.jsx)(ee.a,{style:{fontSize:18}})})})]})}),Object(M.jsxs)(Y.a,{children:[Object(M.jsx)(_t,{onClick:e=>e?e.length>20?m("Max length or account names is 20 characters"):void h({type:"account/edit",payload:{name:e}}):m("Please enter a valid account name"),title:"Change Account Name",inputLabel:"Account Name",secondaryInput:!1,content:"Enter a new friendly name for this account.",defaultValue:o.name,buttonLabel:"Save",children:Object(M.jsx)(ce.a,{title:"Edit account name",children:Object(M.jsx)(u.a,{edge:"end","aria-label":"edit",children:Object(M.jsx)(ae.a,{})})})}),Object(M.jsx)(ce.a,{title:"View in explorer (ic.rocks)",children:Object(M.jsx)(u.a,{href:"https://ic.rocks/account/"+o.address,target:"_blank",edge:"end","aria-label":"search",children:Object(M.jsx)(Z.a,{})})})]})]})}),Object(M.jsx)("div",{style:b.grid,children:Object(M.jsxs)(H.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"flex-start",children:[d.map(((e,a)=>Object(M.jsx)(ge,{address:o.address,data:e,onClick:()=>g(a),selected:a===t},o.address+e.symbol))),o.nfts.length>0?Object(M.jsx)(xe,{address:o.address,onClick:()=>g("nft"),selected:"nft"===t}):"",Object(M.jsx)(H.a,{style:b.root,item:!0,xl:2,lg:3,md:4,children:Object(M.jsx)(_t,{onClick:t=>Object(Ue.t)(t)?o.tokens.findIndex((e=>e.id===t))>=0||o.nfts.findIndex((e=>e.id===t))>=0?m("Token has already been added"):(e.loader(!0),void Nt.token(t).getMetadata().then((a=>{"fungible"===a.type?(a.id=t,h({type:"account/token/add",payload:{metadata:a}}),e.loader(!1),h({type:"currentToken",payload:{index:o.tokens.length}})):(h({type:"account/nft/add",payload:{nft:{id:t,metadata:a}}}),e.loader(!1),h({type:"currentToken",payload:{index:"nft"}}))})).finally((()=>{e.loader(!1)}))):m("Please enter a valid canister ID"),title:"Add token",inputLabel:"Canister ID",content:"Enter the Canister ID for the token you wish to add",buttonLabel:"Add",children:Object(M.jsx)(ce.a,{title:"Add a new token to this account",children:Object(M.jsx)(ne.a,{color:"primary","aria-label":"add",children:Object(M.jsx)(I.a,{})})})})})]})}),0!==t&&"nft"!==t?Object(M.jsxs)("div",{style:{marginLeft:"15px",color:"rgba(0, 0, 0, 0.54)"},children:[Object(M.jsx)("strong",{children:"Token ID:"})," ",o.tokens[t].id,Object(M.jsx)(de,{message:"Token ID Copied",anchorOrigin:{vertical:"bottom",horizontal:"left"},onClick:()=>tt(o.tokens[t].id),children:Object(M.jsx)(u.a,{size:"small",edge:"end","aria-label":"copy",children:Object(M.jsx)(ee.a,{style:{fontSize:14}})})})]}):"","nft"===t?Object(M.jsx)(wt,{error:m,confirm:e.confirm}):"","nft"!==t?Object(M.jsx)(mt,{data:o.tokens[t],address:o.address}):"","watch"===s?"":Object(M.jsxs)(M.Fragment,{children:[0===t?Object(M.jsx)(rt,{alert:y,loader:e.loader,error:m,address:o.address,data:o.tokens[t],children:Object(M.jsx)(kt,{style:{inset:"auto 12px 80px auto",position:"fixed"},color:"primary","aria-label":"send",children:Object(M.jsx)(ie.a,{})})}):"","nft"!==t?Object(M.jsx)(nt,{alert:y,loader:e.loader,error:m,address:o.address,data:o.tokens[t],children:Object(M.jsx)(kt,{color:"primary","aria-label":"send",children:Object(M.jsx)(Q.a,{})})}):""]})]})};var Pt=function(e){const t=Object(l.c)((e=>e.addresses)),a=Object(l.b)(),n=t=>{e.alert("There was an error",t)},r={root:{flexGrow:1,padding:Object(D.a)().spacing(3)},empty:{maxWidth:400,margin:"0 auto",paddingTop:30},largeIcon:{width:60,height:60}};return Object(M.jsxs)(M.Fragment,{children:[t.length>0?Object(M.jsx)(f.a,{children:t.map(((e,t)=>Object(M.jsxs)(w.a,{children:[Object(M.jsx)(C.a,{children:Object(M.jsx)(P.a,{children:Object(M.jsx)(q,{address:e.address})})}),Object(M.jsx)(N.a,{primaryTypographyProps:{noWrap:!0},secondaryTypographyProps:{noWrap:!0},primary:e.name,secondary:Object(M.jsxs)(M.Fragment,{children:[e.address,Object(M.jsx)(de,{message:"Address Copied",anchorOrigin:{vertical:"bottom",horizontal:"left"},onClick:()=>tt(e.address),children:Object(M.jsx)(u.a,{size:"small",edge:"end","aria-label":"copy",children:Object(M.jsx)(ee.a,{style:{fontSize:18}})})})]})}),Object(M.jsxs)(Y.a,{children:[Object(M.jsx)(_t,{onClick:(e,n)=>((e,t,n)=>{a({type:"addresses/edit",payload:{index:n,name:e,address:t}})})(e,n,t),title:"Edit contact from address book",inputLabel:"Contact Name",secondaryInput:"Contact Address",content:"Update the details of a saved contact",buttonLabel:"Save",defaultValue:e.name,defaultSecondaryValue:e.address,children:Object(M.jsx)(u.a,{edge:"end","aria-label":"edit",children:Object(M.jsx)(ae.a,{})})}),Object(M.jsx)(u.a,{onClick:()=>{a({type:"addresses/delete",payload:t})},edge:"end","aria-label":"delete",children:Object(M.jsx)(gt.a,{})})]})]},t)))}):Object(M.jsxs)("div",{style:r.empty,children:[Object(M.jsx)(y.a,{paragraph:!0,align:"center",children:Object(M.jsx)(T.a,{style:r.largeIcon})}),Object(M.jsx)(y.a,{paragraph:!0,style:{fontWeight:"bold"},align:"center",children:"Your address book is empty"}),Object(M.jsx)(y.a,{paragraph:!0,align:"center",children:"You can create contacts in your address book to associate addresses with easy to read names."})]}),Object(M.jsx)(_t,{onClick:(e,t)=>e?e.length>30?n("Max length or contact names is 30 characters"):Object(Ue.s)(t)||Object(Ue.t)(t)?void a({type:"addresses/add",payload:{name:e,address:t}}):n("Please enter a valid address or principal"):n("Please enter a valid contact name"),title:"Add contact to address book",inputLabel:"Contact Name",secondaryInput:"Contact Address",content:"Save names and addresses of common people and services.",buttonLabel:"Save",children:Object(M.jsx)(kt,{color:"primary","aria-label":"add",children:Object(M.jsx)(I.a,{})})})]})},St=a(170);const It=je.a.connect("https://boundary.ic0.app/");function At(e){const t=Object(l.c)((e=>e.currentPrincipal)),a=Object(l.c)((e=>e.principals.length?e.principals[t].identity:{})),n=Object(l.c)((e=>e.principals.length?e.principals[t].accounts:[])),i=Object(l.b)(),[c,s]=r.a.useState(!1),[o,d]=r.a.useState(0),[u,p]=r.a.useState(!1),[h,j]=r.a.useState(""),[b,m]=r.a.useState(0);r.a.useEffect((()=>{!1!==b&&It.token().getBalance(Object(Ue.o)(a.principal,b),a.principal).then((e=>{p(Number(e)/10**8)}))}),[b]);const y=t=>{e.error(t)},g=()=>{s(!1),e.loader(!1),setTimeout((()=>{d(0),p(!1),j(""),m(0)}),200)};return Object(M.jsxs)(M.Fragment,{children:[r.a.cloneElement(e.children,{onClick:()=>{1===n.length&&d(1),s(!0)}}),Object(M.jsxs)(ve.a,{open:c,onClose:g,maxWidth:"xs",fullWidth:!0,children:[0===o?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Choose an account to stake from"}),Object(M.jsx)(_e.a,{children:Object(M.jsx)(f.a,{children:n.map(((e,t)=>Object(M.jsxs)(w.a,{button:!0,onClick:()=>{m(t),d(1)},children:[Object(M.jsx)(C.a,{children:Object(M.jsx)(P.a,{children:Object(M.jsx)(q,{address:e.address})})}),Object(M.jsx)(N.a,{primaryTypographyProps:{noWrap:!0},secondaryTypographyProps:{noWrap:!0},primary:e.name,secondary:e.address})]},t)))})})]}):"",1===o?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Set the amount you want to stake"}),Object(M.jsxs)(_e.a,{children:[Object(M.jsx)(Ne.a,{style:{textAlign:"center",fontWeight:"bold"},children:"You can add more ICP to this neuron, or change neuron settings later."}),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(we.a,{fullWidth:!0,margin:"dense",label:"Amount of ICP to Stake",value:h,InputLabelProps:{shrink:!0},onChange:e=>j(e.target.value),type:"text"}),Object(M.jsxs)(Ne.a,{style:{fontSize:"small",textAlign:"center",marginTop:"20px"},children:[!1!==u?"Balance: "+u+" ICP ":"","Fee: 0.0001"]})]})]}),Object(M.jsxs)(ke.a,{children:[Object(M.jsx)(fe.a,{onClick:g,color:"primary",children:"Cancel"}),Object(M.jsx)(fe.a,{onClick:()=>isNaN(h)?y("Please enter a valid amount to send"):Number(h)+Number(1e-4)>u?y("You have insufficient ICP"):Number(h)<1?y("Min staking amount is 1 ICP"):void d(2),color:"primary",children:"Review Transaction"})]})]}):"",2===o?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(_e.a,{children:[Object(M.jsxs)(Ne.a,{style:{textAlign:"center"},children:["Please confirm that you are about to stake ",Object(M.jsx)("br",{}),Object(M.jsxs)("strong",{style:{color:"red"},children:[h," ICP"]}),Object(M.jsx)("br",{}),"from ",Object(M.jsx)("strong",{style:{color:"red"},children:at(n[b].address)}),Object(M.jsx)("br",{}),"using a fee of 0.0001"]}),Object(M.jsx)(Ne.a,{style:{textAlign:"center"},children:Object(M.jsx)("strong",{children:"All transactions are irreversible, so ensure the above details are correct before you continue."})})]}),Object(M.jsxs)(ke.a,{children:[Object(M.jsx)(fe.a,{onClick:g,color:"primary",children:"Cancel"}),Object(M.jsx)(fe.a,{onClick:()=>{e.loader(!0),s(!1);const t=Xe.getIdentity(a.principal);St.a.create(h,t,b).then((e=>{i({type:"neuron/add",payload:{neuron:e}})})).finally(g)},color:"primary",children:"Stake ICP"})]})]}):""]})]})}var Tt=a(343),Rt=a.n(Tt),Ft=a(630),Wt=a(342),Et=a.n(Wt),Bt=a(353),Dt=a(631),Vt=a(632);function Lt(e){const t=Object(l.c)((e=>e.currentPrincipal)),a=Object(l.c)((e=>e.principals.length?e.principals[t].identity:{})),[n,i]=r.a.useState(null),c=(e,t)=>e+" "+t+(1!==e?"s":""),s=e.error,o=async t=>{d();if(!Xe.getIdentity(a.principal))return s("Something wrong with your wallet, try logging in again");switch(t){case 0:e.loader(!0),await e.neuron.startDissolving(),await e.neuron.update(),e.loader(!1);break;case 1:e.loader(!0),await e.neuron.stopDissolving(),await e.neuron.update(),e.loader(!1);break;case 2:e.loader(!0),await e.neuron.disburse(),await e.neuron.update(),e.loader(!1);break;case 3:e.loader(!0),await e.neuron.spawn(),await e.neuron.update(),e.loader(!1);break;case 4:var n=Number(e.neuron.data.dissolve_delay),r=await e.showNeuronDelayForm(n);e.loader(!0),await e.neuron.increaseDissolveDelay(r),await e.neuron.update(),e.loader(!1);break;case 5:var[i,c]=await e.showNeuronTopupForm();e.loader(!0),await e.neuron.topup(i,c),await e.neuron.update(),e.loader(!1)}},d=()=>{i(null)},p=e=>e<2?"now":e<60?e+" seconds":e<3600?c(Math.round(e/60),"minute"):e<86400?c(Math.round(e/3600),"hour"):e<604800?c(Math.round(e/3600/24),"day"):e<2620800?c(Math.round(e/3600/24/7),"week"):e<31449600?c(Math.round(e/3600/24/7/(52/12)),"month"):e<251596800?c(Math.round(e/3600/24/7/52*10)/10,"year"):"8 years";return Object(M.jsx)(H.a,{style:{height:"100%"},item:!0,xl:3,lg:4,md:6,sm:12,children:Object(M.jsxs)(ue.a,{children:[Object(M.jsx)(Ft.a,{action:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(u.a,{onClick:e=>{i(e.currentTarget)},"aria-label":"settings",children:Object(M.jsx)(Et.a,{})}),Object(M.jsxs)(Bt.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:d,children:[1===e.neuron.data.state?Object(M.jsx)(Dt.a,{onClick:()=>o(0),children:"Start Dissolving"}):"",2===e.neuron.data.state?Object(M.jsx)(Dt.a,{onClick:()=>o(1),children:"Stop Dissolving"}):"",3===e.neuron.data.state&&e.neuron.data.stake>0n?Object(M.jsx)(Dt.a,{onClick:()=>o(2),children:"Disburse"}):"",e.neuron.data.maturity>0n?Object(M.jsx)(Dt.a,{onClick:()=>o(3),children:"Spawn Rewards Neuron"}):"",Object(M.jsx)(Dt.a,{onClick:()=>o(4),children:"Increase Dissolve Delay"}),Object(M.jsx)(Dt.a,{onClick:()=>o(5),children:"Top-up Neuron"})]})]}),title:Object(M.jsxs)(y.a,{style:{fontSize:14},color:"secondary",children:[1===e.neuron.data.state?Object(M.jsxs)(M.Fragment,{children:["Delay set to ",p(Number(e.neuron.data.dissolve_delay))]}):"",2===e.neuron.data.state?Object(M.jsxs)(M.Fragment,{children:["Unlocking in ",p(Number(e.neuron.data.dissolve_delay))]}):"",3===e.neuron.data.state&&0n===e.neuron.data.stake?Object(M.jsx)(M.Fragment,{children:"Neuron is empty"}):"",3===e.neuron.data.state&&e.neuron.data.stake>0n?Object(M.jsx)(M.Fragment,{children:"Ready to disburse"}):""]}),subheader:Object(M.jsxs)(y.a,{style:{fontSize:14},color:"primary",children:["#"+e.neuron.id,Object(M.jsx)(u.a,{href:"https://ic.rocks/neuron/"+e.neuron.id,target:"_blank",size:"small",edge:"end","aria-label":"copy",children:Object(M.jsx)(Z.a,{style:{fontSize:18}})})]})}),Object(M.jsx)(he.a,{children:Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(H.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"flex-start",children:[Object(M.jsxs)(H.a,{style:{height:"100%"},item:!0,md:8,children:[Object(M.jsxs)(y.a,{variant:"h5",children:[Number(e.neuron.data.stake/BigInt(10**6))/100," ICP"]}),Object(M.jsxs)(y.a,{style:{fontSize:14},color:"inherit",gutterBottom:!0,children:["Rewards: ",Number(e.neuron.data.maturity/BigInt(10**6))/100," ICP"]})]}),Object(M.jsxs)(H.a,{style:{height:"100%",textAlign:"center"},item:!0,md:4,children:[1===e.neuron.data.state?Object(M.jsx)(E.a,{style:{fontSize:52}}):"",2===e.neuron.data.state?Object(M.jsx)(Vt.a,{style:{fontSize:52}}):"",3===e.neuron.data.state&&0n===e.neuron.data.stake?Object(M.jsx)(Rt.a,{style:{fontSize:52}}):"",3===e.neuron.data.state&&e.neuron.data.stake>0n?Object(M.jsx)(F.a,{style:{fontSize:52}}):""]})]})})})]})})}var Mt=a(618),zt=a(646),qt=a(639);function Ut(e){const[t,a]=r.a.useState(!1),[n,i]=r.a.useState(10),[c,s]=r.a.useState(60),o=(e,t)=>e+" "+t+(1!==e?"s":""),l=e=>e<2?"now":e<60?e+" seconds":e<3600?o(Math.round(e/60),"minute"):e<86400?o(Math.round(e/3600),"hour"):e<604800?o(Math.round(e/3600/24),"day"):e<2620800?o(Math.round(e/3600/24/7),"week"):e<31449600?o(Math.round(e/3600/24/7/(52/12)),"month"):e<251596800?o(Math.round(e/3600/24/7/52*10)/10,"year"):"8 years";return r.a.useEffect((()=>{n*c+e.currentDelay>251596800?(a(251596800-e.currentDelay),i(Math.floor(251596800/c*100)/100)):a(n*c)}),[n,c]),Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(ve.a,{open:e.open,onClose:e.onClose,maxWidth:"xs",fullWidth:!0,children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Increase Dissolve Delay"}),Object(M.jsxs)(_e.a,{children:[Object(M.jsxs)(Ne.a,{style:{textAlign:"center"},children:["Please enter the amount you want to ",Object(M.jsx)("strong",{children:"increase your Dissolve Delay"})," - this is the length of time it takes for the ICP contained within this neuron to become available once it is set to dissolve."]}),Object(M.jsx)(we.a,{autoFocus:!0,margin:"dense",label:"Delay",value:n,onChange:e=>i(e.target.value),type:"text",style:{width:"49%",marginRight:"2%"},InputLabelProps:{shrink:!0}}),Object(M.jsxs)(Mt.a,{style:{width:"49%",top:5},children:[Object(M.jsx)(zt.a,{shrink:!0,id:"demo-simple-select-helper-label",children:"Period"}),Object(M.jsxs)(qt.a,{value:c,onChange:e=>s(e.target.value),children:[Object(M.jsx)(Dt.a,{value:60,children:"Minutes"}),Object(M.jsx)(Dt.a,{value:3600,children:"Hours"}),Object(M.jsx)(Dt.a,{value:86400,children:"Days"}),Object(M.jsx)(Dt.a,{value:604800,children:"Weeks"}),Object(M.jsx)(Dt.a,{value:2620800,children:"Months"}),Object(M.jsx)(Dt.a,{value:31536e3,children:"Years"})]})]}),Object(M.jsxs)(Ne.a,{style:{fontSize:"small",textAlign:"center",marginTop:"20px"},children:["Current Dissolve Delay: ",l(e.currentDelay)," ",Object(M.jsx)("br",{}),t?Object(M.jsxs)("strong",{children:["New Dissolve Delay: ",l(e.currentDelay+t)]}):""]})]}),Object(M.jsxs)(ke.a,{children:[Object(M.jsx)(fe.a,{onClick:e.onClose,color:"primary",children:"Cancel"}),Object(M.jsx)(fe.a,{onClick:()=>e.onSubmit(t),color:"primary",children:"Confirm Change"})]})]})})}const Kt=je.a.connect("https://boundary.ic0.app/");function Jt(e){const t=Object(l.c)((e=>e.currentPrincipal)),a=Object(l.c)((e=>e.principals.length?e.principals[t].accounts:[])),n=Object(l.c)((e=>e.principals.length?e.principals[t].identity:{})),[i,c]=r.a.useState(10),[s,o]=r.a.useState(0),[d,u]=r.a.useState(0),[p,h]=r.a.useState(!1);return r.a.useEffect((()=>{!1!==d&&Kt.token().getBalance(Object(Ue.o)(n.principal,d),n.principal).then((e=>{h(Number(e)/10**8)}))}),[d,e.open]),Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(ve.a,{open:e.open,onClose:e.onClose,maxWidth:"xs",fullWidth:!0,children:[0===s?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Choose an account to stake from"}),Object(M.jsx)(_e.a,{children:Object(M.jsx)(f.a,{children:a.map(((e,t)=>Object(M.jsxs)(w.a,{button:!0,onClick:()=>{u(t),o(1)},children:[Object(M.jsx)(C.a,{children:Object(M.jsx)(P.a,{children:Object(M.jsx)(q,{address:e.address})})}),Object(M.jsx)(N.a,{primaryTypographyProps:{noWrap:!0},secondaryTypographyProps:{noWrap:!0},primary:e.name,secondary:e.address})]},t)))})})]}):"",1===s?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Set the amount you want to stake"}),Object(M.jsxs)(_e.a,{children:[Object(M.jsx)(Ne.a,{style:{textAlign:"center",fontWeight:"bold"},children:"You can add more ICP to this neuron, or change neuron settings later."}),Object(M.jsx)(we.a,{fullWidth:!0,margin:"dense",label:"Amount of ICP to Stake",value:i,InputLabelProps:{shrink:!0},onChange:e=>c(e.target.value),type:"text"}),Object(M.jsxs)(Ne.a,{style:{fontSize:"small",textAlign:"center",marginTop:"20px"},children:[!1!==p?"Balance: "+p+" ICP ":"","Fee: 0.0001"]})]}),Object(M.jsxs)(ke.a,{children:[Object(M.jsx)(fe.a,{onClick:e.onClose,color:"primary",children:"Cancel"}),Object(M.jsx)(fe.a,{onClick:()=>e.onSubmit([d,i]),color:"primary",children:"Top-up Neuron"})]})]}):""]})})}var Ht=null;var Yt=function(e){const t=Object(l.c)((e=>e.currentPrincipal)),a=Object(l.c)((e=>e.principals.length?e.principals[t].identity:{})),n=Object(l.c)((e=>e.principals[t].neurons)),i=Object(D.a)(),c=Object(l.b)(),[s,o]=r.a.useState(!1),[d,u]=r.a.useState(!1),[p,h]=r.a.useState(0),j={root:{flexGrow:1,padding:i.spacing(3)},empty:{maxWidth:400,margin:"0 auto",paddingTop:30},grid:{flexGrow:1,padding:i.spacing(2)},largeIcon:{width:60,height:60}};r.a.useEffect((()=>{0===n.length&&b()}),[]);const b=()=>{e.loader(!0);const t=Xe.getIdentity(a.principal);if(!t)return m("Something wrong with your wallet, try logging in again");St.a.scan(t).then((e=>{c({type:"neuron/scan",payload:{neurons:e}})})).finally((()=>{e.loader(!1)}))},m=t=>{e.alert("There was an error",t)},g=()=>{h(null),o(!1)},O=e=>(o(!0),h(e),new Promise(((e,t)=>{Ht=e}))),x=()=>{u(!1)},f=()=>(u(!0),new Promise(((e,t)=>{Ht=e})));return Object(M.jsxs)("div",{style:j.root,children:[0===n.length?Object(M.jsxs)("div",{style:j.empty,children:[Object(M.jsx)(y.a,{paragraph:!0,align:"center",children:Object(M.jsx)(F.a,{style:j.largeIcon})}),Object(M.jsx)(y.a,{paragraph:!0,style:{fontWeight:"bold"},align:"center",children:"No neurons available"})]}):Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("div",{style:j.grid,children:Object(M.jsx)(H.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"flex-start",children:n.map((t=>Object(M.jsx)(Lt,{showNeuronTopupForm:f,showNeuronDelayForm:O,loader:e.loader,error:m,neuron:t},t.id)))})})}),Object(M.jsx)(At,{alert:alert,loader:e.loader,error:m,children:Object(M.jsx)(kt,{color:"primary","aria-label":"send",children:Object(M.jsx)(I.a,{})})}),Object(M.jsx)(Ut,{open:s,onSubmit:e=>{g(),Ht(e),Ht=null},onClose:g,currentDelay:p}),Object(M.jsx)(Jt,{open:d,onSubmit:e=>{x(),Ht(e),Ht=null},onClose:x})]})};var Gt=function(e){const t=Object(l.c)((e=>e.currentPrincipal)),a=Object(l.c)((e=>e.principals[t].apps)),n=Object(l.b)(),r={root:{flexGrow:1,padding:Object(D.a)().spacing(3)},empty:{maxWidth:400,margin:"0 auto"},table:{minWidth:650}};return Object(M.jsx)("div",{style:r.root,children:0===a.length?Object(M.jsx)("div",{style:r.empty,children:Object(M.jsx)(y.a,{paragraph:!0,style:{paddingTop:20,fontWeight:"bold"},align:"center",children:"You have no authorized applications yet"})}):Object(M.jsx)(ot.a,{component:ut.a,children:Object(M.jsxs)(it.a,{style:r.table,"aria-label":"simple table",children:[Object(M.jsx)(lt.a,{children:Object(M.jsxs)(dt.a,{children:[Object(M.jsx)(st.a,{width:"220",style:{fontWeight:"bold"},children:"Host"}),Object(M.jsx)(st.a,{style:{fontWeight:"bold"},children:"API Key"}),Object(M.jsx)(st.a,{width:"150",align:"right",style:{fontWeight:"bold"},children:"Actions"})]})}),Object(M.jsx)(ct.a,{children:a.map(((e,t)=>Object(M.jsxs)(dt.a,{children:[Object(M.jsx)(st.a,{children:Object(M.jsx)("a",{href:e.host,target:"_blank",rel:"noreferrer",children:e.host})}),Object(M.jsxs)(st.a,{children:[e.apikey.substr(48,80),"..."]}),Object(M.jsx)(st.a,{align:"right",children:Object(M.jsx)(ce.a,{title:"Remove from Stoic",children:Object(M.jsx)(u.a,{onClick:()=>{return t=e.host,void n({type:"app/remove",payload:{host:t}});var t},children:Object(M.jsx)(gt.a,{})})})})]},e.apikey)))})]})})})},Zt=a(633),$t=a(344),Qt=a.n($t),Xt=a(346),ea=a.n(Xt),ta=a(345),aa=a.n(ta);function na(e){const t=t=>{e.handler(t)};return Object(M.jsxs)(f.a,{component:"nav","aria-label":"secondary add principal",children:[Object(M.jsxs)(w.a,{button:!0,onClick:()=>t("create"),children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(I.a,{})}),Object(M.jsx)(N.a,{primary:e.add?"Add a new Wallet":"Create a new Wallet",secondary:e.add?"I want to add a new wallet by generating a random seed phrase":"I want to create a new wallet by generating a random seed phrase"})]}),Object(M.jsxs)(w.a,{button:!0,onClick:()=>t("import"),children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(Qt.a,{})}),Object(M.jsx)(N.a,{primary:e.add?"Add an existing Wallet":"Import an existing Wallet",secondary:e.add?"I want to recover and add an existing wallet using a seed phrase, or as a read-only wallet":"I want to recover an existing wallet using a seed phrase"})]}),Object(M.jsxs)(w.a,{button:!0,onClick:()=>t("link"),children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(F.a,{})}),Object(M.jsx)(N.a,{primary:(e.add,"Link your Internet Identitiy"),secondary:e.add?"I want to link another Wallet using an Internet Identity":"I want to link a Wallet using an Internet Identity"})]}),Object(M.jsxs)(w.a,{button:!0,onClick:()=>t("3party"),children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(aa.a,{})}),Object(M.jsx)(N.a,{primary:"Login using a trusted 3rd party via tor.us",secondary:"I want to login using a Google, Github, Facebook or Twitter account"})]}),Object(M.jsxs)(w.a,{button:!0,onClick:()=>t("connect"),children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(ea.a,{})}),Object(M.jsx)(N.a,{primary:(e.add,"Connect Hardware Wallet"),secondary:e.add?"I want to import another Wallet from my Ledger or Trezor device":"I want to import a wallet from my Ledger or Trezor device"})]})]})}var ra=a(348),ia=a.n(ra),ca=a(347),sa=a.n(ca),oa=a(175),la=a.n(oa),da=a(173),ua=a.n(da),pa=a(174),ha=a.n(pa),ja=a(172),ba=a.n(ja),ma=a(171),ya=a.n(ma),ga=a(176);const Oa=["When accessing this wallet, always type the URL into the browser address bar yourself or use a bookmark that you yourself created. Never trust links posted on social media, in search results, sent in emails or listed on other websites.","If your browser gives you any sort of security warning about this web wallet, get in touch with us and report it. Do not ignore the warning nor enter your mnemonic secret!","Only use your own devices when accessing your accounts. Do not enter your mnemonic secret on untrustworthy devices (public computers, friends computers/phones, etc) as they might be littered with malware and keyloggers.","Always keep your operating system, anti-virus software and browser up to date with latest security updates.","If possible, prefer hardware wallets over mnemonic secret for storing larger amounts of RISE."];var xa="";function fa(e){const[t,a]=r.a.useState(e.initialRoute),[n,i]=r.a.useState(""),[c,s]=r.a.useState(""),[o,l]=r.a.useState(""),[d,u]=r.a.useState(""),[p,h]=r.a.useState(""),[j,b]=r.a.useState(1),[m,{filesContent:y,clear:g}]=Object(ga.a)({accept:".pem",multiple:!1});r.a.useEffect((()=>{if(y.length>0){var t={pem:y[0].content};g(),e.submit("pem",t)}}),[y]),r.a.useEffect((()=>{a(e.initialRoute)}),[e.initialRoute]);const O=()=>{xa="",b(1),a(""),i(""),s(""),l(""),u(""),h(""),e.cancel()},x=t=>{e.alert("There was an error",t)},v=t=>{e.submit(t,{}),C()},k=()=>{var t={},a="";switch(xa){case"create":case"import":a="private",t.mnemonic=c,t.password=o;break;case"watch":a="watch",t.principal=p}e.submit(a,t),C()},C=()=>{xa="",b(1),a(""),i(""),s(""),l(""),u(""),h("")};return Object(M.jsxs)(M.Fragment,{children:["3party"===t?Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(ve.a,{hideBackdrop:e.hideBackdrop,maxWidth:"xs",fullWidth:!0,open:!0,children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Select Login Provider"}),Object(M.jsx)(_e.a,{children:Object(M.jsxs)(f.a,{component:"nav","aria-label":"secondary add principal",children:[Object(M.jsxs)(w.a,{button:!0,onClick:()=>v("google"),children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(ya.a,{})}),Object(M.jsx)(N.a,{primary:"Google",secondary:"Login using your Google account"})]}),Object(M.jsxs)(w.a,{button:!0,onClick:()=>v("github"),children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(ba.a,{})}),Object(M.jsx)(N.a,{primary:"Github",secondary:"Login using your Github account"})]}),Object(M.jsxs)(w.a,{button:!0,onClick:()=>v("twitter"),children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(ua.a,{})}),Object(M.jsx)(N.a,{primary:"Twitter",secondary:"Login using your Twitter account"})]}),Object(M.jsxs)(w.a,{button:!0,onClick:()=>v("facebook"),children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(ha.a,{})}),Object(M.jsx)(N.a,{primary:"Facebook",secondary:"Login using your Facebook account"})]})]})}),Object(M.jsx)(ke.a,{children:Object(M.jsx)(fe.a,{onClick:O,color:"primary",children:"Cancel"})})]})}):"","tips"===t?Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(ve.a,{hideBackdrop:e.hideBackdrop,maxWidth:"sm",fullWidth:!0,open:!0,children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Security Tips"}),Object(M.jsxs)(_e.a,{children:[Object(M.jsx)("p",{children:Object(M.jsx)("strong",{children:"Things to keep in mind to increase the security of your funds:"})}),Object(M.jsx)("ul",{children:Oa.map(((e,t)=>t>=j?"":Object(M.jsx)("li",{children:e},t)))})]}),Object(M.jsxs)(ke.a,{children:[Object(M.jsx)(fe.a,{onClick:O,color:"primary",children:"Cancel"}),j<Oa.length?Object(M.jsx)(fe.a,{onClick:()=>b(j+1),color:"primary",children:"Next Tip"}):Object(M.jsx)(fe.a,{onClick:()=>{b(1),a("newMnemonic"),xa="create",i(Xe.generateMnemonic())},color:"primary",children:"Continue"})]})]})}):"","import"===t?Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(ve.a,{hideBackdrop:e.hideBackdrop,maxWidth:"sm",fullWidth:!0,open:!0,children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Select Import Type"}),Object(M.jsx)(_e.a,{children:Object(M.jsxs)(f.a,{component:"nav","aria-label":"secondary add principal",children:[Object(M.jsxs)(w.a,{button:!0,onClick:()=>{a("confirmMnemonic"),xa="import"},children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(sa.a,{})}),Object(M.jsx)(N.a,{primary:"Import using a seed phrase",secondary:"Enter your mnemonic seed to recover full access to your wallet"})]}),Object(M.jsxs)(w.a,{button:!0,onClick:()=>{m()},children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(la.a,{})}),Object(M.jsx)(N.a,{primary:"Import using a PEM file",secondary:"If you have a PEM private key file you can import your wallet here"})]}),Object(M.jsxs)(w.a,{button:!0,onClick:()=>{a("address"),xa="watch"},children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(ia.a,{})}),Object(M.jsx)(N.a,{primary:"Read only account",secondary:"Enter the address of a wallet you would like to add, but not spend from"})]})]})}),Object(M.jsx)(ke.a,{children:Object(M.jsx)(fe.a,{onClick:O,color:"primary",children:"Cancel"})})]})}):"","newMnemonic"===t?Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(ve.a,{hideBackdrop:e.hideBackdrop,maxWidth:"sm",fullWidth:!0,open:!0,children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Write down your seed phrase"}),Object(M.jsxs)(_e.a,{children:[Object(M.jsx)("p",{children:Object(M.jsx)("strong",{children:"This is your 12 word seed phrase:"})}),Object(M.jsx)("div",{style:{textAlign:"center"},children:n.split(" ").map(((e,t)=>Object(M.jsxs)("span",{style:{fontSize:"large",display:"inline-block",padding:"5px 15px"},children:[e,t<11?Object(M.jsx)(M.Fragment,{children:"\xa0"}):""]},t)))}),Object(M.jsx)("p",{children:"Write your mnemonic down on a physical piece of paper and store it somewhere safe and private. Anyone who knows this can transfer funds out of your account."})]}),Object(M.jsxs)(ke.a,{children:[Object(M.jsx)(fe.a,{onClick:O,color:"primary",children:"Cancel"}),Object(M.jsx)(fe.a,{onClick:()=>a("confirmMnemonic"),color:"primary",children:"Continue"})]})]})}):"","confirmMnemonic"===t?Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(ve.a,{hideBackdrop:e.hideBackdrop,maxWidth:"sm",fullWidth:!0,open:!0,children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Confirm your mnemonic seed"}),Object(M.jsxs)(_e.a,{children:[Object(M.jsx)("p",{children:Object(M.jsx)("strong",{children:"Please confirm your 12 word seed phrase:"})}),Object(M.jsx)(we.a,{id:"standard-textarea",label:"Confirm Mnemonic Seed",multiline:!0,fullWidth:!0,value:c,rows:2,onChange:e=>s(e.target.value)})]}),Object(M.jsxs)(ke.a,{children:[Object(M.jsx)(fe.a,{onClick:O,color:"primary",children:"Cancel"}),Object(M.jsx)(fe.a,{onClick:()=>Xe.validateMnemonic(c)?"create"===xa&&c!==n?x("The mnemonic you entered does not match the one displayed"):void a("passwords"):x("The mnemonic you entered is not valid"),color:"primary",children:"Continue"})]})]})}):"","address"===t?Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(ve.a,{hideBackdrop:e.hideBackdrop,maxWidth:"sm",fullWidth:!0,open:!0,children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Enter the Principal to watch"}),Object(M.jsxs)(_e.a,{children:[Object(M.jsx)("p",{children:Object(M.jsx)("strong",{children:"Please enter a valid Principal (e.g. 4opr7-aaepd-uw2ok...)"})}),Object(M.jsx)(we.a,{id:"standard-textarea",label:"Principal",fullWidth:!0,value:p,required:!0,onChange:e=>h(e.target.value)})]}),Object(M.jsxs)(ke.a,{children:[Object(M.jsx)(fe.a,{onClick:O,color:"primary",children:"Cancel"}),Object(M.jsx)(fe.a,{onClick:()=>{if(!Xe.validatePrincipal(p))return x("Please enter a valid principal");k()},color:"primary",children:"Continue"})]})]})}):"","passwords"===t?Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(ve.a,{hideBackdrop:e.hideBackdrop,maxWidth:"sm",fullWidth:!0,open:!0,children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Enter a password"}),Object(M.jsxs)(_e.a,{children:[Object(M.jsx)("p",{children:Object(M.jsx)("strong",{children:"This password is used to further encrypt your private data on your device. Passwords must contain:"})}),Object(M.jsxs)("ul",{children:[Object(M.jsx)("li",{children:"At least 8 characters"}),Object(M.jsx)("li",{children:"At least one uppercase letter"}),Object(M.jsx)("li",{children:"At least one lowercase letter"}),Object(M.jsx)("li",{children:"At least one number"})]}),Object(M.jsx)(we.a,{id:"standard-textarea",label:"Enter Password",fullWidth:!0,required:!0,type:"password",value:o,onChange:e=>l(e.target.value),style:{marginBottom:20}}),Object(M.jsx)(we.a,{id:"standard-textarea",label:"Confirm Password",fullWidth:!0,required:!0,type:"password",value:d,onChange:e=>u(e.target.value)})]}),Object(M.jsxs)(ke.a,{children:[Object(M.jsx)(fe.a,{onClick:O,color:"primary",children:"Cancel"}),Object(M.jsx)(fe.a,{onClick:()=>o!==d?x("Your passwords do not match"):Xe.validatePassword(o)?void k():x("Password is invalid, please try again"),color:"primary",children:"Continue"})]})]})}):""]})}var wa=function(e){var t;const[a,n]=r.a.useState([]),[i,c]=r.a.useState(""),s=Object(l.b)(),o=Object(l.c)((e=>e.currentPrincipal)),d=Object(l.c)((e=>e.principals.length?e.principals[o].accounts:[])),p=Object(l.c)((e=>e.principals.length?e.principals[o].identity:{})),h=Object(l.c)((e=>e.principals));return r.a.useEffect((()=>{(()=>{var e=["ICP"];d.map((t=>(t.tokens.map((t=>(e.indexOf(t.symbol)<0&&e.push(t.symbol),!0))),!0))),n(e)})()}),[o]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(f.a,{component:"nav","aria-labelledby":"settings-list",subheader:Object(M.jsx)(Zt.a,{id:"nested-list-subheader",children:"Active Principal"}),children:Object(M.jsxs)(w.a,{children:[Object(M.jsx)(C.a,{children:Object(M.jsx)(P.a,{style:{width:60,height:60},children:Object(M.jsx)(q,{address:null!==(t=p.principal)&&void 0!==t?t:""})})}),Object(M.jsx)(N.a,{style:{paddingLeft:20},primaryTypographyProps:{noWrap:!0},primary:Object(M.jsxs)(M.Fragment,{children:[p.principal,Object(M.jsx)(de,{message:"Principal Copied",anchorOrigin:{vertical:"bottom",horizontal:"left"},onClick:()=>tt(p.principal),children:Object(M.jsx)(u.a,{size:"small",edge:"end","aria-label":"edit",children:Object(M.jsx)(ee.a,{style:{fontSize:18}})})})]}),secondary:Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(M.Fragment,{children:[et[p.type],Object(M.jsx)("br",{}),d.length+(1===d.length?" Account":" Accounts")," containing ",a.join(", ")]})})}),Object(M.jsx)(Y.a,{children:Object(M.jsx)(u.a,{href:"https://ic.rocks/principal/"+p.principal,target:"_blank",edge:"end","aria-label":"search",children:Object(M.jsx)(Z.a,{})})})]})}),Object(M.jsx)(g.a,{}),h.length>1?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(f.a,{component:"nav","aria-labelledby":"settings-list",subheader:Object(M.jsx)(Zt.a,{id:"nested-list-subheader",children:"Other Principals"}),children:h.map(((t,a)=>{var n;return a===o?"":Object(M.jsxs)(w.a,{button:!0,onClick:()=>{return t=a,void e.confirm("Please confirm","You are about to lock your current Principal and switch to another one. Are you sure you want to continue?").then((e=>{e&&Xe.lock(h[o].identity).then((e=>{s({type:"currentPrincipal",payload:{index:t}})}))}));var t},children:[Object(M.jsx)(C.a,{children:Object(M.jsx)(P.a,{children:Object(M.jsx)(q,{address:null!==(n=t.identity.principal)&&void 0!==n?n:""})})}),Object(M.jsx)(N.a,{primaryTypographyProps:{noWrap:!0},primary:Object(M.jsx)(M.Fragment,{children:t.identity.principal}),secondary:Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(M.Fragment,{children:et[t.identity.type]})})}),Object(M.jsxs)(Y.a,{children:[Object(M.jsx)(u.a,{onClick:()=>tt(t.identity.principal),edge:"end",children:Object(M.jsx)(ee.a,{})}),Object(M.jsx)(u.a,{href:"https://ic.rocks/principal/"+t.identity.principal,target:"_blank",edge:"end","aria-label":"search",children:Object(M.jsx)(Z.a,{})}),h.length>1?Object(M.jsx)(u.a,{onClick:()=>(t=>{e.confirm("Please confirm","You are about to remove this Principal, which will remove all data regarding this wallet from this device. Are you sure you want to continue?").then((e=>{e&&s({type:"deletewallet",payload:{index:t}})}))})(a),edge:"end","aria-label":"search",children:Object(M.jsx)(gt.a,{})}):""]})]},t.identity.principal)}))}),Object(M.jsx)(g.a,{})," "]}):"",Object(M.jsx)(na,{add:!0,handler:t=>{switch(t){case"create":c("tips");break;case"import":c("import");break;case"link":e.loader(!0),Xe.change(p,"ii").then((t=>{s({type:"addwallet",payload:{identity:t}}),e.loader(!1)})).catch((t=>{e.loader(!1)}));break;case"3party":c("3party");break;case"connect":a="Hardware wallet support is coming soon!",e.alert("There was an error",a)}var a}}),Object(M.jsx)(g.a,{}),Object(M.jsx)(f.a,{component:"nav","aria-labelledby":"settings-list",subheader:Object(M.jsx)(Zt.a,{id:"nested-list-subheader",children:"Advanced Settings"}),children:Object(M.jsx)(w.a,{button:!0,onClick:()=>{e.confirm("Please confirm","You are about to clear your wallet, which will remove ALL data from this device. Are you sure you want to continue?").then((t=>{t&&e.clearWallet()}))},children:Object(M.jsx)(N.a,{primaryTypographyProps:{noWrap:!0,color:"error"},primary:"Remove all wallets from this device"})})}),Object(M.jsx)(fa,{alert:e.alert,initialRoute:i,cancel:e=>{c("")},submit:(t,a)=>{e.loader(!0),Xe.change(p,t,a).then((e=>{s({type:"addwallet",payload:{identity:e}})})).catch((e=>{})).finally((()=>{e.loader(!1),c("")}))}})]})};const va=Object(B.a)((e=>({root:{display:"flex"},appBar:{[e.breakpoints.up("sm")]:{width:"calc(100% - 300px)",marginLeft:300}},menuButton:{marginRight:e.spacing(2),[e.breakpoints.up("sm")]:{display:"none"}},toolbar:e.mixins.toolbar,toolbarButtons:{marginLeft:"auto"},content:{flexGrow:1}}))),ka={accountDetail:{title:"Account Details",view:Ct},neurons:{title:"Neuron Management",view:Yt},applications:{title:"Applications",view:Gt},addressBook:{title:"Address Book",view:Pt},settings:{title:"Settings",view:wa}};var _a=function(e){const t=va(),[a,n]=r.a.useState(!1),[i,c]=r.a.useState("accountDetail"),[o,p]=r.a.useState(ka[i].title),j=Object(l.b)(),g=()=>{n(!a)},O=(e,t)=>{p(ka[e].title),c(e),"undefined"!==typeof t&&j({type:"currentAccount",payload:{index:t}})},x=()=>{e.logout()},f=()=>{e.remove()};return Object(M.jsxs)("div",{className:t.root,children:[Object(M.jsx)(s.a,{}),Object(M.jsx)(d.a,{position:"fixed",className:t.appBar,children:Object(M.jsxs)(m.a,{children:[Object(M.jsx)(u.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:g,className:t.menuButton,children:Object(M.jsx)(h.a,{})}),Object(M.jsx)(y.a,{variant:"h6",noWrap:!0,children:o}),Object(M.jsx)("div",{className:t.toolbarButtons,children:Object(M.jsx)(u.a,{color:"inherit","aria-label":"settings",edge:"end",onClick:()=>O("settings"),children:Object(M.jsx)(b.a,{})})})]})}),Object(M.jsx)(J,{lockWallet:x,changeRoute:O,onClose:g,open:a}),Object(M.jsxs)("main",{className:t.content,children:[Object(M.jsx)("div",{className:t.toolbar}),(t=>{switch(t){case"accountDetail":return r.a.createElement(ka[t].view,{alert:e.alert,confirm:e.confirm,loader:e.loader});case"settings":return r.a.createElement(ka[t].view,{alert:e.alert,confirm:e.confirm,loader:e.loader,clearWallet:f,lockWallet:x});case"neurons":case"applications":return r.a.createElement(ka[t].view,{alert:e.alert,confirm:e.confirm,loader:e.loader});default:return r.a.createElement(ka[t].view,{alert:e.alert,confirm:e.confirm})}})(i)]})]})};var Na=function(e){const[t,a]=r.a.useState(!0),[n,i]=r.a.useState(""),c=Object(l.b)();return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(ve.a,{hideBackdrop:!0,maxWidth:"sm",fullWidth:!0,open:t,children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:Object(M.jsx)("img",{style:{maxHeight:"80px",marginTop:"5px"},alt:"Stoic Wallet by Toniq Labs",src:"logo.png"})}),Object(M.jsx)(_e.a,{children:Object(M.jsx)(na,{handler:t=>{switch(a(!1),t){case"create":i("tips");break;case"import":i("import");break;case"3party":i("3party");break;case"link":e.loader(!0),Xe.setup("ii").then((t=>{c({type:"createwallet",payload:{identity:t}}),e.login(),e.loader(!1),a(!0)})).catch((e=>{console.log(e)})).finally((()=>{a(!0),e.loader(!1)}));break;case"connect":n="Hardware wallet support is coming soon!",e.alert("There was an error",n),a(!0)}var n}})})]}),Object(M.jsx)(fa,{hideBackdrop:!0,alert:e.alert,initialRoute:n,cancel:e=>{i(""),a(!0)},submit:(t,n)=>{e.loader(!0),Xe.setup(t,n).then((t=>{c({type:"createwallet",payload:{identity:t}}),e.login()})).catch((e=>{console.log(e)})).finally((()=>{setTimeout((()=>{a(!0),e.loader(!1)}),2e3)}))}})]})};var Ca=function(e){const t=Object(l.c)((e=>e.principals)),a=Object(l.c)((e=>e.currentPrincipal)),n=Object(l.c)((e=>e.principals.length?e.principals[a].identity:{})),[i,c]=r.a.useState(!0),[s,o]=r.a.useState(!1),[d,u]=r.a.useState(""),p=Object(l.b)(),[h,j]=Object(ga.a)({accept:".pem",multiple:!1});r.a.useEffect((()=>{if(j.filesContent.length>0){var t={pem:j.filesContent[0].content};j.clear(),Xe.unlock(n,t).then((t=>{e.login()})).catch((e=>{console.log(e)})).finally((()=>{c(!0)}))}}),[j.filesContent]);const b=t=>{e.alert("There was an error",t)},m=()=>{e.confirm("Please confirm","You are about to clear your wallet, which will remove all data from this device. Are you sure you want to continue?").then((t=>{t&&(c(!1),e.remove())}))},y=()=>{o(!0)},g=()=>{e.loader(!0),c(!1),Xe.unlock(n).then((t=>{e.login()})).catch((e=>{})).finally((()=>{setTimeout((()=>{c(!0),e.loader(!1)}),2e3)}))};return Object(M.jsx)(M.Fragment,{children:s?Object(M.jsxs)(ve.a,{hideBackdrop:!0,maxWidth:"sm",fullWidth:!0,open:i,children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Select a Principal"}),Object(M.jsx)(_e.a,{children:Object(M.jsx)(f.a,{component:"nav","aria-labelledby":"settings-list",children:t.map(((e,t)=>{var a;return Object(M.jsxs)(w.a,{button:!0,onClick:()=>(p({type:"currentPrincipal",payload:{index:t}}),void o(!1)),children:[Object(M.jsx)(C.a,{children:Object(M.jsx)(P.a,{children:Object(M.jsx)(q,{address:null!==(a=e.identity.principal)&&void 0!==a?a:""})})}),Object(M.jsx)(N.a,{primaryTypographyProps:{noWrap:!0},primary:e.identity.principal,secondary:Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(M.Fragment,{children:et[e.identity.type]})})})]},e.identity.principal)}))})})]}):Object(M.jsxs)(M.Fragment,{children:["ii"===n.type?Object(M.jsxs)(ve.a,{hideBackdrop:!0,maxWidth:"sm",fullWidth:!0,open:i,children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Unlock your Wallet"}),Object(M.jsx)(_e.a,{children:Object(M.jsx)(f.a,{component:"nav","aria-label":"secondary add principal",children:Object(M.jsxs)(w.a,{button:!0,onClick:g,children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(F.a,{})}),Object(M.jsx)(N.a,{primary:"Re-authenticate your Internet Identity",secondary:"We need to authenticate your Internet Identity"})]})})}),Object(M.jsxs)(ke.a,{children:[t.length>1?Object(M.jsx)(fe.a,{onClick:y,color:"primary",children:"Change Account"}):"",Object(M.jsx)(fe.a,{onClick:m,color:"primary",children:"Clear Wallet"})]})]}):"","pem"===n.type?Object(M.jsxs)(ve.a,{hideBackdrop:!0,maxWidth:"sm",fullWidth:!0,open:i,children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Unlock your Wallet"}),Object(M.jsx)(_e.a,{children:Object(M.jsx)(f.a,{component:"nav","aria-label":"secondary add principal",children:Object(M.jsxs)(w.a,{button:!0,onClick:()=>{h()},children:[Object(M.jsx)(_.a,{children:Object(M.jsx)(la.a,{})}),Object(M.jsx)(N.a,{primary:"Select your PEM file to access your wallet",secondary:"We need to authenticate your PEM file"})]})})}),Object(M.jsxs)(ke.a,{children:[t.length>1?Object(M.jsx)(fe.a,{onClick:y,color:"primary",children:"Change Account"}):"",Object(M.jsx)(fe.a,{onClick:m,color:"primary",children:"Clear Wallet"})]})]}):"","private"===n.type?Object(M.jsxs)(ve.a,{hideBackdrop:!0,maxWidth:"sm",fullWidth:!0,open:i,children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Unlock your Wallet"}),Object(M.jsxs)(_e.a,{children:[Object(M.jsx)("p",{children:Object(M.jsx)("strong",{children:"Enter your password to unlock your wallet."})}),Object(M.jsx)(we.a,{id:"standard-textarea",label:"Enter Password",fullWidth:!0,required:!0,type:"password",value:d,onChange:e=>u(e.target.value)})]}),Object(M.jsxs)(ke.a,{children:[t.length>1?Object(M.jsx)(fe.a,{onClick:y,color:"primary",children:"Change Account"}):"",Object(M.jsx)(fe.a,{onClick:m,color:"primary",children:"Clear Wallet"}),Object(M.jsx)(fe.a,{onClick:()=>{if(!Xe.validatePassword(d))return b("Password is invalid, please try again");e.loader(!0),c(!1),Xe.unlock(n,{password:d}).then((t=>{e.login()})).catch((e=>(u(""),b("You entered an incorrect password")))).finally((()=>{c(!0),e.loader(!1)}))},color:"primary",children:"Unlock"})]})]}):"",["google","twitter","facebook","github"].indexOf(n.type)>=0?Object(M.jsxs)(ve.a,{hideBackdrop:!0,maxWidth:"sm",fullWidth:!0,open:i,children:[Object(M.jsx)(Ce.a,{id:"form-dialog-title",style:{textAlign:"center"},children:"Unlock your Wallet"}),Object(M.jsx)(_e.a,{children:Object(M.jsx)(f.a,{component:"nav","aria-label":"secondary add principal",children:Object(M.jsxs)(w.a,{button:!0,onClick:g,children:[Object(M.jsxs)(_.a,{children:["google"===n.type?Object(M.jsx)(ya.a,{}):"","twitter"===n.type?Object(M.jsx)(ua.a,{}):"","facebook"===n.type?Object(M.jsx)(ha.a,{}):"","github"===n.type?Object(M.jsx)(ba.a,{}):""]}),Object(M.jsx)(N.a,{primary:"Login to your "+(([e,...t],a=navigator.language)=>e.toLocaleUpperCase(a)+t.join(""))(n.type)+" account",secondary:"We need to authenticate your account to continue"})]})})}),Object(M.jsxs)(ke.a,{children:[t.length>1?Object(M.jsx)(fe.a,{onClick:y,color:"primary",children:"Change Account"}):"",Object(M.jsx)(fe.a,{onClick:m,color:"primary",children:"Clear Wallet"})]})]}):""]})})},Pa=a(559);function Sa(e){var t;return Object(M.jsxs)(ve.a,{open:e.open,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(M.jsx)(Ce.a,{id:"alert-dialog-title",children:e.title}),Object(M.jsx)(_e.a,{children:Object(M.jsx)(Ne.a,{id:"alert-dialog-description",children:e.message})}),Object(M.jsx)(ke.a,{children:Object(M.jsx)(fe.a,{onClick:function(){"undefined"!=typeof e.handler&&e.handler()},color:"primary",children:null!==(t=e.buttonLabel)&&void 0!==t?t:"OK"})})]})}function Ia(e){var t,a,n=function(t){"undefined"!=typeof e.handler&&e.handler(t)};return Object(M.jsxs)(ve.a,{open:e.open,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(M.jsx)(Ce.a,{id:"alert-dialog-title",children:e.title}),Object(M.jsx)(_e.a,{children:Object(M.jsx)(Ne.a,{id:"alert-dialog-description",children:e.message})}),Object(M.jsxs)(ke.a,{children:[Object(M.jsx)(fe.a,{onClick:function(){return n(!1)},color:"primary",children:null!==(t=e.buttonCancel)&&void 0!==t?t:"Cancel"}),Object(M.jsx)(fe.a,{onClick:function(){return n(!0)},color:"primary",children:null!==(a=e.buttonConfirm)&&void 0!==a?a:"Confirm"})]})]})}const Aa=Object(B.a)((e=>({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}))),Ta={title:"",message:""};function Ra(){const e=Aa(),[t,a]=r.a.useState(!1),[n,i]=r.a.useState(!1),c=Object(l.c)((e=>e.principals)),s=Object(l.c)((e=>e.currentPrincipal)),o=Object(l.b)(),[d,u]=r.a.useState(Ta),[p,h]=r.a.useState(Ta),[j,b]=r.a.useState(!1),[m,y]=r.a.useState(!1),g=()=>{w(!0),Xe.clear(c[s].identity).then((e=>{i(0),w(!1),setTimeout((()=>{o({type:"removewallet"})}),1e3)}))},O=()=>{0===c.length?i(0):(w(!0),Xe.load(c[s].identity).then((e=>{i(2)})).catch((e=>{i(1)})).finally((()=>w(!1))))},x=(e,t,a)=>new Promise((async(n,r)=>{u({title:e,message:t,buttonLabel:a,handler:()=>{b(!1),n(!0),setTimeout((()=>u(Ta)),100)}}),b(!0)})),f=(e,t,a,n)=>new Promise((async(r,i)=>{h({title:e,message:t,buttonCancel:a,buttonConfirm:n,handler:e=>{y(!1),r(e),setTimeout((()=>h(Ta)),100)}}),y(!0)}));r.a.useEffect((()=>{O()}),[]),r.a.useEffect((()=>{O()}),[s,c]);const w=e=>{a(e)};return Object(M.jsxs)(M.Fragment,{children:[0===n?Object(M.jsx)(Na,{alert:x,confirm:f,login:O,loader:w}):"",1===n?Object(M.jsx)(Ca,{alert:x,confirm:f,login:O,remove:g,loader:w}):"",2===n?Object(M.jsx)(_a,{alert:x,confirm:f,logout:()=>{w(!0),Xe.lock(c[s].identity).then((e=>{i(1),O()})).finally((()=>{w(!1)}))},remove:g,loader:w}):"",Object(M.jsx)(Pa.a,{className:e.backdrop,open:t,children:Object(M.jsx)(Vt.a,{color:"inherit"})}),Object(M.jsx)(Sa,{open:j,title:d.title,message:d.message,buttonLabel:d.buttonLabel,handler:d.handler}),Object(M.jsx)(Ia,{open:m,title:p.title,message:p.message,buttonCancel:p.buttonCancel,buttonConfirm:p.buttonConfirm,handler:p.handler})]})}var Fa=a(354),Wa={principals:[],addresses:[],currentPrincipal:0,currentAccount:0,currentToken:0};function Ea(){var e=localStorage.getItem("_db");if(e){e=JSON.parse(e);var t=!1;return t=!0,Array.isArray(e)||(e=[[e],[],[0,0,0]],console.log("Converting old DB to new"),t=!0),2===e.length&&(e[2]=[0,0,0],t=!0),e[0].map((e=>{var t={accounts:[],neurons:[],apps:[],identity:e.identity};return e.accounts.map(((a,n)=>{var r;return 2===a.length&&(a[2]=[]),t.accounts.push({name:a[0],address:Object(Ue.o)(e.identity.principal,n),tokens:[{id:Ue.c,name:"Internet Computer",symbol:"ICP",decimals:8},...a[1]],nfts:null!==(r=a[2])&&void 0!==r?r:[]}),!0})),e.hasOwnProperty("apps")||(e.apps=[]),e.apps.map((e=>(t.apps.push(e),!0))),Wa.principals.push(t),!0})),Wa.addresses=e[1],Wa.currentPrincipal=e[2][0],Wa.currentAccount=e[2][1],Wa.currentToken=e[2][2],t&&Ba(Wa),Wa}}function Ba(e){var t=[[],e.addresses,[e.currentPrincipal,e.currentAccount,e.currentToken]];return e.principals.map((e=>{var a={accounts:[],neurons:[],apps:[],identity:e.identity};return e.accounts.map((e=>{var t=[e.name,[],e.nfts];return e.tokens.map(((e,a)=>0!==a&&(t[1].push(e),!0))),a.accounts.push(t),!0})),e.apps.map((e=>(a.apps.push(e),!0))),t[0].push(a),!0})),localStorage.setItem("_db",JSON.stringify(t)),Wa=e,e}Ea();var Da=Object(Fa.a)((function(e=Wa,t){switch(t.type){case"app/edit":return Ba({...e,principals:e.principals.map(((a,n)=>n===e.currentPrincipal?{...a,apps:a.apps.map((e=>e.host===t.payload.app.host?{...e,apikey:t.payload.app.apikey}:e))}:a))});case"app/add":return Ba({...e,principals:e.principals.map(((a,n)=>n===e.currentPrincipal?{...a,apps:[...a.apps,t.payload.app]}:a))});case"app/remove":return Ba({...e,principals:e.principals.map(((a,n)=>n===e.currentPrincipal?{...a,apps:a.apps.filter((e=>e&&e.host!==t.payload.host))}:a))});case"neuron/add":return Ba({...e,principals:e.principals.map(((a,n)=>n===e.currentPrincipal?{...a,neurons:[...a.neurons,t.payload.neuron]}:a))});case"neuron/scan":return Ba({...e,principals:e.principals.map(((a,n)=>n===e.currentPrincipal?{...a,neurons:t.payload.neurons}:a))});case"account/nft/remove":return Ba({...e,principals:e.principals.map(((a,n)=>n===e.currentPrincipal?{...a,accounts:a.accounts.map(((a,n)=>n===e.currentAccount?{...a,nfts:a.nfts.filter((e=>e&&e.id!==t.payload.id))}:a))}:a))});case"removewallet":return function(){localStorage.removeItem("_db");var e={principals:[],addresses:[],currentPrincipal:0,currentAccount:0,currentToken:0};return Wa=e,e}();case"createwallet":return function(e){var t=[[{accounts:[["Main",[],[]]],identity:e,neurons:[],apps:[]}],[],[0,0,0]];return localStorage.setItem("_db",JSON.stringify(t)),Ea()}(t.payload.identity);case"deletewallet":return Ba({...e,currentPrincipal:e.currentPrincipal>t.payload.index?e.currentPrincipal-1:e.currentPrincipal,principals:e.principals.filter(((e,a)=>a!==t.payload.index))});case"addwallet":var a=e.principals.length;return Ba({...e,principals:[...e.principals,{accounts:[{name:"Main",address:Object(Ue.o)(t.payload.identity.principal,0),tokens:[{id:Ue.c,name:"Internet Computer",symbol:"ICP",decimals:8,type:"fungible"}],nfts:[]}],identity:t.payload.identity,neurons:[],apps:[]}],currentPrincipal:a});case"currentPrincipal":return Ba({...e,currentToken:0,currentAccount:0,currentPrincipal:t.payload.index});case"currentAccount":return Ba({...e,currentToken:0,currentAccount:t.payload.index});case"currentToken":return Ba({...e,currentToken:t.payload.index});case"account/edit":return Ba({...e,principals:e.principals.map(((a,n)=>n===e.currentPrincipal?{...a,accounts:a.accounts.map(((a,n)=>n===e.currentAccount?{...a,name:t.payload.name}:a))}:a))});case"account/add":return Ba({...e,principals:e.principals.map(((a,n)=>n===e.currentPrincipal?{...a,accounts:[...a.accounts,{name:"Account "+t.payload.id,address:Object(Ue.o)(t.payload.principal,t.payload.id),tokens:[{name:"Internet Computer",symbol:"ICP",decimals:8}],nfts:[]}]}:a))});case"account/token/add":return Ba({...e,principals:e.principals.map(((a,n)=>n===e.currentPrincipal?{...a,accounts:a.accounts.map(((a,n)=>n===e.currentAccount?{...a,tokens:[...a.tokens,t.payload.metadata]}:a))}:a))});case"account/nft/add":return Ba({...e,principals:e.principals.map(((a,n)=>n===e.currentPrincipal?{...a,accounts:a.accounts.map(((a,n)=>n===e.currentAccount?{...a,nfts:[...a.nfts,t.payload.nft]}:a))}:a))});case"addresses/add":return Ba({...e,addresses:[...e.addresses,t.payload]});case"addresses/edit":return Ba({...e,addresses:e.addresses.map(((e,a)=>a===t.payload.index?{name:t.payload.name,address:t.payload.address}:e))});case"addresses/delete":return Ba({...e,addresses:e.addresses.filter(((e,a)=>a!==t.payload))})}return e})),Va=a(177),La=a(351);var Ma=Object(La.a)({palette:{primary:{main:"#003240"},secondary:{main:"#00b894"},error:{main:Va.a.A400},background:{default:"#fafafa"}},overrides:{MuiCssBaseline:{"@global":{body:{backgroundImage:"url(./bg.png)"}}},MuiIconButton:{label:{color:"#00b894"}},MuiAvatar:{colorDefault:{backgroundColor:"#00b894",color:"white"}},MuiListItemIcon:{root:{color:"#00b894"}}}});a(555);if(null!==new URLSearchParams(window.location.search).get("stoicTunnel")){const e=e=>{const t=new Uint8Array(e.length/2);for(let a=0;a<e.length;a+=2)t[a/2]=parseInt(e.substring(a,a+2),16);return t};function za(e){return[...new Uint8Array(e)].map((e=>e.toString(16).padStart(2,"0"))).join("")}const t=(e,t,a)=>{window.parent.postMessage({action:e.data.action,listener:e.data.listener,target:"STOIC-EXT",success:t,data:a},"*")},a=async(t,a,n)=>{var r=(new TextEncoder).encode(t),i=await window.crypto.subtle.importKey("spki",e(a),{name:"ECDSA",namedCurve:"P-384"},!0,["verify"]);return await window.crypto.subtle.verify({name:"ECDSA",hash:{name:"SHA-384"}},i,e(n),r)};window.addEventListener("message",(async function(n){if(n&&n.data&&"STOIC-IFRAME"===n.data.target){const r=Da.getState(),i=r.principals[r.currentPrincipal];i.identity.principal===n.data.principal?i.apps.filter((e=>e.apikey===n.data.apikey)).length>0?Xe.load(i.identity).then((async()=>{var r=Xe.getIdentity(n.data.principal);if(r)if(await a(n.data.payload,n.data.apikey,n.data.sig)){var i={signed:za(await r.sign(e(n.data.payload)))};r.hasOwnProperty("_delegation")&&(i.chain=r.getDelegation().toJSON()),t(n,!0,JSON.stringify(i)),n.data.action}else t(n,!1,"Invalid signature for payload");else t(n,!1,"The principal is not unlocked")})).catch((e=>{t(n,!1,e)})):t(n,!1,"API key is not valid for this principal"):t(n,!1,"Incorrect Principal is logged in")}}),!1)}else c.a.render(Object(M.jsx)(l.a,{store:Da,children:Object(M.jsxs)(o.a,{theme:Ma,children:[Object(M.jsx)(s.a,{}),Object(M.jsx)(Ra,{})]})}),document.querySelector("#root"))},9:function(e,t,a){"use strict";(function(e){a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return d})),a.d(t,"a",(function(){return u})),a.d(t,"k",(function(){return m})),a.d(t,"e",(function(){return y})),a.d(t,"p",(function(){return p})),a.d(t,"o",(function(){return g})),a.d(t,"l",(function(){return O})),a.d(t,"i",(function(){return x})),a.d(t,"q",(function(){return f})),a.d(t,"r",(function(){return w})),a.d(t,"j",(function(){return v})),a.d(t,"n",(function(){return k})),a.d(t,"h",(function(){return _})),a.d(t,"g",(function(){return N})),a.d(t,"m",(function(){return C})),a.d(t,"f",(function(){return j})),a.d(t,"s",(function(){return P})),a.d(t,"t",(function(){return S}));var n=a(10),r=a(44),i=a(165),c=a(166),s=a(330);const o="ryjl3-tyaaa-aaaaa-aaaba-cai",l="rrkah-fqaaa-aaaaa-aaaaq-cai",d="qoctq-giaaa-aaaaa-aaaea-cai",u="rkp4c-7iaaa-aaaaa-aaaca-cai",p=new s.a,h=a(419),j=a(511),b=a(145),m=e=>{var t=Array.from(n.d.fromText(e).toBlob());return[t.length,...t]},y=(e,t)=>e=e<1?BigInt(e*10**t):BigInt(e)*BigInt(10**t),g=(t,a)=>{const r=e("\naccount-id"),s=new Uint8Array([...r,...n.d.fromText(t).toBlob(),...O(a)]),o=Object(c.a)(s),l=f(Object(i.a)(o)),d=new Uint8Array([...l,...o]);return w(d)},O=e=>Array.isArray(e)?e.concat(Array(32-e.length).fill(0)):Array(28).fill(0).concat(f(e||0)),x=e=>{for(var t,a=0;a<4;a++)t=t<<8|e[a];return t},f=e=>{let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e),Array.from(new Uint8Array(t))},w=e=>Array.from(e,(function(e){return("0"+(255&e).toString(16)).slice(-2)})).join(""),v=e=>{"0x"===e.substr(0,2)&&(e=e.substr(2));for(var t=[],a=0;a<e.length;a+=2)t.push(parseInt(e.substr(a,2),16));return t},k=e=>{var t=j.mnemonicToSeedSync(e);return t=(t=Array.from(t)).splice(0,32),t=new Uint8Array(t),r.d.generate(t)},_=(e,t,a)=>new Promise(((n,r)=>{b.pbkdf2(a,t,3e4,512,"sha512",((t,a)=>{if(t)return r(t);n(h.encrypt(a.toString(),btoa(e)))}))})),N=(e,t,a)=>new Promise(((n,r)=>{b.pbkdf2(a,t,3e4,512,"sha512",((t,a)=>{if(t)return r(t);try{n(atob(h.decrypt(a.toString(),e)))}catch(t){r(t)}}))})),C=e=>/^[0-9a-fA-F]+$/.test(e),P=e=>C(e)&&64===e.length,S=e=>{try{return e===n.d.fromText(e).toText()}catch(t){return!1}}}).call(this,a(4).Buffer)}},[[556,1,2]]]);
//# sourceMappingURL=main.82bda31b.chunk.js.map